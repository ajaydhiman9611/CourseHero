(function($){var _={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(str){return!str||/^\s*$/.test(str)},escapeRegExChars:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(obj){return typeof obj==="string"},isNumber:function(obj){return typeof obj==="number"},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(obj){return typeof obj==="undefined"},bind:$.proxy,each:function(collection,cb){$.each(collection,reverseArgs);function reverseArgs(index,value){return cb(value,index)}},map:$.map,filter:$.grep,every:function(obj,test){var result=true;if(!obj){return result}$.each(obj,function(key,val){if(!(result=test.call(null,val,key,obj))){return false}});return!!result},some:function(obj,test){var result=false;if(!obj){return result}$.each(obj,function(key,val){if(result=test.call(null,val,key,obj)){return false}});return!!result},mixin:$.extend,getUniqueId:function(){var counter=0;return function(){return counter++}}(),templatify:function templatify(obj){return $.isFunction(obj)?obj:template;function template(){return String(obj)}},defer:function(fn){setTimeout(fn,0)},debounce:function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments,later,callNow;later=function(){timeout=null;if(!immediate){result=func.apply(context,args)}};callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args)}return result}},throttle:function(func,wait){var context,args,timeout,result,previous,later;previous=0;later=function(){previous=new Date;timeout=null;result=func.apply(context,args)};return function(){var now=new Date,remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args)}else if(!timeout){timeout=setTimeout(later,remaining)}return result}},noop:function(){}};var VERSION="0.10.2";var tokenizers=function(root){return{nonword:nonword,whitespace:whitespace,obj:{nonword:getObjTokenizer(nonword),whitespace:getObjTokenizer(whitespace)}};function whitespace(s){return s.split(/\s+/)}function nonword(s){return s.split(/\W+/)}function getObjTokenizer(tokenizer){return function setKey(key){return function tokenize(o){return tokenizer(o[key])}}}}();var LruCache=function(){function LruCache(maxSize){this.maxSize=maxSize||100;this.size=0;this.hash={};this.list=new List}_.mixin(LruCache.prototype,{set:function set(key,val){var tailItem=this.list.tail,node;if(this.size>=this.maxSize){this.list.remove(tailItem);delete this.hash[tailItem.key]}if(node=this.hash[key]){node.val=val;this.list.moveToFront(node)}else{node=new Node(key,val);this.list.add(node);this.hash[key]=node;this.size++}},get:function get(key){var node=this.hash[key];if(node){this.list.moveToFront(node);return node.val}}});function List(){this.head=this.tail=null}_.mixin(List.prototype,{add:function add(node){if(this.head){node.next=this.head;this.head.prev=node}this.head=node;this.tail=this.tail||node},remove:function remove(node){node.prev?node.prev.next=node.next:this.head=node.next;node.next?node.next.prev=node.prev:this.tail=node.prev},moveToFront:function(node){this.remove(node);this.add(node)}});function Node(key,val){this.key=key;this.val=val;this.prev=this.next=null}return LruCache}();var PersistentStorage=function(){var ls,methods;try{ls=window.localStorage;ls.setItem("~~~","!");ls.removeItem("~~~")}catch(err){ls=null}function PersistentStorage(namespace){this.prefix=["__",namespace,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}if(ls&&window.JSON){methods={_prefix:function(key){return this.prefix+key},_ttlKey:function(key){return this._prefix(key)+this.ttlKey},get:function(key){if(this.isExpired(key)){this.remove(key)}return decode(ls.getItem(this._prefix(key)))},set:function(key,val,ttl){if(_.isNumber(ttl)){ls.setItem(this._ttlKey(key),encode(now()+ttl))}else{ls.removeItem(this._ttlKey(key))}return ls.setItem(this._prefix(key),encode(val))},remove:function(key){ls.removeItem(this._ttlKey(key));ls.removeItem(this._prefix(key));return this},clear:function(){var i,key,keys=[],len=ls.length;for(i=0;i<len;i++){if((key=ls.key(i)).match(this.keyMatcher)){keys.push(key.replace(this.keyMatcher,""))}}for(i=keys.length;i--;){this.remove(keys[i])}return this},isExpired:function(key){var ttl=decode(ls.getItem(this._ttlKey(key)));return _.isNumber(ttl)&&now()>ttl?true:false}}}else{methods={get:_.noop,set:_.noop,remove:_.noop,clear:_.noop,isExpired:_.noop}}_.mixin(PersistentStorage.prototype,methods);return PersistentStorage;function now(){return(new Date).getTime()}function encode(val){return JSON.stringify(_.isUndefined(val)?null:val)}function decode(val){return JSON.parse(val)}}();var Transport=function(){var pendingRequestsCount=0,pendingRequests={},maxPendingRequests=6,requestCache=new LruCache(10);function Transport(o){o=o||{};this._send=o.transport?callbackToDeferred(o.transport):$.ajax;this._get=o.rateLimiter?o.rateLimiter(this._get):this._get}Transport.setMaxPendingRequests=function setMaxPendingRequests(num){maxPendingRequests=num};Transport.resetCache=function clearCache(){requestCache=new LruCache(10)};_.mixin(Transport.prototype,{_get:function(url,o,cb){var that=this,jqXhr;if(jqXhr=pendingRequests[url]){jqXhr.done(done).fail(fail)}else if(pendingRequestsCount<maxPendingRequests){pendingRequestsCount++;pendingRequests[url]=this._send(url,o).done(done).fail(fail).always(always)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function done(resp){cb&&cb(null,resp);requestCache.set(url,resp)}function fail(){cb&&cb(true)}function always(){pendingRequestsCount--;delete pendingRequests[url];if(that.onDeckRequestArgs){that._get.apply(that,that.onDeckRequestArgs);that.onDeckRequestArgs=null}}},get:function(url,o,cb){var resp;if(_.isFunction(o)){cb=o;o={}}if(resp=requestCache.get(url)){_.defer(function(){cb&&cb(null,resp)})}else{this._get(url,o,cb)}return!!resp}});return Transport;function callbackToDeferred(fn){return function customSendWrapper(url,o){var deferred=$.Deferred();fn(url,o,onSuccess,onError);return deferred;function onSuccess(resp){_.defer(function(){deferred.resolve(resp)})}function onError(err){_.defer(function(){deferred.reject(err)})}}}}();var SearchIndex=function(){function SearchIndex(o){o=o||{};if(!o.datumTokenizer||!o.queryTokenizer){$.error("datumTokenizer and queryTokenizer are both required")}this.datumTokenizer=o.datumTokenizer;this.queryTokenizer=o.queryTokenizer;this.reset()}_.mixin(SearchIndex.prototype,{bootstrap:function bootstrap(o){this.datums=o.datums;this.trie=o.trie},add:function(data){var that=this;data=_.isArray(data)?data:[data];_.each(data,function(datum){var id,tokens;id=that.datums.push(datum)-1;tokens=normalizeTokens(that.datumTokenizer(datum));_.each(tokens,function(token){var node,chars,ch;node=that.trie;chars=token.split("");while(ch=chars.shift()){node=node.children[ch]||(node.children[ch]=newNode());node.ids.push(id)}})})},get:function get(query){var that=this,tokens,matches;tokens=normalizeTokens(this.queryTokenizer(query));_.each(tokens,function(token){var node,chars,ch,ids;if(matches&&matches.length===0){return false}node=that.trie;chars=token.split("");while(node&&(ch=chars.shift())){node=node.children[ch]}if(node&&chars.length===0){ids=node.ids.slice(0);matches=matches?getIntersection(matches,ids):ids}else{matches=[];return false}});return matches?_.map(unique(matches),function(id){return that.datums[id]}):[]},reset:function reset(){this.datums=[];this.trie=newNode()},serialize:function serialize(){return{datums:this.datums,trie:this.trie}}});return SearchIndex;function normalizeTokens(tokens){tokens=_.filter(tokens,function(token){return!!token});tokens=_.map(tokens,function(token){return token.toLowerCase()});return tokens}function newNode(){return{ids:[],children:{}}}function unique(array){var seen={},uniques=[];for(var i=0;i<array.length;i++){if(!seen[array[i]]){seen[array[i]]=true;uniques.push(array[i])}}return uniques}function getIntersection(arrayA,arrayB){var ai=0,bi=0,intersection=[];arrayA=arrayA.sort(compare);arrayB=arrayB.sort(compare);while(ai<arrayA.length&&bi<arrayB.length){if(arrayA[ai]<arrayB[bi]){ai++}else if(arrayA[ai]>arrayB[bi]){bi++}else{intersection.push(arrayA[ai]);ai++;bi++}}return intersection;function compare(a,b){return a-b}}}();var oParser=function(){return{local:getLocal,prefetch:getPrefetch,remote:getRemote};function getLocal(o){return o.local||null}function getPrefetch(o){var prefetch,defaults;defaults={url:null,thumbprint:"",ttl:24*60*60*1e3,filter:null,ajax:{}};if(prefetch=o.prefetch||null){prefetch=_.isString(prefetch)?{url:prefetch}:prefetch;prefetch=_.mixin(defaults,prefetch);prefetch.thumbprint=VERSION+prefetch.thumbprint;prefetch.ajax.type=prefetch.ajax.type||"GET";prefetch.ajax.dataType=prefetch.ajax.dataType||"json";!prefetch.url&&$.error("prefetch requires url to be set")}return prefetch}function getRemote(o){var remote,defaults;defaults={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}};if(remote=o.remote||null){remote=_.isString(remote)?{url:remote}:remote;remote=_.mixin(defaults,remote);remote.rateLimiter=/^throttle$/i.test(remote.rateLimitBy)?byThrottle(remote.rateLimitWait):byDebounce(remote.rateLimitWait);remote.ajax.type=remote.ajax.type||"GET";remote.ajax.dataType=remote.ajax.dataType||"json";delete remote.rateLimitBy;delete remote.rateLimitWait;!remote.url&&$.error("remote requires url to be set")}return remote;function byDebounce(wait){return function(fn){return _.debounce(fn,wait)}}function byThrottle(wait){return function(fn){return _.throttle(fn,wait)}}}}();(function(root){var old,keys;old=root.Bloodhound;keys={data:"data",protocol:"protocol",thumbprint:"thumbprint"};root.Bloodhound=Bloodhound;function Bloodhound(o){if(!o||!o.local&&!o.prefetch&&!o.remote){$.error("one of local, prefetch, or remote is required")}this.limit=o.limit||5;this.sorter=getSorter(o.sorter);this.dupDetector=o.dupDetector||ignoreDuplicates;this.local=oParser.local(o);this.prefetch=oParser.prefetch(o);this.remote=oParser.remote(o);this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null;this.index=new SearchIndex({datumTokenizer:o.datumTokenizer,queryTokenizer:o.queryTokenizer});this.storage=this.cacheKey?new PersistentStorage(this.cacheKey):null}Bloodhound.noConflict=function noConflict(){root.Bloodhound=old;return Bloodhound};Bloodhound.tokenizers=tokenizers;_.mixin(Bloodhound.prototype,{_loadPrefetch:function loadPrefetch(o){var that=this,serialized,deferred;if(serialized=this._readFromStorage(o.thumbprint)){this.index.bootstrap(serialized);deferred=$.Deferred().resolve()}else{deferred=$.ajax(o.url,o.ajax).done(handlePrefetchResponse)}return deferred;function handlePrefetchResponse(resp){that.clear();that.add(o.filter?o.filter(resp):resp);that._saveToStorage(that.index.serialize(),o.thumbprint,o.ttl)}},_getFromRemote:function getFromRemote(query,cb){var that=this,url,uriEncodedQuery;query=query||"";uriEncodedQuery=encodeURIComponent(query);url=this.remote.replace?this.remote.replace(this.remote.url,query):this.remote.url.replace(this.remote.wildcard,uriEncodedQuery);return this.transport.get(url,this.remote.ajax,handleRemoteResponse);function handleRemoteResponse(err,resp){err?cb([]):cb(that.remote.filter?that.remote.filter(resp):resp)}},_saveToStorage:function saveToStorage(data,thumbprint,ttl){if(this.storage){this.storage.set(keys.data,data,ttl);this.storage.set(keys.protocol,location.protocol,ttl);this.storage.set(keys.thumbprint,thumbprint,ttl)}},_readFromStorage:function readFromStorage(thumbprint){var stored={},isExpired;if(this.storage){stored.data=this.storage.get(keys.data);stored.protocol=this.storage.get(keys.protocol);stored.thumbprint=this.storage.get(keys.thumbprint)}isExpired=stored.thumbprint!==thumbprint||stored.protocol!==location.protocol;return stored.data&&!isExpired?stored.data:null},_initialize:function initialize(){var that=this,local=this.local,deferred;deferred=this.prefetch?this._loadPrefetch(this.prefetch):$.Deferred().resolve();local&&deferred.done(addLocalToIndex);this.transport=this.remote?new Transport(this.remote):null;return this.initPromise=deferred.promise();function addLocalToIndex(){that.add(_.isFunction(local)?local():local)}},initialize:function initialize(force){return!this.initPromise||force?this._initialize():this.initPromise},add:function add(data){this.index.add(data)},get:function get(query,cb){var that=this,matches=[],cacheHit=false;matches=this.index.get(query);matches=this.sorter(matches).slice(0,this.limit);if(matches.length<this.limit&&this.transport){cacheHit=this._getFromRemote(query,returnRemoteMatches)}if(!cacheHit){(matches.length>0||!this.transport)&&cb&&cb(matches)}function returnRemoteMatches(remoteMatches){var matchesWithBackfill=matches.slice(0);_.each(remoteMatches,function(remoteMatch){var isDuplicate;isDuplicate=_.some(matchesWithBackfill,function(match){return that.dupDetector(remoteMatch,match)});!isDuplicate&&matchesWithBackfill.push(remoteMatch);return matchesWithBackfill.length<that.limit});cb&&cb(that.sorter(matchesWithBackfill))}},clear:function clear(){this.index.reset()},clearPrefetchCache:function clearPrefetchCache(){this.storage&&this.storage.clear()},clearRemoteCache:function clearRemoteCache(){this.transport&&Transport.resetCache()},ttAdapter:function ttAdapter(){return _.bind(this.get,this)}});return Bloodhound;function getSorter(sortFn){return _.isFunction(sortFn)?sort:noSort;function sort(array){return array.sort(sortFn)}function noSort(array){return array}}function ignoreDuplicates(){return false}})(this);var html={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'};var css={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"9999",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(_.isMsie()){_.mixin(css.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}if(_.isMsie()&&_.isMsie()<=7){_.mixin(css.input,{marginTop:"-1px"})}var EventBus=function(){var namespace="typeahead:";function EventBus(o){if(!o||!o.el){$.error("EventBus initialized without el")}this.$el=$(o.el)}_.mixin(EventBus.prototype,{trigger:function(type){var args=[].slice.call(arguments,1);this.$el.trigger(namespace+type,args)}});return EventBus}();var EventEmitter=function(){var splitter=/\s+/,nextTick=getNextTick();return{onSync:onSync,onAsync:onAsync,off:off,trigger:trigger};function on(method,types,cb,context){var type;if(!cb){return this}types=types.split(splitter);cb=context?bindContext(cb,context):cb;this._callbacks=this._callbacks||{};while(type=types.shift()){this._callbacks[type]=this._callbacks[type]||{sync:[],async:[]};this._callbacks[type][method].push(cb)}return this}function onAsync(types,cb,context){return on.call(this,"async",types,cb,context)}function onSync(types,cb,context){return on.call(this,"sync",types,cb,context)}function off(types){var type;if(!this._callbacks){return this}types=types.split(splitter);while(type=types.shift()){delete this._callbacks[type]}return this}function trigger(types){var type,callbacks,args,syncFlush,asyncFlush;if(!this._callbacks){return this}types=types.split(splitter);args=[].slice.call(arguments,1);while((type=types.shift())&&(callbacks=this._callbacks[type])){syncFlush=getFlush(callbacks.sync,this,[type].concat(args));asyncFlush=getFlush(callbacks.async,this,[type].concat(args));syncFlush()&&nextTick(asyncFlush)}return this}function getFlush(callbacks,context,args){return flush;function flush(){var cancelled;for(var i=0;!cancelled&&i<callbacks.length;i+=1){cancelled=callbacks[i].apply(context,args)===false}return!cancelled}}function getNextTick(){var nextTickFn;if(window.setImmediate){nextTickFn=function nextTickSetImmediate(fn){setImmediate(function(){fn()})}}else{nextTickFn=function nextTickSetTimeout(fn){setTimeout(function(){fn()},0)}}return nextTickFn}function bindContext(fn,context){return fn.bind?fn.bind(context):function(){fn.apply(context,[].slice.call(arguments,0))}}}();var highlight=function(doc){var defaults={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false};return function hightlight(o){var regex;o=_.mixin({},defaults,o);if(!o.node||!o.pattern){return}o.pattern=_.isArray(o.pattern)?o.pattern:[o.pattern];regex=getRegex(o.pattern,o.caseSensitive,o.wordsOnly);traverse(o.node,hightlightTextNode);function hightlightTextNode(textNode){var match,patternNode;if(match=regex.exec(textNode.data)){wrapperNode=doc.createElement(o.tagName);o.className&&(wrapperNode.className=o.className);patternNode=textNode.splitText(match.index);patternNode.splitText(match[0].length);wrapperNode.appendChild(patternNode.cloneNode(true));textNode.parentNode.replaceChild(wrapperNode,patternNode)}return!!match}function traverse(el,hightlightTextNode){var childNode,TEXT_NODE_TYPE=3;for(var i=0;i<el.childNodes.length;i++){childNode=el.childNodes[i];if(childNode.nodeType===TEXT_NODE_TYPE){i+=hightlightTextNode(childNode)?1:0}else{traverse(childNode,hightlightTextNode)}}}};function getRegex(patterns,caseSensitive,wordsOnly){var escapedPatterns=[],regexStr;for(var i=0;i<patterns.length;i++){escapedPatterns.push(_.escapeRegExChars(patterns[i]))}regexStr=wordsOnly?"\\b("+escapedPatterns.join("|")+")\\b":"("+escapedPatterns.join("|")+")";return caseSensitive?new RegExp(regexStr):new RegExp(regexStr,"i")}}(window.document);var Input=function(){var specialKeyCodeMap;specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function Input(o){var that=this,onBlur,onFocus,onKeydown,onInput;o=o||{};if(!o.input){$.error("input is missing")}onBlur=_.bind(this._onBlur,this);onFocus=_.bind(this._onFocus,this);onKeydown=_.bind(this._onKeydown,this);onInput=_.bind(this._onInput,this);this.$hint=$(o.hint);this.$input=$(o.input).on("blur.tt",onBlur).on("focus.tt",onFocus).on("keydown.tt",onKeydown);if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=_.noop}if(!_.isMsie()){this.$input.on("input.tt",onInput)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function($e){if(specialKeyCodeMap[$e.which||$e.keyCode]){return}_.defer(_.bind(that._onInput,that,$e))})}this.query=this.$input.val();this.$overflowHelper=buildOverflowHelper(this.$input)}Input.normalizeQuery=function(str){return(str||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")};_.mixin(Input.prototype,EventEmitter,{_onBlur:function onBlur(){this.resetInputValue();this.trigger("blurred")},_onFocus:function onFocus(){this.trigger("focused")},_onKeydown:function onKeydown($e){var keyName=specialKeyCodeMap[$e.which||$e.keyCode];this._managePreventDefault(keyName,$e);if(keyName&&this._shouldTrigger(keyName,$e)){this.trigger(keyName+"Keyed",$e)}},_onInput:function onInput(){this._checkInputValue()},_managePreventDefault:function managePreventDefault(keyName,$e){var preventDefault,hintValue,inputValue;switch(keyName){case"tab":hintValue=this.getHint();inputValue=this.getInputValue();preventDefault=hintValue&&hintValue!==inputValue&&!withModifier($e);break;case"up":case"down":preventDefault=!withModifier($e);break;default:preventDefault=false}preventDefault&&$e.preventDefault()},_shouldTrigger:function shouldTrigger(keyName,$e){var trigger;switch(keyName){case"tab":trigger=!withModifier($e);break;default:trigger=true}return trigger},_checkInputValue:function checkInputValue(){var inputValue,areEquivalent,hasDifferentWhitespace;inputValue=this.getInputValue();areEquivalent=areQueriesEquivalent(inputValue,this.query);hasDifferentWhitespace=areEquivalent?this.query.length!==inputValue.length:false;if(!areEquivalent){this.trigger("queryChanged",this.query=inputValue)}else if(hasDifferentWhitespace){this.trigger("whitespaceChanged",this.query)}},focus:function focus(){this.$input.focus()},blur:function blur(){this.$input.blur()},getQuery:function getQuery(){return this.query},setQuery:function setQuery(query){this.query=query},getInputValue:function getInputValue(){return this.$input.val()},setInputValue:function setInputValue(value,silent){this.$input.val(value);silent?this.clearHint():this._checkInputValue()},resetInputValue:function resetInputValue(){this.setInputValue(this.query,true)},getHint:function getHint(){return this.$hint.val()},setHint:function setHint(value){this.$hint.val(value)},clearHint:function clearHint(){this.setHint("")},clearHintIfInvalid:function clearHintIfInvalid(){var val,hint,valIsPrefixOfHint,isValid;val=this.getInputValue();hint=this.getHint();valIsPrefixOfHint=val!==hint&&hint.indexOf(val)===0;isValid=val!==""&&valIsPrefixOfHint&&!this.hasOverflow();!isValid&&this.clearHint()},getLanguageDirection:function getLanguageDirection(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function hasOverflow(){var constraint=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=constraint},isCursorAtEnd:function(){var valueLength,selectionStart,range;valueLength=this.$input.val().length;selectionStart=this.$input[0].selectionStart;if(_.isNumber(selectionStart)){return selectionStart===valueLength}else if(document.selection){range=document.selection.createRange();range.moveStart("character",-valueLength);return valueLength===range.text.length}return true},destroy:function destroy(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null}});return Input;function buildOverflowHelper($input){return $('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",textIndent:$input.css("text-indent"),textRendering:$input.css("text-rendering"),textTransform:$input.css("text-transform")}).insertAfter($input)}function areQueriesEquivalent(a,b){return Input.normalizeQuery(a)===Input.normalizeQuery(b)}function withModifier($e){return $e.altKey||$e.ctrlKey||$e.metaKey||$e.shiftKey}}();var Dataset=function(){var datasetKey="ttDataset",valueKey="ttValue",datumKey="ttDatum";function Dataset(o){o=o||{};o.templates=o.templates||{};if(!o.source){$.error("missing source")}if(o.name&&!isValidName(o.name)){$.error("invalid dataset name: "+o.name)}this.query=null;this.highlight=!!o.highlight;this.name=o.name||_.getUniqueId();this.source=o.source;this.displayFn=getDisplayFn(o.display||o.displayKey);this.templates=getTemplates(o.templates,this.displayFn);this.$el=$(html.dataset.replace("%CLASS%",this.name))}Dataset.extractDatasetName=function extractDatasetName(el){return $(el).data(datasetKey)};Dataset.extractValue=function extractDatum(el){return $(el).data(valueKey)};Dataset.extractDatum=function extractDatum(el){return $(el).data(datumKey)};_.mixin(Dataset.prototype,EventEmitter,{_render:function render(query,suggestions){if(!this.$el){return}var that=this,hasSuggestions;this.$el.empty();hasSuggestions=suggestions&&suggestions.length;if(!hasSuggestions&&this.templates.empty){this.$el.html(getEmptyHtml()).prepend(that.templates.header?getHeaderHtml():null).append(that.templates.footer?getFooterHtml():null)}else if(hasSuggestions){this.$el.html(getSuggestionsHtml()).prepend(that.templates.header?getHeaderHtml():null).append(that.templates.footer?getFooterHtml():null)}this.trigger("rendered");function getEmptyHtml(){return that.templates.empty({query:query,isEmpty:true})}function getSuggestionsHtml(){var $suggestions,nodes;$suggestions=$(html.suggestions).css(css.suggestions);nodes=_.map(suggestions,getSuggestionNode);$suggestions.append.apply($suggestions,nodes);that.highlight&&highlight({node:$suggestions[0],pattern:query});return $suggestions;function getSuggestionNode(suggestion){var $el;$el=$(html.suggestion).append(that.templates.suggestion(suggestion)).data(datasetKey,that.name).data(valueKey,that.displayFn(suggestion)).data(datumKey,suggestion);$el.children().each(function(){$(this).css(css.suggestionChild)});return $el}}function getHeaderHtml(){return that.templates.header({query:query,isEmpty:!hasSuggestions})}function getFooterHtml(){return that.templates.footer({query:query,isEmpty:!hasSuggestions})}},getRoot:function getRoot(){return this.$el},update:function update(query){var that=this;this.query=query;this.canceled=false;this.source(query,render);function render(suggestions){if(!that.canceled&&query===that.query){that._render(query,suggestions)}}},cancel:function cancel(){this.canceled=true},clear:function clear(){this.cancel();this.$el.empty();this.trigger("rendered")},isEmpty:function isEmpty(){return this.$el.is(":empty")},destroy:function destroy(){this.$el=null}});return Dataset;function getDisplayFn(display){display=display||"value";return _.isFunction(display)?display:displayFn;function displayFn(obj){return obj[display]}}function getTemplates(templates,displayFn){return{empty:templates.empty&&_.templatify(templates.empty),header:templates.header&&_.templatify(templates.header),footer:templates.footer&&_.templatify(templates.footer),suggestion:templates.suggestion||suggestionTemplate};function suggestionTemplate(context){return"<p>"+displayFn(context)+"</p>"}}function isValidName(str){return/^[_a-zA-Z0-9-]+$/.test(str)}}();var Dropdown=function(){function Dropdown(o){var that=this,onSuggestionClick,onSuggestionMouseEnter,onSuggestionMouseLeave;o=o||{};if(!o.menu){$.error("menu is required")}this.isOpen=false;this.isEmpty=true;this.datasets=_.map(o.datasets,initializeDataset);onSuggestionClick=_.bind(this._onSuggestionClick,this);onSuggestionMouseEnter=_.bind(this._onSuggestionMouseEnter,this);onSuggestionMouseLeave=_.bind(this._onSuggestionMouseLeave,this);this.$menu=$(o.menu).on("click.tt",".tt-suggestion",onSuggestionClick).on("mouseenter.tt",".tt-suggestion",onSuggestionMouseEnter).on("mouseleave.tt",".tt-suggestion",onSuggestionMouseLeave);_.each(this.datasets,function(dataset){that.$menu.append(dataset.getRoot());dataset.onSync("rendered",that._onRendered,that)})}_.mixin(Dropdown.prototype,EventEmitter,{_onSuggestionClick:function onSuggestionClick($e){this.trigger("suggestionClicked",$($e.currentTarget))},_onSuggestionMouseEnter:function onSuggestionMouseEnter($e){this._removeCursor();this._setCursor($($e.currentTarget),true)},_onSuggestionMouseLeave:function onSuggestionMouseLeave(){this._removeCursor()},_onRendered:function onRendered(){this.isEmpty=_.every(this.datasets,isDatasetEmpty);this.isEmpty?this._hide():this.isOpen&&this._show();this.trigger("datasetRendered");function isDatasetEmpty(dataset){return dataset.isEmpty()}},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function getSuggestions(){return this.$menu.find(".tt-suggestion")},_getCursor:function getCursor(){return this.$menu.find(".tt-cursor").first()},_setCursor:function setCursor($el,silent){$el.first().addClass("tt-cursor");!silent&&this.trigger("cursorMoved")},_removeCursor:function removeCursor(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function moveCursor(increment){var $suggestions,$oldCursor,newCursorIndex,$newCursor;if(!this.isOpen){return}$oldCursor=this._getCursor();$suggestions=this._getSuggestions();this._removeCursor();newCursorIndex=$suggestions.index($oldCursor)+increment;newCursorIndex=(newCursorIndex+1)%($suggestions.length+1)-1;if(newCursorIndex===-1){this.trigger("cursorRemoved");return}else if(newCursorIndex<-1){newCursorIndex=$suggestions.length-1}this._setCursor($newCursor=$suggestions.eq(newCursorIndex));this._ensureVisible($newCursor)},_ensureVisible:function ensureVisible($el){var elTop,elBottom,menuScrollTop,menuHeight;elTop=$el.position().top;elBottom=elTop+$el.outerHeight(true);menuScrollTop=this.$menu.scrollTop();menuHeight=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);if(elTop<0){this.$menu.scrollTop(menuScrollTop+elTop)}else if(menuHeight<elBottom){this.$menu.scrollTop(menuScrollTop+(elBottom-menuHeight))}},close:function close(){if(this.isOpen){this.isOpen=false;this._removeCursor();this._hide();this.trigger("closed")}},open:function open(){if(!this.isOpen){this.isOpen=true;!this.isEmpty&&this._show();this.trigger("opened")}},setLanguageDirection:function setLanguageDirection(dir){this.$menu.css(dir==="ltr"?css.ltr:css.rtl)},moveCursorUp:function moveCursorUp(){this._moveCursor(-1)},moveCursorDown:function moveCursorDown(){this._moveCursor(+1)},getDatumForSuggestion:function getDatumForSuggestion($el){var datum=null;if($el.length){datum={raw:Dataset.extractDatum($el),value:Dataset.extractValue($el),datasetName:Dataset.extractDatasetName($el)}}return datum},getDatumForCursor:function getDatumForCursor(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function getDatumForTopSuggestion(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function update(query){_.each(this.datasets,updateDataset);function updateDataset(dataset){dataset.update(query)}},empty:function empty(){_.each(this.datasets,clearDataset);this.isEmpty=true;function clearDataset(dataset){dataset.clear()}},isVisible:function isVisible(){return this.isOpen&&!this.isEmpty},destroy:function destroy(){this.$menu.off(".tt");this.$menu=null;_.each(this.datasets,destroyDataset);function destroyDataset(dataset){dataset.destroy()}}});return Dropdown;function initializeDataset(oDataset){return new Dataset(oDataset)}}();var Typeahead=function(){var attrsKey="ttAttrs";function Typeahead(o){var $menu,$input,$hint;o=o||{};if(!o.input){$.error("missing input")}this.isActivated=false;this.autoselect=!!o.autoselect;this.minLength=_.isNumber(o.minLength)?o.minLength:1;this.$node=buildDomStructure(o.input,o.withHint);$menu=this.$node.find(".tt-dropdown-menu");$input=this.$node.find(".tt-input");$hint=this.$node.find(".tt-hint");$input.on("blur.tt",function($e){var active,isActive,hasActive;active=document.activeElement;isActive=$menu.is(active);hasActive=$menu.has(active).length>0;if(_.isMsie()&&(isActive||hasActive)){$e.preventDefault();$e.stopImmediatePropagation();_.defer(function(){$input.focus()})}});$menu.on("mousedown.tt",function($e){$e.preventDefault()});this.eventBus=o.eventBus||new EventBus({el:$input});this.dropdown=new Dropdown({menu:$menu,datasets:o.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this);this.input=new Input({input:$input,hint:$hint}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this);this._setLanguageDirection()}_.mixin(Typeahead.prototype,{_onSuggestionClicked:function onSuggestionClicked(type,$el){var datum;if(datum=this.dropdown.getDatumForSuggestion($el)){this._select(datum)}},_onCursorMoved:function onCursorMoved(){var datum=this.dropdown.getDatumForCursor();this.input.setInputValue(datum.value,true);this.eventBus.trigger("cursorchanged",datum.raw,datum.datasetName)},_onCursorRemoved:function onCursorRemoved(){this.input.resetInputValue();this._updateHint()},_onDatasetRendered:function onDatasetRendered(){this._updateHint()},_onOpened:function onOpened(){this._updateHint();this.eventBus.trigger("opened")},_onClosed:function onClosed(){this.input.clearHint();this.eventBus.trigger("closed")},_onFocused:function onFocused(){this.isActivated=true;this.dropdown.open()},_onBlurred:function onBlurred(){this.isActivated=false;this.dropdown.empty();this.dropdown.close()},_onEnterKeyed:function onEnterKeyed(type,$e){var cursorDatum,topSuggestionDatum;cursorDatum=this.dropdown.getDatumForCursor();topSuggestionDatum=this.dropdown.getDatumForTopSuggestion();if(cursorDatum){this._select(cursorDatum);$e.preventDefault()}else if(this.autoselect&&topSuggestionDatum){this._select(topSuggestionDatum);$e.preventDefault()}},_onTabKeyed:function onTabKeyed(type,$e){var datum;if(datum=this.dropdown.getDatumForCursor()){this._select(datum);$e.preventDefault()}else{this._autocomplete(true)}},_onEscKeyed:function onEscKeyed(){this.dropdown.close();this.input.resetInputValue()},_onUpKeyed:function onUpKeyed(){var query=this.input.getQuery();this.dropdown.isEmpty&&query.length>=this.minLength?this.dropdown.update(query):this.dropdown.moveCursorUp();this.dropdown.open()},_onDownKeyed:function onDownKeyed(){var query=this.input.getQuery();this.dropdown.isEmpty&&query.length>=this.minLength?this.dropdown.update(query):this.dropdown.moveCursorDown();this.dropdown.open()},_onLeftKeyed:function onLeftKeyed(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function onRightKeyed(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function onQueryChanged(e,query){this.input.clearHintIfInvalid();query.length>=this.minLength?this.dropdown.update(query):this.dropdown.empty();this.dropdown.open();this._setLanguageDirection()},_onWhitespaceChanged:function onWhitespaceChanged(){this._updateHint();this.dropdown.open()},_setLanguageDirection:function setLanguageDirection(){var dir;if(this.dir!==(dir=this.input.getLanguageDirection())){this.dir=dir;this.$node.css("direction",dir);this.dropdown.setLanguageDirection(dir)}},_updateHint:function updateHint(){var datum,val,query,escapedQuery,frontMatchRegEx,match;datum=this.dropdown.getDatumForTopSuggestion();if(datum&&this.dropdown.isVisible()&&!this.input.hasOverflow()){val=this.input.getInputValue();query=Input.normalizeQuery(val);escapedQuery=_.escapeRegExChars(query);frontMatchRegEx=new RegExp("^(?:"+escapedQuery+")(.+$)","i");match=frontMatchRegEx.exec(datum.value);match?this.input.setHint(val+match[1]):this.input.clearHint()}else{this.input.clearHint()}},_autocomplete:function autocomplete(laxCursor){var hint,query,isCursorAtEnd,datum;hint=this.input.getHint();query=this.input.getQuery();isCursorAtEnd=laxCursor||this.input.isCursorAtEnd();if(hint&&query!==hint&&isCursorAtEnd){datum=this.dropdown.getDatumForTopSuggestion();datum&&this.input.setInputValue(datum.value);this.eventBus.trigger("autocompleted",datum.raw,datum.datasetName)}},_select:function select(datum){this.input.setQuery(datum.value);this.input.setInputValue(datum.value,true);this._setLanguageDirection();this.eventBus.trigger("selected",datum.raw,datum.datasetName);this.dropdown.close();_.defer(_.bind(this.dropdown.empty,this.dropdown))},open:function open(){this.dropdown.open()},close:function close(){this.dropdown.close()},setVal:function setVal(val){if(this.isActivated){this.input.setInputValue(val)}else{this.input.setQuery(val);this.input.setInputValue(val,true)}this._setLanguageDirection()},getVal:function getVal(){return this.input.getQuery()},destroy:function destroy(){this.input.destroy();this.dropdown.destroy();destroyDomStructure(this.$node);this.$node=null}});return Typeahead;function buildDomStructure(input,withHint){var $input,$wrapper,$dropdown,$hint;$input=$(input);$wrapper=$(html.wrapper).css(css.wrapper);$dropdown=$(html.dropdown).css(css.dropdown);$hint=$input.clone().css(css.hint).css(getBackgroundStyles($input));$hint.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",true).attr({autocomplete:"off",spellcheck:"false"});$input.data(attrsKey,{dir:$input.attr("dir"),autocomplete:$input.attr("autocomplete"),spellcheck:$input.attr("spellcheck"),style:$input.attr("style")});$input.addClass("tt-input").attr({autocomplete:"off",spellcheck:false}).css(withHint?css.input:css.inputWithNoHint);try{!$input.attr("dir")&&$input.attr("dir","auto")}catch(e){}return $input.wrap($wrapper).parent().prepend(withHint?$hint:null).append($dropdown)}function getBackgroundStyles($el){return{backgroundAttachment:$el.css("background-attachment"),backgroundClip:$el.css("background-clip"),backgroundColor:$el.css("background-color"),backgroundImage:$el.css("background-image"),backgroundOrigin:$el.css("background-origin"),backgroundPosition:$el.css("background-position"),backgroundRepeat:$el.css("background-repeat"),backgroundSize:$el.css("background-size")}}function destroyDomStructure($node){var $input=$node.find(".tt-input");_.each($input.data(attrsKey),function(val,key){_.isUndefined(val)?$input.removeAttr(key):$input.attr(key,val)});$input.detach().removeData(attrsKey).removeClass("tt-input").insertAfter($node);$node.remove()}}();(function(){var old,typeaheadKey,methods;old=$.fn.typeahead;typeaheadKey="ttTypeahead";methods={initialize:function initialize(o,datasets){datasets=_.isArray(datasets)?datasets:[].slice.call(arguments,1);o=o||{};return this.each(attach);function attach(){var $input=$(this),eventBus,typeahead;_.each(datasets,function(d){d.highlight=!!o.highlight});typeahead=new Typeahead({input:$input,eventBus:eventBus=new EventBus({el:$input}),withHint:_.isUndefined(o.hint)?true:!!o.hint,minLength:o.minLength,autoselect:o.autoselect,datasets:datasets});$input.data(typeaheadKey,typeahead)}},open:function open(){return this.each(openTypeahead);function openTypeahead(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.open()}}},close:function close(){return this.each(closeTypeahead);function closeTypeahead(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.close()}}},val:function val(newVal){return!arguments.length?getVal(this.first()):this.each(setVal);function setVal(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.setVal(newVal)}}function getVal($input){var typeahead,query;if(typeahead=$input.data(typeaheadKey)){query=typeahead.getVal()}return query}},destroy:function destroy(){return this.each(unattach);function unattach(){var $input=$(this),typeahead;if(typeahead=$input.data(typeaheadKey)){typeahead.destroy();$input.removeData(typeaheadKey)}}}};$.fn.typeahead=function(method){if(methods[method]){return methods[method].apply(this,[].slice.call(arguments,1))}else{return methods.initialize.apply(this,arguments)}};$.fn.typeahead.noConflict=function noConflict(){$.fn.typeahead=old;return this}})()})(window.jQuery);if(typeof jQuery==="undefined"){console.error("jQuery was not defined before inclusion of ch.global.js")}else{jQuery("a[data-loading-state='0']").on("click",function(){jQuery(this).attr("data-loading-state","1")});var CourseHeroUniversalBanner=new function(){var UNIVERSAL_BANNER_DOM_ID="ch_sitewide_notification";return{setup:function(){this.dom=jQuery("#"+UNIVERSAL_BANNER_DOM_ID);if(this.dom.length===0){return}this.setupActions()},setupActions:function(){this.dom.find("[data-dismiss]").on("click",function(e){var node=jQuery(this);e.preventDefault();CourseHeroUniversalBanner.dismiss(node.data("dismiss-url"))})},dismiss:function(url){this.dom.hide();this.onDismiss(url)},onDismiss:function(url){if(typeof url==="undefined"||url.length===0){return}jQuery.post(url)}}};CourseHeroUniversalBanner.setup();var loginRedirect=function(event){event.preventDefault();window.location.href=this.href+"&login_refer_url="+encodeURIComponent(window.location.href)};jQuery("#ch-header_primary-nav_login").on("click",loginRedirect);window.devLog=function(){if(window.location.hostname!="www.coursehero.com"){console.log.apply(console,arguments)}}}!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=55)}([function(t,e,n){var r=n(33),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(62),o=n(68);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(16),o=n(17);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):r(n,c,l)}return n}},function(t,e,n){var r=n(19),o=n(64),i=n(65),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(18),o=n(37);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(39),o=n(81),i=n(6);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(85),o=n(86),i=n(87),a=n(88),s=n(89);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(7);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(2)(Object,"create");t.exports=r},function(t,e,n){var r=n(104);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(39),o=n(111),i=n(6);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(17),o=n(7),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(32);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(5),o=n(1),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==u}},function(t,e,n){var r=n(0).Symbol;t.exports=r},function(t,e,n){(function(t){var r=n(0),o=n(79),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;t.exports=u}).call(this,n(21)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(33),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(21)(t))},function(t,e,n){var r=n(2)(n(0),"Map");t.exports=r},function(t,e,n){var r=n(114),o=n(46),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return i.call(t,e)}))}:o;t.exports=s},function(t,e,n){var r=n(42)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(118),o=n(24),i=n(119),a=n(120),s=n(121),u=n(5),c=n(34),l=c(r),f=c(o),p=c(i),d=c(a),h=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(124);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},a=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,n=r.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return void 0===e||r.call(t,e)};t.exports=function t(){var e,n,r,o,s,u,c=arguments[0],l=1,f=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[1]||{},l=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});l<f;++l)if(null!=(e=arguments[l]))for(n in e)r=c[n],c!==(o=e[n])&&(p&&o&&(a(o)||(s=i(o)))?(s?(s=!1,u=r&&i(r)?r:[]):u=r&&a(r)?r:{},c[n]=t(p,u,o)):void 0!==o&&(c[n]=o));return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.routes=t}return t.prototype.isRoute=function(t){return void 0!==this.routes[t]},t.prototype.callRoute=function(t,e){return this.routes[t](e)},t.prototype.handleRequest=function(t,e,n,r){return this.routes[t](e,n,r)},t}();e.RoutingConfig=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),o=n(61),i=n(83),a=n(133),s=function(){function t(){this.state=null,this.stateHistory=[],this.listeners=[],this._nextState=null,this.debug=!1,this.highPerformance=!1,this.dirtyState=!1,this.listen=this.listen.bind(this),this.ignore=this.ignore.bind(this),this.stateChange=this.stateChange.bind(this),this.newState=this.newState.bind(this),this.nextState=this.nextState.bind(this),this.cloneState=this.cloneState.bind(this),this.notify=this.notify.bind(this),this.upsertItem=this.upsertItem.bind(this),this.removeItem=this.removeItem.bind(this),this.removeItems=this.removeItems.bind(this)}return t.prototype.listen=function(t){this.listeners.push(t)},t.prototype.getState=function(){return this.state},t.prototype.ignore=function(t){var e=this.listeners.indexOf(t);return e>=0&&(this.listeners.splice(e,1),!0)},t.prototype.stateChange=function(t,e){var n={};return o(n,this.state),this.debug&&this.stateHistory.push({actionName:t,state:n}),this.state=e,this._nextState=null,this.dirtyState||(this.dirtyState=!0,this.highPerformance?requestAnimationFrame(this.notify.bind(this,n)):this.notify(n)),e},t.prototype.cloneState=function(){return i(this.state,function(t){return window&&window.moment&&window.moment.isMoment(t)?t.clone():t instanceof Date?new Date(t.getTime()):void 0})},t.prototype.newState=function(){return this.nextState()},t.prototype.nextState=function(){return this._nextState?this._nextState:this._nextState=this.cloneState()},t.prototype.notify=function(t){var e=this;this.debug&&console.debug("Store state changed, notifying "+this.listeners.length+" listener(s) of change","Old State",t,"New State",this.state),this.listeners.forEach(function(n){n(e.state,t)}),this.dirtyState=!1},t.prototype.upsertItem=function(t,e,n,r){void 0===r&&(r=!1);if(void 0!==t&&Array.isArray(t)||(console.warn("Non array passed in as modelArray"),t=[]),"object"!=typeof n)return console.warn("Upserted item must be an object",typeof n,"given"),!1;if(void 0!==n.__bID&&n.__bID!==e)return console.warn("Upserted item does not match the keyValue passed in",n.__bID,"!=",e),!1;for(var o=null,i=0;i<t.length;i++){if(t[i].__bID===e){o=i;break}}if(null===o)n.__bID=e,t.push(n);else{var a=t[o];t[o]=r?n:this.merge(a,n),t[o].__bID=e}return!0},t.prototype.getItem=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.__bID===e)return r}return null},t.prototype.removeItem=function(t,e){for(var n=null,r=0;r<t.length;r++){if(t[r].__bID===e){n=r;break}}return null!==n&&t.splice(n,1)},t.prototype.removeItems=function(t,e){var n=this;e.forEach(function(e){n.removeItem(t,e)})},t.prototype.sanitizeAndValidate=function(t,e){var n=this.sanitize(t,e,!1),r=this.validate(n,e);return!0===r?n:r},t.prototype.validate=function(t,e){var n=[];for(var r in e)if(void 0!==e[r].validation)for(var o in e[r].validation){if(n.length>0)break;var i=t[r],a=e[r].validation[o];if("object"===e[r].type&&"validate"===o&&a){var s=this.validate(i,e[r].schema());if(!0!==s){n=n.concat(s);break}}var u=e[r].label?e[r].label:r;switch(o){case"required":null!=i&&""!==i||n.push(u+" is required");break;case"minLength":i.length<a&&n.push(u+" must be at least "+a+" characters");break;case"maxLength":i.length>a&&n.push(u+" must be at under "+a+" characters");break;default:if("function"==typeof a){var c=a(i);!0!==c&&(n=n.concat(c))}}}return!(n.length>0)||n},t.prototype.sanitize=function(t,e,n){void 0===n&&(n=!1);var o={},i=r(!0,{},t);for(var a in e)o[a]=this.sanitizeField(a,i,e,n);return o},t.prototype.merge=function(t,e){return a(t,e),t},t.prototype.sortBy=function(t,e){return void 0===e&&(e="desc"),function(n,r){return r[t]&&!n[t]||r[t]&&n[t]&&r[t]>n[t]?"desc"===e.toLowerCase()?1:-1:!r[t]&&n[t]||r[t]&&n[t]&&r[t]<n[t]?"desc"===e.toLowerCase()?-1:1:r[t]&&n[t]&&r[t]==n[t]?0:r[t]&&!n[t]?0:void 0}},t.prototype.money=function(t){return t.toFixed(2)},t.prototype.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.string=function(t){return void 0===t&&(t={}),r(!0,{type:"string"},t)},t.int=function(t){return void 0===t&&(t={}),r(!0,{type:"int"},t)},t.double=function(t){return void 0===t&&(t={}),r(!0,{type:"double"},t)},t.bool=function(t){return void 0===t&&(t={}),r(!0,{type:"bool"},t)},t.float=function(t){return void 0===t&&(t={}),r(!0,{type:"float"},t)},t.array=function(t){return void 0===t&&(t={}),r(!0,{type:"array",schema:null},t)},t.object=function(t){return void 0===t&&(t={}),r(!0,{type:"object",schema:null},t)},t.datetime=function(t){return void 0===t&&(t={}),r(!0,{type:"datetime",schema:null,format:"YYYY-MM-DD HH:mm:ss"},t)},t.callback=function(t){return void 0===t&&(t={}),r(!0,{type:"callback",schema:null},t)},t.customType=function(t,e){return void 0===e&&(e={}),r(!0,{type:t,schema:null},e)},t.prototype.sanitizeField=function(t,e,n,r){if("function"===n[t].type)return n[t].value;void 0===e[t]&&(void 0!==n[t].initial?e[t]=n[t].initial():e[t]=null);var o=n[t].type;if(null===e[t]&&"obj"!==o&&"object"!==o)return null;switch(n[t].field=t,o){case"int":case"integer":return this.sanitizeInteger(e[t],n[t]);case"float":case"double":return this.sanitizeFloat(e[t],n[t]);case"string":case"char":case"varchar":return this.sanitizeString(e[t],n[t]);case"date":case"datetime":case"timestamp":return this.sanitizeDateTime(e[t],n[t],r);case"bool":case"boolean":return this.sanitizeBoolean(e[t],n[t]);case"obj":case"object":return this.sanitizeObject(e[t],n[t],r);case"array":case"collection":return this.sanitizeArray(e[t],n[t],r);case"callback":return this.sanitizeCallback(e[t],n[t]);default:if(void 0!==n[t].sanitize)return n[t].sanitize(e[t],n[t])}},t.prototype.sanitizeCallback=function(t,e){if("function"!=typeof t)throw new Error("Provided callback is not a valid function");return t},t.prototype.sanitizeInteger=function(t,e){if("string"==typeof t&&0===(t=t.replace(/[a-zA-Z]+/gi,"")).length)return"";if(t=parseInt(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed");return isNaN(t)?"":t},t.prototype.sanitizeFloat=function(t,e){if(t=parseFloat(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum float allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed");return t},t.prototype.sanitizeString=function(t,e){if(t=String(t),void 0!==e.minLength&&t.length<e.minLength)throw new Error("Provided value cannot be sanitized, string length is below minimum allowed");return void 0!==e.maxLength&&t.length>e.maxLength&&(console.warn("Value was truncated during sanitization"),t=t.substr(0,e.maxLength)),t},t.prototype.sanitizeDateTime=function(t,e,n){if(void 0===e.utc||e.utc)var r=moment.utc(t,e.format);else r=moment(t,e.format);if(r.isValid())return n?r.utc().format("YYYY-MM-DD hh:mm:ss"):r;throw new Error("Provided value ("+t+") cannot be sanitized for field ("+e.field+"), is not a valid date")},t.prototype.sanitizeBoolean=function(t,e){if(!1===t||!0===t)return t;if("string"==typeof t){if("false"===t.toLowerCase().trim())return!1;if("true"===t.toLowerCase().trim())return!0}if(0===parseInt(t))return!1;if(1===parseInt(t))return!0;throw new Error("Provided value cannot be santized, is not a valid boolean")},t.prototype.sanitizeObject=function(t,e,n){if(void 0===e.schema)throw new Error("Provided value cannot be santized, no reference schema provided for field type of object");return null===e.schema?t:null===t?null:n||"function"!=typeof e.constructor?this.sanitize(t,e.schema(),n):new e.constructor(this.sanitize(t,e.schema()))},t.prototype.sanitizeArray=function(t,e,n){var r=this;return void 0===e.schema||null===e.schema||!1===e.schema?t:void 0===t.length?[]:t.map(function(t){return n||"function"!=typeof e.constructor?r.sanitize(t,e.schema(),n):new e.constructor(r.sanitize(t,e.schema()))})},t}();e.default=s},function(t,e,n){var r=n(2),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(63))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(69),o=n(76);t.exports=function(t){return r(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e){t.exports=function(t){return t}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?n:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(77),o=n(40),i=n(10),a=n(20),s=n(38),u=n(41),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),p=!n&&!l&&!f&&u(t),d=n||l||f||p,h=d?r(t.length,String):[],v=h.length;for(var y in t)!e&&!c.call(t,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,v))||h.push(y);return h}},function(t,e,n){var r=n(78),o=n(3),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(80),o=n(22),i=n(23),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(11),o=n(90),i=n(91),a=n(92),s=n(93),u=n(94);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){(function(t){var r=n(0),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(21)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(48),o=n(26),i=n(25),a=n(46),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(48),o=n(10);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(128),o=n(26),i=n(8);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(17),o=n(7);t.exports=function(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){"use strict";var r=n(56),o=n(30),i=n(59),a=n(60),s=n(31),u=n(141),c=n(142),l=n(143);t.exports={Actions:c.default,ApiService:r.ApiService,ApiServiceClass:r.ApiServiceClass,Model:l.default,RoutingConfig:o.RoutingConfig,sanitize:i.sanitize,RoutingService:a.RoutingService,RoutingServiceClass:a.RoutingServiceClass,Store:s.default,Schema:u.Schema}},function(t,e,n){"use strict";n.r(e);var r=n(54);n(144);window.BeefFlux=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),o=n(29),i=function(){function t(){}return t.prototype.throttle=function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}},t.prototype.get=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e),method:"get"},n))},t.prototype.post=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e,!1),method:"post",data:JSON.stringify(e),contentType:"application/json"},n))},t.prototype.put=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e,!1),method:"put",data:JSON.stringify(e),contentType:"application/json"},n))},t.prototype.delete=function(t,e,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(t,e),method:"delete"},n))},t.prototype._buildUrl=function(t,e,n){for(var r in void 0===n&&(n=!0),e)-1===t.indexOf("{"+r+"}")?!1!==n&&(-1!==t.indexOf("?")?t+="&":t+="?",t+=r+"="+e[r]):t=t.replace("{"+r+"}",e[r]);return t},t.prototype._buildConfig=function(t,e){return void 0===e&&(e={}),null===e?t:o(!0,{},t,e)},t}();e.ApiServiceClass=i;var a=new i;e.ApiService=a},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,definition;definition=function(){var context=this,XHR2;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else try{XHR2=__webpack_require__(58)}catch(t){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(t){if(!0===t.crossOrigin){var e=context[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(t){return t}};function succeed(t){var e=protocolRe.exec(t.url);return e=e&&e[1]||context.location.protocol,httpsRe.test(e)?twoHundo.test(t.request.status):!!t.request.response}function handleReadyState(t,e,n){return function(){return t._aborted?n(t.request):t._timedOut?n(t.request,"Request is aborted: timeout"):void(t.request&&4==t.request[readyState]&&(t.request.onreadystatechange=noop,succeed(t)?e(t.request):n(t.request)))}}function setHeaders(t,e){var n,r=e.headers||{};r.Accept=r.Accept||defaultHeaders.accept[e.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&e.data instanceof FormData;for(n in e.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||o||(r[contentType]=e.contentType||defaultHeaders.contentType),r)r.hasOwnProperty(n)&&"setRequestHeader"in t&&t.setRequestHeader(n,r[n])}function setCredentials(t,e){void 0!==e.withCredentials&&void 0!==t.withCredentials&&(t.withCredentials=!!e.withCredentials)}function generalCallback(t){lastValue=t}function urlappend(t,e){return t+(/\?/.test(t)?"&":"?")+e}function handleJsonp(t,e,n,r){var o=uniqid++,i=t.jsonpCallback||"callback",a=t.jsonpCallbackName||reqwest.getcallbackPrefix(o),s=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),u=r.match(s),c=doc.createElement("script"),l=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return u?"?"===u[3]?r=r.replace(s,"$1="+a):a=u[3]:r=urlappend(r,i+"="+a),context[a]=generalCallback,c.type="text/javascript",c.src=r,c.async=!0,void 0===c.onreadystatechange||f||(c.htmlFor=c.id="_reqwest_"+o),c.onload=c.onreadystatechange=function(){if(c[readyState]&&"complete"!==c[readyState]&&"loaded"!==c[readyState]||l)return!1;c.onload=c.onreadystatechange=null,c.onclick&&c.onclick(),e(lastValue),lastValue=void 0,head.removeChild(c),l=1},head.appendChild(c),{abort:function(){c.onload=c.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(c),l=1}}}function getRequest(t,e){var n,r=this.o,o=(r.method||"GET").toUpperCase(),i="string"==typeof r?r:r.url,a=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=o||!a||(i=urlappend(i,a),a=null),"jsonp"==r.type?handleJsonp(r,t,e,i):((n=r.xhr&&r.xhr(r)||xhr(r)).open(o,i,!1!==r.async),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=t,n.onerror=e,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,t,e),r.before&&r.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(t,e){this.o=t,this.fn=e,init.apply(this,arguments)}function setType(t){if(null!==t)return t.match("json")?"json":t.match("javascript")?"js":t.match("text")?"html":t.match("xml")?"xml":void 0}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(t){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(t)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(t){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(t){return error(resp,"Could not parse JSON in response",t)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(t,e,n){for(t=self.request,self._responseArgs.resp=t,self._responseArgs.msg=e,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(t,e,n);complete(t)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(t,e){return new Reqwest(t,e)}function normalize(t){return t?t.replace(/\r?\n/g,"\r\n"):""}function serial(t,e){var n,r,o,i,a=t.name,s=t.tagName.toLowerCase(),u=function(t){t&&!t.disabled&&e(a,normalize(t.attributes.value&&t.attributes.value.specified?t.value:t.text))};if(!t.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(t.type)||(n=/checkbox/i.test(t.type),r=/radio/i.test(t.type),o=t.value,(!n&&!r||t.checked)&&e(a,normalize(n&&""===o?"on":o)));break;case"textarea":e(a,normalize(t.value));break;case"select":if("select-one"===t.type.toLowerCase())u(t.selectedIndex>=0?t.options[t.selectedIndex]:null);else for(i=0;t.length&&i<t.length;i++)t.options[i].selected&&u(t.options[i])}}function eachFormElement(){var t,e,n=this,r=function(t,e){var r,o,i;for(r=0;r<e.length;r++)for(i=t[byTag](e[r]),o=0;o<i.length;o++)serial(i[o],n)};for(e=0;e<arguments.length;e++)t=arguments[e],/input|select|textarea/i.test(t.tagName)&&serial(t,n),r(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var t={};return eachFormElement.apply(function(e,n){e in t?(t[e]&&!isArray(t[e])&&(t[e]=[t[e]]),t[e].push(n)):t[e]=n},arguments),t}function buildParams(t,e,n,r){var o,i,a,s=/\[\]$/;if(isArray(e))for(i=0;e&&i<e.length;i++)a=e[i],n||s.test(t)?r(t,a):buildParams(t+"["+("object"==typeof a?i:"")+"]",a,n,r);else if(e&&"[object Object]"===e.toString())for(o in e)buildParams(t+"["+o+"]",e[o],n,r);else r(t,e)}return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(t,e){return t=t||function(){},e=e||function(){},this._fulfilled?this._responseArgs.resp=t(this._responseArgs.resp):this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(t),this._errorHandlers.push(e)),this},always:function(t){return this._fulfilled||this._erred?t(this._responseArgs.resp):this._completeHandlers.push(t),this},fail:function(t){return this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(t),this},catch:function(t){return this.fail(t)}},reqwest.serializeArray=function(){var t=[];return eachFormElement.apply(function(e,n){t.push({name:e,value:n})},arguments),t},reqwest.serialize=function(){if(0===arguments.length)return"";var t,e=Array.prototype.slice.call(arguments,0);return(t=e.pop())&&t.nodeType&&e.push(t)&&(t=null),t&&(t=t.type),("map"==t?serializeHash:"array"==t?reqwest.serializeArray:serializeQueryString).apply(null,e)},reqwest.toQueryString=function(t,e){var n,r,o=e||!1,i=[],a=encodeURIComponent,s=function(t,e){e="function"==typeof e?e():null==e?"":e,i[i.length]=a(t)+"="+a(e)};if(isArray(t))for(r=0;t&&r<t.length;r++)s(t[r].name,t[r].value);else for(n in t)t.hasOwnProperty(n)&&buildParams(n,t[n],o,s);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(t,e){return t&&(t.type&&(t.method=t.type)&&delete t.type,t.dataType&&(t.type=t.dataType),t.jsonpCallback&&(t.jsonpCallbackName=t.jsonpCallback)&&delete t.jsonpCallback,t.jsonp&&(t.jsonpCallback=t.jsonp)),new Reqwest(t,e)},reqwest.ajaxSetup=function(t){for(var e in t=t||{})globalSetupOptions[e]=t[e]},reqwest},module.exports?module.exports=definition():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=definition)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){switch(e.type){case"int":case"integer":return parseInt(t);case"float":return parseFloat(t);case"string":return""+t;case"bool":case"boolean":return void 0!==t&&(!0===t||"string"==typeof t&&"yes"===t.toLowerCase()||1===t||"1"===t)}};e.sanitize=function(t){return function(e,n,o){var i=e[n];o.value=function(n){var o=n;for(var a in o)void 0!==t[a]&&(o[a]=r(o[a],t[a]));return i.apply(e,[o])}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),o=function(){function t(){}return t.prototype.onRouteFinished=function(){},t.prototype.routes=function(t){return this.routingConfig=new r.RoutingConfig(t),this},t.prototype.route=function(t,e){if(this.routingConfig.isRoute(t)||(t="/"),this.routingConfig.isRoute(t)){var n=this.routingConfig.callRoute(t,e);return this.activeRoute=t,this.onRouteFinished(),n}return null},t.prototype.handleRequest=function(t,e,n,r){if(this.routingConfig.isRoute(t)||(t="default:/"),this.routingConfig.isRoute(t)){n=this.routingConfig.handleRequest(t,e,n,r);return this.activeRoute=t,this.onRouteFinished(),n}return null},t.prototype.doRouting=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null);var r="";for(var o in this.routingConfig.routes){r=o;var i=t||window.location.hash;i.indexOf("?")>=0&&(i=i.substring(0,i.indexOf("?")));var a=o.match(/\{[a-z\_\-\+]+\}/gi),s={};if(null!==a){var u=o.split("/"),c=i.split("/");if(0===u[0].length&&(u=u.splice(1,u.length-1)),0===c[0].length&&(c=c.splice(1,c.length-1)),c.length!==u.length)continue;var l=0,f=!1;if(c.forEach(function(t){u[l].match(/\{[a-z\_\-\+]+\}/gi)||t!==u[l]&&(f=!0),l++}),f)continue;r="",u.forEach(function(t,e){e>0&&(r+="/"),r+=c[e],e>0&&(s[t.replace(/[\{\}]/gi,"")]=c[e])})}r=r.replace("+","\\+");var p=new RegExp("^[#/]*"+r+"$","gi");if(null!==i.match(p)){if(this.activeRoute===o&&s===this.routeData)return;return this.routeData=s,this.activeRoute=o,e?this.handleRequest(o,e,n,s):this.route(o,s)}}return e?this.handleRequest("default:/",e,n,{}):this.route("/",{})},t}();e.RoutingServiceClass=o;var i=new o;e.RoutingService=i},function(t,e,n){var r=n(16),o=n(4),i=n(35),a=n(6),s=n(8),u=n(9),c=Object.prototype.hasOwnProperty,l=i(function(t,e){if(s(e)||a(e))o(e,u(e),t);else for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e,n){var r=n(18),o=n(66),i=n(1),a=n(34),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:s).test(a(t))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(19),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(67),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(0)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(36),o=n(70),i=n(72);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){var r=n(71),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(73),o=n(75)(r);t.exports=o},function(t,e,n){var r=n(74),o=n(32),i=n(36),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(7),o=n(6),i=n(38),a=n(1);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(5),o=n(3),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(5),o=n(37),i=n(3),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(8),o=n(82),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(42)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(84),o=1,i=4;t.exports=function(t,e){return r(t,o|i,e="function"==typeof e?e:void 0)}},function(t,e,n){var r=n(43),o=n(108),i=n(16),a=n(109),s=n(110),u=n(44),c=n(45),l=n(113),f=n(115),p=n(116),d=n(117),h=n(27),v=n(122),y=n(123),b=n(51),g=n(10),x=n(20),m=n(129),_=n(1),w=n(131),j=n(9),A=1,O=2,S=4,R="[object Arguments]",z="[object Function]",C="[object GeneratorFunction]",E="[object Object]",P={};P[R]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[E]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[z]=P["[object WeakMap]"]=!1,t.exports=function t(e,n,I,k,q,D){var T,F=n&A,M=n&O,H=n&S;if(I&&(T=q?I(e,k,q,D):I(e)),void 0!==T)return T;if(!_(e))return e;var L=g(e);if(L){if(T=v(e),!F)return c(e,T)}else{var U=h(e),N=U==z||U==C;if(x(e))return u(e,F);if(U==E||U==R||N&&!q){if(T=M||N?{}:b(e),!F)return M?f(e,s(T,e)):l(e,a(T,e))}else{if(!P[U])return q?e:{};T=y(e,U,F)}}D||(D=new r);var B=D.get(e);if(B)return B;D.set(e,T),w(e)?e.forEach(function(r){T.add(t(r,n,I,r,e,D))}):m(e)&&e.forEach(function(r,o){T.set(o,t(r,n,I,o,e,D))});var V=H?M?d:p:M?keysIn:j,Q=L?void 0:V(e);return o(Q||e,function(r,o){Q&&(r=e[o=r]),i(T,o,t(r,n,I,o,e,D))}),T}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(12),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(12);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(12);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(12);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(11);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(11),o=n(24),i=n(95),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(96),o=n(103),i=n(105),a=n(106),s=n(107);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(97),o=n(11),i=n(24);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(98),o=n(99),i=n(100),a=n(101),s=n(102);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(13);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(13),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(13),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(13),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},function(t,e,n){var r=n(14);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(14);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(14);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(14);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(4),o=n(9);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(4),o=n(15);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(1),o=n(8),i=n(112),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(4),o=n(25);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e,n){var r=n(4),o=n(47);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(49),o=n(25),i=n(9);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(49),o=n(47),i=n(15);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(2)(n(0),"DataView");t.exports=r},function(t,e,n){var r=n(2)(n(0),"Promise");t.exports=r},function(t,e,n){var r=n(2)(n(0),"Set");t.exports=r},function(t,e,n){var r=n(2)(n(0),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(28),o=n(125),i=n(126),a=n(127),s=n(50),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",p="[object RegExp]",d="[object Set]",h="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",m="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",j="[object Uint8Array]",A="[object Uint8ClampedArray]",O="[object Uint16Array]",S="[object Uint32Array]";t.exports=function(t,e,n){var R=t.constructor;switch(e){case y:return r(t);case u:case c:return new R(+t);case b:return o(t,n);case g:case x:case m:case _:case w:case j:case A:case O:case S:return s(t,n);case l:return new R;case f:case h:return new R(t);case p:return i(t);case d:return new R;case v:return a(t)}}},function(t,e,n){var r=n(0).Uint8Array;t.exports=r},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(19),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(1),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(130),o=n(22),i=n(23),a=i&&i.isMap,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(27),o=n(3),i="[object Map]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(132),o=n(22),i=n(23),a=i&&i.isSet,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(27),o=n(3),i="[object Set]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(134),o=n(35)(function(t,e,n){r(t,e,n)});t.exports=o},function(t,e,n){var r=n(43),o=n(52),i=n(135),a=n(137),s=n(1),u=n(15),c=n(53);t.exports=function t(e,n,l,f,p){e!==n&&i(n,function(i,u){if(p||(p=new r),s(i))a(e,n,u,l,t,f,p);else{var d=f?f(c(e,u),i,u+"",e,n,p):void 0;void 0===d&&(d=i),o(e,u,d)}},u)}},function(t,e,n){var r=n(136)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}},function(t,e,n){var r=n(52),o=n(44),i=n(50),a=n(45),s=n(51),u=n(40),c=n(10),l=n(138),f=n(20),p=n(18),d=n(1),h=n(139),v=n(41),y=n(53),b=n(140);t.exports=function(t,e,n,g,x,m,_){var w=y(t,n),j=y(e,n),A=_.get(j);if(A)r(t,n,A);else{var O=m?m(w,j,n+"",t,e,_):void 0,S=void 0===O;if(S){var R=c(j),z=!R&&f(j),C=!R&&!z&&v(j);O=j,R||z||C?c(w)?O=w:l(w)?O=a(w):z?(S=!1,O=o(j,!0)):C?(S=!1,O=i(j,!0)):O=[]:h(j)||u(j)?(O=w,u(w)?O=b(w):d(w)&&!p(w)||(O=s(j))):S=!1}S&&(_.set(j,O),x(O,j,g,m,_),_.delete(j)),r(t,n,O)}}},function(t,e,n){var r=n(6),o=n(3);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(5),o=n(26),i=n(3),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!i(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e,n){var r=n(4),o=n(15);t.exports=function(t){return r(t,o(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(31);e.Schema={int:function(t){return void 0===t&&(t=null),o.bind(null,r.default.int.bind(null,t))},string:function(t){return void 0===t&&(t=null),o.bind(null,r.default.string.bind(null,t))},double:function(t){return void 0===t&&(t=null),o.bind(null,r.default.double.bind(null,t))},bool:function(t){return void 0===t&&(t=null),o.bind(null,r.default.bool.bind(null,t))},float:function(t){return void 0===t&&(t=null),o.bind(null,r.default.float.bind(null,t))},array:function(t){return void 0===t&&(t=null),o.bind(null,r.default.array.bind(null,t))},object:function(t){return void 0===t&&(t=null),o.bind(null,r.default.object.bind(null,t))},datetime:function(t){return void 0===t&&(t=null),o.bind(null,r.default.datetime.bind(null,t))},callback:function(t){return void 0===t&&(t=null),o.bind(null,r.default.callback.bind(null,t))},custom:function(t,e){return void 0===e&&(e=null),o.bind(null,r.default.customType.bind(null,t,e))},uuid:function(t){return void 0===t&&(t={}),t.initial=function(){return i()},o.bind(null,r.default.string.bind(null,t))}};var o=function(t,e,n,r){e.constructor.schema[n]=t()},i=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.actions={},this.define=this.define.bind(this),this.dispatch=this.dispatch.bind(this),this.register=this.register.bind(this),this.debug=!1}return t.prototype.setDebug=function(t){return this.debug=t,this},t.prototype.define=function(t,e){"string"!=typeof t&&console.error("actionName is not a valid string",t),"function"!=typeof e&&console.error("Must pass valid callback for action: ",e),void 0!==this.actions[t]&&console.warn("Action with name "+t+" was already defined, and is now being overwritten"),this.actions[t]={cb:e,stores:[]};var n=function(){this.dispatch(t,arguments)};return(n=n.bind(this)).toString=function(){return t},n.original_argument_length=e.length,n},t.prototype.dispatch=function(t,e,n){void 0===this.actions[t]&&console.warn("Attempting to call non registered action: "+t),this._debug("ACTION.DISPATCH: "+t,e);var r=this.actions[t].cb.apply(null,e);this.actions[t].stores.forEach(function(e){var o=e.store,i=e.cb;o.stateChange(t,i(r,n))})},t.prototype.register=function(t,e){for(var n in t)void 0!==this.actions[n]?(this._debug(n+" registered for ",e),this.actions[n].stores.push({store:e,cb:t[n]})):console.warn("Store attempting to register missing action: "+n)},t.prototype._debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.debug&&console.debug.apply(null,arguments)},t}();e.ActionsClass=r;var o=new r;e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){if(void 0===t&&(t=null),t&&"object"==typeof t)for(var e in t)this[e]=t[e]};e.default=r},function(t,e){var n=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},r=function(){function t(){}return t.service=function(t,e){return void 0===e&&(e=null),null!==e&&(this.services[t]=e),this.services[t]},t.setup=function(t){this.setupCallbacks.push(t)},t.start=function(){this.started||(this.setupCallbacks.forEach(function(t){t()}),this.started=!0)},t.started=!1,t.Actions=function(){return t.start(),{create:function(t){return o.create(t)}}},t.Api=function(){return t.start(),t.service(p.SERVICE_ID)},t.Dispatcher=function(){return t.start(),t.service(d.SERVICE_ID)},t.Store=function(){return t.start(),{create:function(t){var e=jQuery.extend(!0,new f,t);return e.actions(),e}}},t.Router=function(){return t.start(),t.service(h.SERVICE_ID)},t.services={},t.setupCallbacks=[],t}();window.Beef=r;var o=function(){function t(){}return t.create=function(e){var n=new i;for(var r in e)"_"===r[0]||t.ignoreFunctions.indexOf(r)>=0||(n[r]=new function(){return new Function("return function (fn) { return function "+r+" () { return fn(this, arguments) }; };")()(Function.apply.bind(function(t){var r=[];for(var o in arguments)"0"!==o&&r.push(arguments[o]);n._dispatch(t,e[t].bind(n),r)}.bind(null,r)))});return n},t.ignoreFunctions=["constructor"],t}();window.Actions=o;var i=function(){function t(){this._callbacks={}}return t.prototype._register=function(t,e){for(var n in t){var r=t[n].name?t[n].name:t[n].toString().match(/^function\s*([^\s(]+)/)[1];void 0===this._callbacks[r]&&(this._callbacks[r]=[]),this._callbacks[r].push(e[n].bind(e))}},t.prototype._dispatch=function(t,e,n){if(void 0!==this._callbacks[t]){var r=e.apply(this,n);this._callbacks[t].forEach(function(t){t(r)})}},t}();window.Action=i;var a=function(){function t(){}return t.prototype.setup=function(){},t.prototype.run=function(){},t}();window.BaseApp=a;var s=function(){};window.BaseService=s;var u=function(t,e,n){void 0===e&&(e=[]),this.func=t,this.dependencies=e,this.dispatchId=n};window.DispatcherCallback=u;var c=function(t,e){this.action=t,this.data=e};window.DispatcherPayload=c;var l=function(){function t(t){this.routes=t}return t.prototype.isRoute=function(t){return void 0!==this.routes[t]},t.prototype.callRoute=function(t,e){return this.routes[t](e)},t}();window.RoutingConfig=l;var f=function(){function t(){this.rows={},this.actions=function(){},this.dispatchIndex=null}return t.prototype.listen=function(t,e){jQuery(window).on(t,e)},t.prototype.ignore=function(t,e){jQuery(window).off(t,e)},t.prototype.emit=function(t,e){void 0===e&&(e=!1),jQuery(window).trigger(t,[e])},t.prototype.upsertRow=function(t,e,n,r,o){void 0===o&&(o=!1);var i=!1;void 0===this.rows[t]&&(this.rows[t]=[]);var a=this.rows[t],s=this;a.forEach(function(t,u){void 0!==t[e]&&t[e]===n&&(void 0===a[u]&&(a[u]={}),a[u]=o?a[u]=r:s.merge(a[u],r),i=!0)}),i||this.rows[t].push(r)},t.prototype.removeRow=function(t,e,n){if(void 0!==this.rows[t]){var r=this.rows[t],o=[];if(r.forEach(function(t,r){void 0!==t[e]&&t[e]==n&&o.push(r)}),0!==o.length)for(var i=0;i<o.length;i++)this.rows[t].splice(o[i],1)}},t.prototype.removeRows=function(t,e,n){var r=this;n.forEach(function(n){r.removeRow(t,e,n)})},t.prototype.clearAll=function(t){this.rows[t]=[]},t.prototype.getRows=function(t,e){return void 0===e&&(e=!0),void 0!==this.rows[t]?e?this.rows[t]:this.rows[t].slice(0):[]},t.prototype.sanitizeAndValidate=function(t,e){var n=this.sanitize(t,e,!1),r=this.validate(n,e);return!0===r?n:r},t.prototype.validate=function(t,e){var n=[];for(var r in e)if(void 0!==e[r].validation)for(var o in e[r].validation){if(n.length>0)break;var i=t[r],a=e[r].label?e[r].label:r;switch(o){case"required":null!=i&&""!==i||n.push(a+" is required");break;case"minLength":i.length<e[r].validation[o]&&n.push(a+" must be at least "+e[r].validation[o]+" characters");break;case"maxLength":i.length>e[r].validation[o]&&n.push(a+" must be at under "+e[r].validation[o]+" characters");break;default:if("function"==typeof e[r].validation[o]){var s=e[r].validation[o](i);!0!==s&&n.concat(s)}}}return!(n.length>0)||n},t.prototype.sanitize=function(t,e,n){void 0===n&&(n=!1);var r={},o=jQuery.extend(!0,{},t);for(var i in e)r[i]=this.sanitizeField(i,o,e,n);return r},t.prototype.merge=function(t,e,n){void 0===n&&(n=1);if(3===n)return e;for(var r in e)try{e[r].constructor===Object?t[r]=this.merge(t[r],e[r],n+1):t[r]=e[r]}catch(n){t[r]=e[r]}return t},t.prototype.sortBy=function(t,e){return void 0===e&&(e="desc"),function(n,r){return r[t]&&!n[t]||r[t]&&n[t]&&r[t]>n[t]?"desc"===e.toLowerCase()?1:-1:!r[t]&&n[t]||r[t]&&n[t]&&r[t]<n[t]?"desc"===e.toLowerCase()?-1:1:r[t]&&n[t]&&r[t]==n[t]?0:r[t]&&!n[t]?0:void 0}},t.prototype.money=function(t){return t.toFixed(2)},t.prototype.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.string=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"string"},t)},t.int=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"int"},t)},t.double=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"double"},t)},t.bool=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"bool"},t)},t.float=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"float"},t)},t.array=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"array",schema:null},t)},t.object=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"object",schema:null},t)},t.datetime=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"datetime",schema:null,format:"YYYY-MM-DD HH:mm:ss"},t)},t.callback=function(t){return void 0===t&&(t={}),jQuery.extend(!0,{type:"callback",schema:null},t)},t.prototype.sanitizeField=function(t,e,n,r){if("function"===n[t].type)return n[t].value;void 0===e[t]&&(void 0!==n[t].initial?e[t]=n[t].initial():e[t]=null);var o=n[t].type;if(null===e[t]&&"obj"!==o&&"object"!==o)return null;switch(n[t].field=t,o){case"int":case"integer":return this.sanitizeInteger(e[t],n[t]);case"float":case"double":return this.sanitizeFloat(e[t],n[t]);case"string":case"char":case"varchar":return this.sanitizeString(e[t],n[t]);case"date":case"datetime":case"timestamp":return this.sanitizeDateTime(e[t],n[t],r);case"bool":case"boolean":return this.sanitizeBoolean(e[t],n[t]);case"obj":case"object":return this.sanitizeObject(e[t],n[t],r);case"array":case"collection":return this.sanitizeArray(e[t],n[t],r);default:if("undefined"!==n[t].sanitize)return n[t].sanitize(e[t],n[t])}},t.prototype.sanitizeInteger=function(t,e){if("string"==typeof t&&0===(t=t.replace(/[a-zA-Z]+/gi,"")).length)return"";if(t=parseInt(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed");return isNaN(t)?"":t},t.prototype.sanitizeFloat=function(t,e){if(t=parseFloat(t),void 0!==e.min&&t<e.min)throw new Error("Provided value cannot be sanitized, value is below minimum float allowed");if(void 0!==e.max&&t>e.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed");return t},t.prototype.sanitizeString=function(t,e){if(t=String(t),void 0!==e.minLength&&t.length<e.minLength)throw new Error("Provided value cannot be sanitized, string length is below minimum allowed");return void 0!==e.maxLength&&t.length>e.maxLength&&(console.warn("Value was truncated during sanitation"),t=t.substr(0,e.maxLength)),t},t.prototype.sanitizeDateTime=function(t,e,n){if(moment(t,e.format).isValid())return n?moment(t).utc().format("YYYY-MM-DD hh:mm:ss"):void 0===e.utc||e.utc?moment.utc(t):moment(t);throw new Error("Provided value ("+t+") cannot be sanitized for field ("+e.field+"), is not a valid date")},t.prototype.sanitizeBoolean=function(t,e){if(!1===t||!0===t)return t;if("string"==typeof t){if("false"===t.toLowerCase().trim())return!1;if("true"===t.toLowerCase().trim())return!0}if(0===parseInt(t))return!1;if(1===parseInt(t))return!0;throw new Error("Provided value cannot be santized, is not a valid boolean")},t.prototype.sanitizeObject=function(t,e,n){if(void 0===e.schema)throw new Error("Provided value cannot be santized, no reference schema provided for field type of object");return null===e.schema?t:null===t?null:this.sanitize(t,e.schema(),n)},t.prototype.sanitizeArray=function(t,e,n){if(void 0===e.schema||null===e.schema||!1===e.schema)return t;if(void 0===t.length)return[];var r=this;return t.map(function(t){return r.sanitize(t,e.schema(),n)})},t.prototype.getDispatcher=function(){return r.service(d.SERVICE_ID)},t}();window.Store=f;var p=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.throttle=function(t,e,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}},e.prototype.get=function(t,e){return this.doAjaxCall("GET",{url:this.buildUrl(t,e),dataType:"json"})},e.prototype.post=function(t,e){return this.doAjaxCall("POST",{url:this.buildUrl(t,e,!1),data:JSON.stringify(e),dataType:"json"})},e.prototype.put=function(t,e){return this.doAjaxCall("PUT",{url:this.buildUrl(t,e,!1),data:JSON.stringify(e),dataType:"json"})},e.prototype.delete=function(t,e){return this.doAjaxCall("DELETE",{url:this.buildUrl(t,e),dataType:"json"})},e.prototype.buildUrl=function(t,e,n){for(var r in void 0===n&&(n=!0),e)-1===t.indexOf("{"+r+"}")?!1!==n&&(-1!==t.indexOf("?")?t+="&":t+="?",t+=r+"="+e[r]):t=t.replace("{"+r+"}",e[r]);return t},e.prototype.doAjaxCall=function(t,e){var n=window.jQuery.fn.jquery.split("."),r=n[0],o=n[1];return 1==r&&o<9?(e.type=t,jQuery.ajax(e)):(e.method=t,jQuery.ajax(e))},e.SERVICE_ID="beef.service.api",e}(s);window.ApiService=p;var d=function(t){function e(){t.apply(this,arguments),this.maxIterations=10,this.callbacks=[]}return n(e,t),e.prototype.register=function(t,e){var n=this.callbacks.length;return this.callbacks.push(new u(t,e,n)),n},e.prototype.dispatch=function(t,e){for(var n=new c(t,e),r=[],o=0,i=0;o<this.maxIterations&&r.length<this.callbacks.length;){i>=this.callbacks.length&&(i=0,o++);var a=this.callbacks[i];r.filter(function(t){return-1!==a.dependencies.indexOf(t)}).length===a.dependencies.length&&(a.func(n),r.push(a.dispatchId),i++)}o>=this.maxIterations&&console.warn("Hit max dispatcher iterations, check dependencies of callbacks")},e.SERVICE_ID="beef.service.dispatcher",e}(s);window.Dispatcher=d;var h=function(){function t(){}return t.prototype.onRouteFinished=function(){},t.prototype.routes=function(t){return this.routingConfig=new l(t),this},t.prototype.route=function(t,e){if(this.routingConfig.isRoute(t)||(t="/"),this.routingConfig.isRoute(t)){var n=this.routingConfig.callRoute(t,e);return this.activeRoute=t,this.onRouteFinished(),n}return null},t.prototype.doRouting=function(t){void 0===t&&(t=null);var e="";for(var n in this.routingConfig.routes){e=n,(t=null!==t?t:window.location.hash).indexOf("?")>=0&&(t=t.substring(0,t.indexOf("?")));var r=n.match(/\{[a-z\_\-\+]+\}/gi),o={};if(null!==r){var i=n.split("/"),a=t.split("/");if((a=a.splice(1,a.length-1)).length!==i.length)continue;var s=0,u=!1;if(a.forEach(function(t){i[s].match(/\{[a-z\_\-\+]+\}/gi)||t!==i[s]&&(u=!0),s++}),u)continue;e="",i.forEach(function(t,n){n>0&&(e+="/"),e+=a[n],n>0&&(o[t.replace(/[\{\}]/gi,"")]=a[n])})}e=e.replace("+","\\+");var c=new RegExp("^#/"+e+"$","gi");if(null!==t.match(c))return this.activeRoute===n&&o===this.routeData?this.lastResponse:(this.routeData=o,this.activeRoute=n,this.lastResponse=this.route(n,o))}return this.lastResponse=this.route("/",{})},t.SERVICE_ID="beef.service.routing",t}();window.RoutingService=h,r.setup(function(){r.service(p.SERVICE_ID,new p),r.service(d.SERVICE_ID,new d),r.service(h.SERVICE_ID,new h)})}]);function ResponsiveHeader(){this.init=function(){jQuery("#ch-header_mobile-nav_action").click(function(e){jQuery("body").toggleClass("ch_mobile-nav_enabled");jQuery(this).toggleClass("highlighted");jQuery("#ch-header_product-user-nav_container").toggleClass("show");e.preventDefault()});jQuery("#ch-header_mobile-search_action").click(function(e){jQuery("#ch-header_secondary-nav_wrapper").slideToggle();jQuery(this).toggleClass("highlighted");e.preventDefault()})}}var CourseHeroUtils=new function(){var IMAGE_MISSING_THUMB_PATH="/img/reviewer_nothumb.gif";return{imageErrorBackup:function(me,url){if(typeof jQuery==="undefined"||url===""){return false}var tries=jQuery.data(me,"tries");if(typeof tries==="undefined"){tries=0}tries++;jQuery.data(me,"tries",tries);if(tries<2){me.src=url}else{me.src=IMAGE_MISSING_THUMB_PATH}},truncate:function(){return function(text,length,end){if(typeof text=="undefined"){return""}if(isNaN(length))length=10;if(end===undefined)end="...";if(text.length<=length||text.length-end.length<=length){return text}else{return String(text).substring(0,length-end.length)+end}}},boldWord:function(source,word){var regex=new RegExp("("+word+")","gi");return source.replace(regex,"<strong>$1</strong>")},formatNumber:function(number){return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}};(function(){var trackerEndpoint="/ajax/tracker_pageview.php";if(!window.URL||!window.fetch){var xhr=new XMLHttpRequest;xhr.open("GET",trackerEndpoint+"?url="+encodeURIComponent(document.location.href));xhr.send();return}var url=new URL(trackerEndpoint,document.location.origin);url.searchParams.set("url",document.location.href);fetch(url.toString())})();window.matchMedia||(window.matchMedia=function(win){"use strict";var _doc=win.document,_viewport=_doc.documentElement,_queries=[],_queryID=0,_type="",_features={},_typeExpr=/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,_mediaExpr=/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,_timer=0,_matches=function(media){var mql=media.indexOf(",")!==-1&&media.split(",")||[media],mqIndex=mql.length-1,mqLength=mqIndex,mq=null,negateType=null,negateTypeFound="",negateTypeIndex=0,negate=false,type="",exprListStr="",exprList=null,exprIndex=0,exprLength=0,expr=null,prefix="",length="",unit="",value="",feature="",match=false;if(media===""){return true}do{mq=mql[mqLength-mqIndex];negate=false;negateType=mq.match(_typeExpr);if(negateType){negateTypeFound=negateType[0];negateTypeIndex=negateType.index}if(!negateType||mq.substring(0,negateTypeIndex).indexOf("(")===-1&&(negateTypeIndex||!negateType[3]&&negateTypeFound!==negateType.input)){match=false;continue}exprListStr=mq;negate=negateType[1]==="not";if(!negateTypeIndex){type=negateType[2];exprListStr=mq.substring(negateTypeFound.length)}match=type===_type||type==="all"||type==="";exprList=exprListStr.indexOf(" and ")!==-1&&exprListStr.split(" and ")||[exprListStr];exprIndex=exprList.length-1;exprLength=exprIndex;if(match&&exprIndex>=0&&exprListStr!==""){do{expr=exprList[exprIndex].match(_mediaExpr);if(!expr||!_features[expr[3]]){match=false;break}prefix=expr[2];length=expr[5];value=length;unit=expr[7];feature=_features[expr[3]];if(unit){if(unit==="px"){value=Number(length)}else if(unit==="em"||unit==="rem"){value=16*length}else if(expr[8]){value=(length/expr[8]).toFixed(2)}else if(unit==="dppx"){value=length*96}else if(unit==="dpcm"){value=length*.3937}else{value=Number(length)}}if(prefix==="min-"&&value){match=feature>=value}else if(prefix==="max-"&&value){match=feature<=value}else if(value){match=feature===value}else{match=!!feature}if(!match){break}}while(exprIndex--)}if(match){break}}while(mqIndex--);return negate?!match:match},_setFeature=function(){var w=win.innerWidth||_viewport.clientWidth,h=win.innerHeight||_viewport.clientHeight,dw=win.screen.width,dh=win.screen.height,c=win.screen.colorDepth,x=win.devicePixelRatio;_features.width=w;_features.height=h;_features["aspect-ratio"]=(w/h).toFixed(2);_features["device-width"]=dw;_features["device-height"]=dh;_features["device-aspect-ratio"]=(dw/dh).toFixed(2);_features.color=c;_features["color-index"]=Math.pow(2,c);_features.orientation=h>=w?"portrait":"landscape";_features.resolution=x&&x*96||win.screen.deviceXDPI||96;_features["device-pixel-ratio"]=x||1},_watch=function(){clearTimeout(_timer);_timer=setTimeout(function(){var query=null,qIndex=_queryID-1,qLength=qIndex,match=false;if(qIndex>=0){_setFeature();do{query=_queries[qLength-qIndex];if(query){match=_matches(query.mql.media);if(match&&!query.mql.matches||!match&&query.mql.matches){query.mql.matches=match;if(query.listeners){for(var i=0,il=query.listeners.length;i<il;i++){if(query.listeners[i]){query.listeners[i].call(win,query.mql)}}}}}}while(qIndex--)}},10)},_init=function(){var head=_doc.getElementsByTagName("head")[0],style=_doc.createElement("style"),info=null,typeList=["screen","print","speech","projection","handheld","tv","braille","embossed","tty"],typeIndex=0,typeLength=typeList.length,cssText="#mediamatchjs { position: relative; z-index: 0; }",eventPrefix="",addEvent=win.addEventListener||(eventPrefix="on")&&win.attachEvent;style.type="text/css";style.id="mediamatchjs";head.appendChild(style);info=win.getComputedStyle&&win.getComputedStyle(style)||style.currentStyle;for(;typeIndex<typeLength;typeIndex++){cssText+="@media "+typeList[typeIndex]+" { #mediamatchjs { position: relative; z-index: "+typeIndex+" } }"}if(style.styleSheet){style.styleSheet.cssText=cssText}else{style.textContent=cssText}_type=typeList[info.zIndex*1||0];head.removeChild(style);_setFeature();addEvent(eventPrefix+"resize",_watch);addEvent(eventPrefix+"orientationchange",_watch)};_init();return function(media){var id=_queryID,mql={matches:false,media:media,addListener:function addListener(listener){_queries[id].listeners||(_queries[id].listeners=[]);listener&&_queries[id].listeners.push(listener)},removeListener:function removeListener(listener){var query=_queries[id],i=0,il=0;if(!query){return}il=query.listeners.length;for(;i<il;i++){if(query.listeners[i]===listener){query.listeners.splice(i,1)}}}};if(media===""){mql.matches=true;return mql}mql.matches=_matches(media);_queryID=_queries.push({mql:mql,listeners:null});return mql}}(window));!function(a,b,c){var d=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=c(d):"function"==typeof define&&define.amd?define(function(){return b[a]=c(d)}):b[a]=c(d)}("enquire",this,function(a){"use strict";function b(a,b){var c,d=0,e=a.length;for(d;e>d&&(c=b(a[d],d),c!==!1);d++);}function c(a){return"[object Array]"===Object.prototype.toString.apply(a)}function d(a){return"function"==typeof a}function e(a){this.options=a,!a.deferSetup&&this.setup()}function f(b,c){this.query=b,this.isUnconditional=c,this.handlers=[],this.mql=a(b);var d=this;this.listener=function(a){d.mql=a,d.assess()},this.mql.addListener(this.listener)}function g(){if(!a)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!a("only all").matches}return e.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(a){return this.options===a||this.options.match===a}},f.prototype={addHandler:function(a){var b=new e(a);this.handlers.push(b),this.matches()&&b.on()},removeHandler:function(a){var c=this.handlers;b(c,function(b,d){return b.equals(a)?(b.destroy(),!c.splice(d,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){b(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";b(this.handlers,function(b){b[a]()})}},g.prototype={register:function(a,e,g){var h=this.queries,i=g&&this.browserIsIncapable;return h[a]||(h[a]=new f(a,i)),d(e)&&(e={match:e}),c(e)||(e=[e]),b(e,function(b){h[a].addHandler(b)}),this},unregister:function(a,b){var c=this.queries[a];return c&&(b?c.removeHandler(b):(c.clear(),delete this.queries[a])),this}},new g});(function(o){var K=o.$LAB,y="UseLocalXHR",z="AlwaysPreserveOrder",u="AllowDuplicates",A="CacheBust",B="BasePath",C=/^[^?#]*\//.exec(location.href)[0],D=/^\w+\:\/\/\/?[^\/]+/.exec(C)[0],i=document.head||document.getElementsByTagName("head"),L=o.opera&&Object.prototype.toString.call(o.opera)=="[object Opera]"||"MozAppearance"in document.documentElement.style,q=document.createElement("script"),E=typeof q.preload=="boolean",r=E||q.readyState&&q.readyState=="uninitialized",F=!r&&q.async===true,M=!r&&!F&&!L;function G(a){return Object.prototype.toString.call(a)=="[object Function]"}function H(a){return Object.prototype.toString.call(a)=="[object Array]"}function N(a,c){var b=/^\w+\:\/\//;if(/^\/\/\/?/.test(a)){a=location.protocol+a}else if(!b.test(a)&&a.charAt(0)!="/"){a=(c||"")+a}return b.test(a)?a:(a.charAt(0)=="/"?D:C)+a}function s(a,c){for(var b in a){if(a.hasOwnProperty(b)){c[b]=a[b]}}return c}function O(a){var c=false;for(var b=0;b<a.scripts.length;b++){if(a.scripts[b].ready&&a.scripts[b].exec_trigger){c=true;a.scripts[b].exec_trigger();a.scripts[b].exec_trigger=null}}return c}function t(a,c,b,d){a.onload=a.onreadystatechange=function(){if(a.readyState&&a.readyState!="complete"&&a.readyState!="loaded"||c[b])return;a.onload=a.onreadystatechange=null;d()}}function I(a){a.ready=a.finished=true;for(var c=0;c<a.finished_listeners.length;c++){a.finished_listeners[c]()}a.ready_listeners=[];a.finished_listeners=[]}function P(d,f,e,g,h){setTimeout(function(){var a,c=f.real_src,b;if("item"in i){if(!i[0]){setTimeout(arguments.callee,25);return}i=i[0]}a=document.createElement("script");if(f.type)a.type=f.type;if(f.charset)a.charset=f.charset;if(h){if(r){e.elem=a;if(E){a.preload=true;a.onpreload=g}else{a.onreadystatechange=function(){if(a.readyState=="loaded")g()}}a.src=c}else if(h&&c.indexOf(D)==0&&d[y]){b=new XMLHttpRequest;b.onreadystatechange=function(){if(b.readyState==4){b.onreadystatechange=function(){};e.text=b.responseText+"\n//@ sourceURL="+c;g()}};b.open("GET",c);b.send()}else{a.type="text/cache-script";t(a,e,"ready",function(){i.removeChild(a);g()});a.src=c;i.insertBefore(a,i.firstChild)}}else if(F){a.async=false;t(a,e,"finished",g);a.src=c;i.insertBefore(a,i.firstChild)}else{t(a,e,"finished",g);a.src=c;i.insertBefore(a,i.firstChild)}},0)}function J(){var l={},Q=r||M,n=[],p={},m;l[y]=true;l[z]=false;l[u]=false;l[A]=false;l[B]="";function R(a,c,b){var d;function f(){if(d!=null){d=null;I(b)}}if(p[c.src].finished)return;if(!a[u])p[c.src].finished=true;d=b.elem||document.createElement("script");if(c.type)d.type=c.type;if(c.charset)d.charset=c.charset;t(d,b,"finished",f);if(b.elem){b.elem=null}else if(b.text){d.onload=d.onreadystatechange=null;d.text=b.text}else{d.src=c.real_src}i.insertBefore(d,i.firstChild);if(b.text){f()}}function S(c,b,d,f){var e,g,h=function(){b.ready_cb(b,function(){R(c,b,e)})},j=function(){b.finished_cb(b,d)};b.src=N(b.src,c[B]);b.real_src=b.src+(c[A]?(/\?.*$/.test(b.src)?"&_":"?_")+~~(Math.random()*1e9)+"=":"");if(!p[b.src])p[b.src]={items:[],finished:false};g=p[b.src].items;if(c[u]||g.length==0){e=g[g.length]={ready:false,finished:false,ready_listeners:[h],finished_listeners:[j]};P(c,b,e,f?function(){e.ready=true;for(var a=0;a<e.ready_listeners.length;a++){e.ready_listeners[a]()}e.ready_listeners=[]}:function(){I(e)},f)}else{e=g[0];if(e.finished){j()}else{e.finished_listeners.push(j)}}}function v(){var e,g=s(l,{}),h=[],j=0,w=false,k;function T(a,c){a.ready=true;a.exec_trigger=c;x()}function U(a,c){a.ready=a.finished=true;a.exec_trigger=null;for(var b=0;b<c.scripts.length;b++){if(!c.scripts[b].finished)return}c.finished=true;x()}function x(){while(j<h.length){if(G(h[j])){try{h[j++]()}catch(err){}continue}else if(!h[j].finished){if(O(h[j]))continue;break}j++}if(j==h.length){w=false;k=false}}function V(){if(!k||!k.scripts){h.push(k={scripts:[],finished:true})}}e={script:function(){for(var f=0;f<arguments.length;f++){(function(a,c){var b;if(!H(a)){c=[a]}for(var d=0;d<c.length;d++){V();a=c[d];if(G(a))a=a();if(!a)continue;if(H(a)){b=[].slice.call(a);b.unshift(d,1);[].splice.apply(c,b);d--;continue}if(typeof a=="string")a={src:a};a=s(a,{ready:false,ready_cb:T,finished:false,finished_cb:U});k.finished=false;k.scripts.push(a);S(g,a,k,Q&&w);w=true;if(g[z])e.wait()}})(arguments[f],arguments[f])}return e},wait:function(){if(arguments.length>0){for(var a=0;a<arguments.length;a++){h.push(arguments[a])}k=h[h.length-1]}else k=false;x();return e}};return{script:e.script,wait:e.wait,setOptions:function(a){s(a,g);return e}}}m={setGlobalDefaults:function(a){s(a,l);return m},setOptions:function(){return v().setOptions.apply(null,arguments)},script:function(){return v().script.apply(null,arguments)},wait:function(){return v().wait.apply(null,arguments)},queueScript:function(){n[n.length]={type:"script",args:[].slice.call(arguments)};return m},queueWait:function(){n[n.length]={type:"wait",args:[].slice.call(arguments)};return m},runQueue:function(){var a=m,c=n.length,b=c,d;for(;--b>=0;){d=n.shift();a=a[d.type].apply(null,d.args)}return a},noConflict:function(){o.$LAB=K;return m},sandbox:function(){return J()}};return m}o.$LAB=J();(function(a,c,b){if(document.readyState==null&&document[a]){document.readyState="loading";document[a](c,b=function(){document.removeEventListener(c,b,false);document.readyState="complete"},false)}})("addEventListener","DOMContentLoaded")})(this);(function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function c(a,b){return Bb.call(a,b)}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function e(a){vb.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function f(a,b){var c=!0;return o(function(){return c&&(e(a),c=!1),b.apply(this,arguments)},b)}function g(a,b){sc[a]||(e(b),sc[a]=!0)}function h(a,b){return function(c){return r(a.call(this,c),b)}}function i(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function j(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function k(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function l(){}function m(a,b){b!==!1&&H(a),p(this,a),this._d=new Date(+a._d),uc===!1&&(uc=!0,vb.updateOffset(this),uc=!1)}function n(a){var b=A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=vb.localeData(),this._bubble()}function o(a,b){for(var d in b)c(b,d)&&(a[d]=b[d]);return c(b,"toString")&&(a.toString=b.toString),c(b,"valueOf")&&(a.valueOf=b.valueOf),a}function p(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Kb.length>0)for(c in Kb)d=Kb[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function s(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function t(a,b){var c;return b=M(b,a),a.isBefore(b)?c=s(a,b):(c=s(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function u(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(g(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=vb.duration(c,d),v(this,e,a),this}}function v(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&pb(a,"Date",ob(a,"Date")+f*c),g&&nb(a,ob(a,"Month")+g*c),d&&vb.updateOffset(a,f||g)}function w(a){return"[object Array]"===Object.prototype.toString.call(a)}function x(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function y(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&C(a[d])!==C(b[d]))&&g++;return g+f}function z(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=lc[a]||mc[b]||b}return a}function A(a){var b,d,e={};for(d in a)c(a,d)&&(b=z(d),b&&(e[b]=a[d]));return e}function B(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}vb[b]=function(e,f){var g,h,i=vb._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=vb().utc().set(d,a);return i.call(vb._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function C(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function D(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function E(a,b,c){return jb(vb([a,11,31+b-c]),b,c).week}function F(a){return G(a)?366:365}function G(a){return a%4===0&&a%100!==0||a%400===0}function H(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Db]<0||a._a[Db]>11?Db:a._a[Eb]<1||a._a[Eb]>D(a._a[Cb],a._a[Db])?Eb:a._a[Fb]<0||a._a[Fb]>24||24===a._a[Fb]&&(0!==a._a[Gb]||0!==a._a[Hb]||0!==a._a[Ib])?Fb:a._a[Gb]<0||a._a[Gb]>59?Gb:a._a[Hb]<0||a._a[Hb]>59?Hb:a._a[Ib]<0||a._a[Ib]>999?Ib:-1,a._pf._overflowDayOfYear&&(Cb>b||b>Eb)&&(b=Eb),a._pf.overflow=b)}function I(b){return null==b._isValid&&(b._isValid=!isNaN(b._d.getTime())&&b._pf.overflow<0&&!b._pf.empty&&!b._pf.invalidMonth&&!b._pf.nullInput&&!b._pf.invalidFormat&&!b._pf.userInvalidated,b._strict&&(b._isValid=b._isValid&&0===b._pf.charsLeftOver&&0===b._pf.unusedTokens.length&&b._pf.bigHour===a)),b._isValid}function J(a){return a?a.toLowerCase().replace("_","-"):a}function K(a){for(var b,c,d,e,f=0;f<a.length;){for(e=J(a[f]).split("-"),b=e.length,c=J(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=L(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&y(e,c,!0)>=b-1)break;b--}f++}return null}function L(a){var b=null;if(!Jb[a]&&Lb)try{b=vb.locale(),require("./locale/"+a),vb.locale(b)}catch(c){}return Jb[a]}function M(a,b){var c,d;return b._isUTC?(c=b.clone(),d=(vb.isMoment(a)||x(a)?+a:+vb(a))-+c,c._d.setTime(+c._d+d),vb.updateOffset(c,!1),c):vb(a).local()}function N(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function O(a){var b,c,d=a.match(Pb);for(b=0,c=d.length;c>b;b++)d[b]=rc[d[b]]?rc[d[b]]:N(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function P(a,b){return a.isValid()?(b=Q(b,a.localeData()),nc[b]||(nc[b]=O(b)),nc[b](a)):a.localeData().invalidDate()}function Q(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Qb.lastIndex=0;d>=0&&Qb.test(a);)a=a.replace(Qb,c),Qb.lastIndex=0,d-=1;return a}function R(a,b){var c,d=b._strict;switch(a){case"Q":return _b;case"DDDD":return bc;case"YYYY":case"GGGG":case"gggg":return d?cc:Tb;case"Y":case"G":case"g":return ec;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?dc:Ub;case"S":if(d)return _b;case"SS":if(d)return ac;case"SSS":if(d)return bc;case"DDD":return Sb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Wb;case"a":case"A":return b._locale._meridiemParse;case"x":return Zb;case"X":return $b;case"Z":case"ZZ":return Xb;case"T":return Yb;case"SSSS":return Vb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?ac:Rb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rb;case"Do":return d?b._locale._ordinalParse:b._locale._ordinalParseLenient;default:return c=new RegExp($(Z(a.replace("\\","")),"i"))}}function S(a){a=a||"";var b=a.match(Xb)||[],c=b[b.length-1]||[],d=(c+"").match(jc)||["-",0,0],e=+(60*d[1])+C(d[2]);return"+"===d[0]?e:-e}function T(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Db]=3*(C(b)-1));break;case"M":case"MM":null!=b&&(e[Db]=C(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b,a,c._strict),null!=d?e[Db]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Eb]=C(b));break;case"Do":null!=b&&(e[Eb]=C(parseInt(b.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=C(b));break;case"YY":e[Cb]=vb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Cb]=C(b);break;case"a":case"A":c._meridiem=b;break;case"h":case"hh":c._pf.bigHour=!0;case"H":case"HH":e[Fb]=C(b);break;case"m":case"mm":e[Gb]=C(b);break;case"s":case"ss":e[Hb]=C(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Ib]=C(1e3*("0."+b));break;case"x":c._d=new Date(C(b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=S(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=C(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=vb.parseTwoDigitYear(b)}}function U(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Cb],jb(vb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Cb],jb(vb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=kb(d,e,f,h,g),a._a[Cb]=i.year,a._dayOfYear=i.dayOfYear}function V(a){var c,d,e,f,g=[];if(!a._d){for(e=X(a),a._w&&null==a._a[Eb]&&null==a._a[Db]&&U(a),a._dayOfYear&&(f=b(a._a[Cb],e[Cb]),a._dayOfYear>F(f)&&(a._pf._overflowDayOfYear=!0),d=fb(f,0,a._dayOfYear),a._a[Db]=d.getUTCMonth(),a._a[Eb]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Fb]&&0===a._a[Gb]&&0===a._a[Hb]&&0===a._a[Ib]&&(a._nextDay=!0,a._a[Fb]=0),a._d=(a._useUTC?fb:eb).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Fb]=24)}}function W(a){var b;a._d||(b=A(a._i),a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],V(a))}function X(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function Y(b){if(b._f===vb.ISO_8601)return void ab(b);b._a=[],b._pf.empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Q(b._f,b._locale).match(Pb)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(R(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&b._pf.unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),rc[f]?(d?b._pf.empty=!1:b._pf.unusedTokens.push(f),T(f,d,b)):b._strict&&!d&&b._pf.unusedTokens.push(f);b._pf.charsLeftOver=i-j,h.length>0&&b._pf.unusedInput.push(h),b._pf.bigHour===!0&&b._a[Fb]<=12&&(b._pf.bigHour=a),b._a[Fb]=k(b._locale,b._a[Fb],b._meridiem),V(b),H(b)}function Z(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function $(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _(a){var b,c,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=d(),b._f=a._f[f],Y(b),I(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==e||e>g)&&(e=g,c=b));o(a,c||b)}function ab(a){var b,c,d=a._i,e=fc.exec(d);if(e){for(a._pf.iso=!0,b=0,c=hc.length;c>b;b++)if(hc[b][1].exec(d)){a._f=hc[b][0]+(e[6]||" ");break}for(b=0,c=ic.length;c>b;b++)if(ic[b][1].exec(d)){a._f+=ic[b][0];break}d.match(Xb)&&(a._f+="Z"),Y(a)}else a._isValid=!1}function bb(a){ab(a),a._isValid===!1&&(delete a._isValid,vb.createFromInputFallback(a))}function cb(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function db(b){var c,d=b._i;d===a?b._d=new Date:x(d)?b._d=new Date(+d):null!==(c=Mb.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?bb(b):w(d)?(b._a=cb(d.slice(0),function(a){return parseInt(a,10)}),V(b)):"object"==typeof d?W(b):"number"==typeof d?b._d=new Date(d):vb.createFromInputFallback(b)}function eb(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fb(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function gb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function hb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ib(a,b,c){var d=vb.duration(a).abs(),e=Ab(d.as("s")),f=Ab(d.as("m")),g=Ab(d.as("h")),h=Ab(d.as("d")),i=Ab(d.as("M")),j=Ab(d.as("y")),k=e<oc.s&&["s",e]||1===f&&["m"]||f<oc.m&&["mm",f]||1===g&&["h"]||g<oc.h&&["hh",g]||1===h&&["d"]||h<oc.d&&["dd",h]||1===i&&["M"]||i<oc.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,hb.apply({},k)}function jb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=vb(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function kb(a,b,c,d,e){var f,g,h=fb(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:F(a-1)+g}}function lb(b){var c,d=b._i,e=b._f;return b._locale=b._locale||vb.localeData(b._l),null===d||e===a&&""===d?vb.invalid({nullInput:!0}):("string"==typeof d&&(b._i=d=b._locale.preparse(d)),vb.isMoment(d)?new m(d,!0):(e?w(e)?_(b):Y(b):db(b),c=new m(b),c._nextDay&&(c.add(1,"d"),c._nextDay=a),c))}function mb(a,b){var c,d;if(1===b.length&&w(b[0])&&(b=b[0]),!b.length)return vb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function nb(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),D(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function ob(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function pb(a,b,c){return"Month"===b?nb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function qb(a,b){return function(c){return null!=c?(pb(this,a,c),vb.updateOffset(this,b),this):ob(this,a)}}function rb(a){return 400*a/146097}function sb(a){return 146097*a/400}function tb(a){vb.duration.fn[a]=function(){return this._data[a]}}function ub(a){"undefined"==typeof ender&&(wb=zb.moment,zb.moment=a?f("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",vb):vb)}for(var vb,wb,xb,yb="2.9.0",zb="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Ab=Math.round,Bb=Object.prototype.hasOwnProperty,Cb=0,Db=1,Eb=2,Fb=3,Gb=4,Hb=5,Ib=6,Jb={},Kb=[],Lb="undefined"!=typeof module&&module&&module.exports,Mb=/^\/?Date\((\-?\d+)/i,Nb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ob=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Pb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Qb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rb=/\d\d?/,Sb=/\d{1,3}/,Tb=/\d{1,4}/,Ub=/[+\-]?\d{1,6}/,Vb=/\d+/,Wb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xb=/Z|[\+\-]\d\d:?\d\d/gi,Yb=/T/i,Zb=/[\+\-]?\d+/,$b=/[\+\-]?\d+(\.\d{1,3})?/,_b=/\d/,ac=/\d\d/,bc=/\d{3}/,cc=/\d{4}/,dc=/[+-]?\d{6}/,ec=/[+-]?\d+/,fc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gc="YYYY-MM-DDTHH:mm:ssZ",hc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ic=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],jc=/([\+\-]|\d\d)/gi,kc=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),lc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},mc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},nc={},oc={s:45,m:45,h:22,d:26,M:11},pc="DDD w W M D d".split(" "),qc="M D H h m s w W".split(" "),rc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+r(Math.abs(a),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return r(C(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+":"+r(C(a)%60,2)},ZZ:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+r(C(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},sc={},tc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],uc=!1;pc.length;)xb=pc.pop(),rc[xb+"o"]=i(rc[xb],xb);for(;qc.length;)xb=qc.pop(),rc[xb+xb]=h(rc[xb],2);rc.DDDD=h(rc.DDD,3),o(l.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=vb.utc([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=vb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.apply(b,[c]):d},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},week:function(a){return jb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),vb=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=e,g._strict=f,g._isUTC=!1,g._pf=d(),lb(g)},vb.suppressDeprecationWarnings=!1,vb.createFromInputFallback=f("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),vb.min=function(){var a=[].slice.call(arguments,0);return mb("isBefore",a)},vb.max=function(){var a=[].slice.call(arguments,0);return mb("isAfter",a)},vb.utc=function(b,c,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=b,g._f=c,g._strict=f,g._pf=d(),lb(g).utc()},vb.unix=function(a){return vb(1e3*a)},vb.duration=function(a,b){var d,e,f,g,h=a,i=null;return vb.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Nb.exec(a))?(d="-"===i[1]?-1:1,h={y:0,d:C(i[Eb])*d,h:C(i[Fb])*d,m:C(i[Gb])*d,s:C(i[Hb])*d,ms:C(i[Ib])*d}):(i=Ob.exec(a))?(d="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*d},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):null==h?h={}:"object"==typeof h&&("from"in h||"to"in h)&&(g=t(vb(h.from),vb(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),e=new n(h),vb.isDuration(a)&&c(a,"_locale")&&(e._locale=a._locale),e},vb.version=yb,vb.defaultFormat=gc,vb.ISO_8601=function(){},vb.momentProperties=Kb,vb.updateOffset=function(){},vb.relativeTimeThreshold=function(b,c){return oc[b]===a?!1:c===a?oc[b]:(oc[b]=c,!0)},vb.lang=f("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return vb.locale(a,b)}),vb.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?vb.defineLocale(a,b):vb.localeData(a),c&&(vb.duration._locale=vb._locale=c)),vb._locale._abbr},vb.defineLocale=function(a,b){return null!==b?(b.abbr=a,Jb[a]||(Jb[a]=new l),Jb[a].set(b),vb.locale(a),Jb[a]):(delete Jb[a],null)},vb.langData=f("moment.langData is deprecated. Use moment.localeData instead.",function(a){return vb.localeData(a)}),vb.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return vb._locale;if(!w(a)){if(b=L(a))return b;a=[a]}return K(a)},vb.isMoment=function(a){return a instanceof m||null!=a&&c(a,"_isAMomentObject")},vb.isDuration=function(a){return a instanceof n};for(xb=tc.length-1;xb>=0;--xb)B(tc[xb]);vb.normalizeUnits=function(a){return z(a)},vb.invalid=function(a){var b=vb.utc(0/0);return null!=a?o(b._pf,a):b._pf.userInvalidated=!0,b},vb.parseZone=function(){return vb.apply(null,arguments).parseZone()},vb.parseTwoDigitYear=function(a){return C(a)+(C(a)>68?1900:2e3)},vb.isDate=x,o(vb.fn=m.prototype,{clone:function(){return vb(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=vb(this).utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&y(this._a,(this._isUTC?vb.utc(this._a):vb(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(a){var b=P(this,a||vb.defaultFormat);return this.localeData().postformat(b)},add:u(1,"add"),subtract:u(-1,"subtract"),diff:function(a,b,c){var d,e,f=M(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=j(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:q(e)},from:function(a,b){return vb.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(vb(),a)},calendar:function(a){var b=a||vb(),c=M(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,vb(b)))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=gb(a,this.localeData()),this.add(a-b,"d")):b},month:qb("Month",!0),startOf:function(a){switch(a=z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(b){return b=z(b),b===a||"millisecond"===b?this:this.startOf(b).add(1,"isoWeek"===b?"week":b).subtract(1,"ms")},isAfter:function(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+this>+a):(c=vb.isMoment(a)?+a:+vb(a),c<+this.clone().startOf(b))},isBefore:function(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+a>+this):(c=vb.isMoment(a)?+a:+vb(a),+this.clone().endOf(b)<c)},isBetween:function(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)},isSame:function(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+this===+a):(c=+vb(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))},min:f("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=vb.apply(null,arguments),this>a?this:a}),max:f("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=vb.apply(null,arguments),a>this?this:a}),zone:f("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}),utcOffset:function(a,b){var c,d=this._offset||0;return null!=a?("string"==typeof a&&(a=S(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.add(c,"m"),d!==a&&(!b||this._changeInProgress?v(this,vb.duration(a-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,vb.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?d:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(S(this._i)),this},hasAlignedHourOffset:function(a){return a=a?vb(a).utcOffset():0,(this.utcOffset()-a)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(a){var b=Ab((vb(this).startOf("day")-vb(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=jb(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=jb(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=jb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return E(this.year(),a.dow,a.doy)},get:function(a){return a=z(a),this[a]()},set:function(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else a=z(a),"function"==typeof this[a]&&this[a](b);return this},locale:function(b){var c;return b===a?this._locale._abbr:(c=vb.localeData(b),null!=c&&(this._locale=c),this)},lang:f("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),vb.fn.millisecond=vb.fn.milliseconds=qb("Milliseconds",!1),vb.fn.second=vb.fn.seconds=qb("Seconds",!1),vb.fn.minute=vb.fn.minutes=qb("Minutes",!1),vb.fn.hour=vb.fn.hours=qb("Hours",!0),vb.fn.date=qb("Date",!0),vb.fn.dates=f("dates accessor is deprecated. Use date instead.",qb("Date",!0)),vb.fn.year=qb("FullYear",!0),vb.fn.years=f("years accessor is deprecated. Use year instead.",qb("FullYear",!0)),vb.fn.days=vb.fn.day,vb.fn.months=vb.fn.month,vb.fn.weeks=vb.fn.week,vb.fn.isoWeeks=vb.fn.isoWeek,vb.fn.quarters=vb.fn.quarter,vb.fn.toJSON=vb.fn.toISOString,vb.fn.isUTC=vb.fn.isUtc,o(vb.duration.fn=n.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=q(d/1e3),g.seconds=a%60,b=q(a/60),g.minutes=b%60,c=q(b/60),g.hours=c%24,e+=q(c/24),h=q(rb(e)),e-=q(sb(h)),f+=q(e/30),e%=30,h+=q(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return q(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(a){var b=ib(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=vb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=vb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=z(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=z(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*rb(b),"month"===a?c:c/12;switch(b=this._days+Math.round(sb(this._months/12)),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:vb.fn.lang,locale:vb.fn.locale,toIsoString:f("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),vb.duration.fn.toString=vb.duration.fn.toISOString;for(xb in kc)c(kc,xb)&&tb(xb.toLowerCase());vb.duration.fn.asMilliseconds=function(){return this.as("ms")},vb.duration.fn.asSeconds=function(){return this.as("s")},vb.duration.fn.asMinutes=function(){return this.as("m")},vb.duration.fn.asHours=function(){return this.as("h")},vb.duration.fn.asDays=function(){return this.as("d")},vb.duration.fn.asWeeks=function(){return this.as("weeks")},vb.duration.fn.asMonths=function(){return this.as("M")},vb.duration.fn.asYears=function(){return this.as("y")},vb.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===C(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Lb?module.exports=vb:"function"==typeof define&&define.amd?(define(function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(zb.moment=wb),vb}),ub(!0)):ub()}).call(this);"format global";"deps angular";"deps moment";!function(){"use strict";function a(a,b){return a.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",b).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function(b,c,d,e,f){return function(g,h,i){function j(){var a;if(e.serverTime){var b=(new Date).getTime(),d=b-t+e.serverTime;a=c(d)}else a=c();return a}function k(){p&&(b.clearTimeout(p),p=null)}function l(a){h.text(a.from(j(),r)),s&&!h.attr("title")&&h.attr("title",a.local().format(s));var c=Math.abs(j().diff(a,"minute")),d=3600;1>c?d=1:60>c?d=30:180>c&&(d=300),p=b.setTimeout(function(){l(a)},1e3*d)}function m(a){w&&h.attr("datetime",a)}function n(){if(k(),o){var a=d.preprocessDate(o,u,q);l(a),m(a.toISOString())}}var o,p=null,q=f.format,r=e.withoutSuffix,s=e.titleFormat,t=(new Date).getTime(),u=f.preprocess,v=i.amTimeAgo,w="TIME"===h[0].nodeName.toUpperCase();g.$watch(v,function(a){return"undefined"==typeof a||null===a||""===a?(k(),void(o&&(h.text(""),m(""),o=null))):(o=a,void n())}),a.isDefined(i.amWithoutSuffix)&&g.$watch(i.amWithoutSuffix,function(a){"boolean"==typeof a?(r=a,n()):r=e.withoutSuffix}),i.$observe("amFormat",function(a){"undefined"!=typeof a&&(q=a,n())}),i.$observe("amPreprocess",function(a){u=a,n()}),g.$on("$destroy",function(){k()}),g.$on("amMoment:localeChanged",function(){n()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(b,c,d,e){this.preprocessors={utc:b.utc,unix:b.unix},this.changeLocale=function(d,e){var f=b.locale(d,e);return a.isDefined(d)&&c.$broadcast("amMoment:localeChanged"),f},this.changeTimezone=function(a){e.timezone=a,c.$broadcast("amMoment:timezoneChanged")},this.preprocessDate=function(c,f,g){return a.isUndefined(f)&&(f=e.preprocess),this.preprocessors[f]?this.preprocessors[f](c,g):(f&&d.warn("angular-moment: Ignoring unsupported value for preprocess: "+f),!isNaN(parseFloat(c))&&isFinite(c)?b(parseInt(c,10)):b(c,g))},this.applyTimezone=function(a){var b=e.timezone;return a&&b&&(a.tz?a=a.tz(b):d.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),a}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,d);var e=a(c);return e.isValid()?b.applyTimezone(e).calendar():""}return d.$stateful=c.statefulFilters,d}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e,f,g,h){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,g);var i=a(c);if(!i.isValid())return"";var j;if("undefined"==typeof d||null===d)j=a();else if(d=b.preprocessDate(d,h),j=a(d),!j.isValid())return"";return b.applyTimezone(i).diff(b.applyTimezone(j),e,f)}return d.$stateful=c.statefulFilters,d}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,e);var f=a(c);return f.isValid()?b.applyTimezone(f).format(d):""}return d.$stateful=c.statefulFilters,d}]).filter("amDurationFormat",["moment","angularMomentConfig",function(a,b){function c(b,c,d){return"undefined"==typeof b||null===b?"":a.duration(b,c).humanize(d)}return c.$stateful=b.statefulFilters,c}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(a,b,c){function d(c,d,e){if("undefined"==typeof c||null===c)return"";c=b.preprocessDate(c,d);var f=a(c);return f.isValid()?b.applyTimezone(f).fromNow(e):""}return d.$stateful=c.statefulFilters,d}])}"function"==typeof define&&define.amd?define(["angular","moment"],a):"undefined"!=typeof module&&module&&module.exports?(a(angular,require("moment")),module.exports="angularMoment"):a(angular,window.moment)}();var mod;mod=angular.module("infinite-scroll",[]),mod.directive("infiniteScroll",["$rootScope","$window","$timeout",function(i,n,e){return{link:function(t,l,o){var r,c,f,a;return n=angular.element(n),f=0,null!=o.infiniteScrollDistance&&t.$watch(o.infiniteScrollDistance,function(i){return f=parseInt(i,10)}),a=!0,r=!1,null!=o.infiniteScrollDisabled&&t.$watch(o.infiniteScrollDisabled,function(i){return a=!i,a&&r?(r=!1,c()):void 0}),c=function(){var e,c,u,d;return d=n.height()+n.scrollTop(),e=l.offset().top+l.height(),c=e-d,u=n.height()*f>=c,u&&a?i.$$phase?t.$eval(o.infiniteScroll):t.$apply(o.infiniteScroll):u?r=!0:void 0},n.on("scroll",c),t.$on("$destroy",function(){return n.off("scroll",c)}),e(function(){return o.infiniteScrollImmediateCheck?t.$eval(o.infiniteScrollImmediateCheck)?c():void 0:c()},0)}}}]);(function(){function initNgModules(element){var elements=[element],moduleElements=[],modules=[],names=["ng:module","ng-module","x-ng-module","data-ng-module","ng:modules","ng-modules","x-ng-modules","data-ng-modules"],NG_MODULE_CLASS_REGEXP=/\sng[:\-]module[s](:\s*([\w\d_]+);?)?\s/;function append(element){element&&elements.push(element)}for(var i=0;i<names.length;i++){var name=names[i];append(document.getElementById(name));name=name.replace(":","\\:");if(element.querySelectorAll){var elements2;elements2=element.querySelectorAll("."+name);for(var j=0;j<elements2.length;j++)append(elements2[j]);elements2=element.querySelectorAll("."+name+"\\:");for(var j=0;j<elements2.length;j++)append(elements2[j]);elements2=element.querySelectorAll("["+name+"]");for(var j=0;j<elements2.length;j++)append(elements2[j])}}for(var i=0;i<elements.length;i++){var element=elements[i];var className=" "+element.className+" ";var match=NG_MODULE_CLASS_REGEXP.exec(className);if(match){moduleElements.push(element);modules.push((match[2]||"").replace(/\s+/g,","))}else{if(element.attributes){for(var j=0;j<element.attributes.length;j++){var attr=element.attributes[j];if(names.indexOf(attr.name)!=-1){moduleElements.push(element);modules.push(attr.value)}}}}}for(var i=0;i<moduleElements.length;i++){var moduleElement=moduleElements[i];var module=modules[i].replace(/ /g,"").split(",");angular.bootstrap(moduleElement,module)}}angular.element(document).ready(function(){initNgModules(document)})})();(function(p,c,C){"use strict";function v(r,h,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,f,b,d,y){function z(){k&&(g.cancel(k),k=null);l&&(l.$destroy(),l=null);m&&(k=g.leave(m),k.then(function(){k=null}),m=null)}function x(){var b=r.current&&r.current.locals;if(c.isDefined(b&&b.$template)){var b=a.$new(),d=r.current;m=y(b,function(b){g.enter(b,null,m||f).then(function(){!c.isDefined(t)||t&&!a.$eval(t)||h()});z()});l=d.scope=b;l.$emit("$viewContentLoaded");l.$eval(w)}else z()}var l,m,k,t=b.autoscroll,w=b.onload||"";a.$on("$routeChangeSuccess",x);x()}}}function A(c,h,g){return{restrict:"ECA",priority:-400,link:function(a,f){var b=g.current,d=b.locals;f.html(d.$template);var y=c(f.contents());b.controller&&(d.$scope=a,d=h(b.controller,d),b.controllerAs&&(a[b.controllerAs]=d),f.data("$ngControllerController",d),f.children().data("$ngControllerController",d));y(a)}}}p=c.module("ngRoute",["ng"]).provider("$route",function(){function r(a,f){return c.extend(Object.create(a),f)}function h(a,c){var b=c.caseInsensitiveMatch,d={originalPath:a,regexp:a},g=d.keys=[];a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,c,b,d){a="?"===d?d:null;d="*"===d?d:null;g.push({name:b,optional:!!a});c=c||"";return""+(a?"":c)+"(?:"+(a?c:"")+(d&&"(.+?)"||"([^/]+)")+(a||"")+")"+(a||"")}).replace(/([\/$\*])/g,"\\$1");d.regexp=new RegExp("^"+a+"$",b?"i":"");return d}var g={};this.when=function(a,f){var b=c.copy(f);c.isUndefined(b.reloadOnSearch)&&(b.reloadOnSearch=!0);c.isUndefined(b.caseInsensitiveMatch)&&(b.caseInsensitiveMatch=this.caseInsensitiveMatch);g[a]=c.extend(b,a&&h(a,b));if(a){var d="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";g[d]=c.extend({redirectTo:a},h(d,b))}return this};this.caseInsensitiveMatch=!1;this.otherwise=function(a){"string"===typeof a&&(a={redirectTo:a});this.when(null,a);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(a,f,b,d,h,p,x){function l(b){var e=s.current;(v=(n=k())&&e&&n.$$route===e.$$route&&c.equals(n.pathParams,e.pathParams)&&!n.reloadOnSearch&&!w)||!e&&!n||a.$broadcast("$routeChangeStart",n,e).defaultPrevented&&b&&b.preventDefault()}function m(){var u=s.current,e=n;if(v)u.params=e.params,c.copy(u.params,b),a.$broadcast("$routeUpdate",u);else if(e||u)w=!1,(s.current=e)&&e.redirectTo&&(c.isString(e.redirectTo)?f.path(t(e.redirectTo,e.params)).search(e.params).replace():f.url(e.redirectTo(e.pathParams,f.path(),f.search())).replace()),d.when(e).then(function(){if(e){var a=c.extend({},e.resolve),b,f;c.forEach(a,function(b,e){a[e]=c.isString(b)?h.get(b):h.invoke(b,null,null,e)});c.isDefined(b=e.template)?c.isFunction(b)&&(b=b(e.params)):c.isDefined(f=e.templateUrl)&&(c.isFunction(f)&&(f=f(e.params)),c.isDefined(f)&&(e.loadedTemplateUrl=x.valueOf(f),b=p(f)));c.isDefined(b)&&(a.$template=b);return d.all(a)}}).then(function(f){e==s.current&&(e&&(e.locals=f,c.copy(e.params,b)),a.$broadcast("$routeChangeSuccess",e,u))},function(b){e==s.current&&a.$broadcast("$routeChangeError",e,u,b)})}function k(){var a,b;c.forEach(g,function(d,g){var q;if(q=!b){var h=f.path();q=d.keys;var l={};if(d.regexp)if(h=d.regexp.exec(h)){for(var k=1,m=h.length;k<m;++k){var n=q[k-1],p=h[k];n&&p&&(l[n.name]=p)}q=l}else q=null;else q=null;q=a=q}q&&(b=r(d,{params:c.extend({},f.search(),a),pathParams:a}),b.$$route=d)});return b||g[null]&&r(g[null],{params:{},pathParams:{}})}function t(a,b){var d=[];c.forEach((a||"").split(":"),function(a,c){if(0===c)d.push(a);else{var f=a.match(/(\w+)(?:[?*])?(.*)/),g=f[1];d.push(b[g]);d.push(f[2]||"");delete b[g]}});return d.join("")}var w=!1,n,v,s={routes:g,reload:function(){w=!0;a.$evalAsync(function(){l();m()})},updateParams:function(a){if(this.current&&this.current.$$route)a=c.extend({},this.current.params,a),f.path(t(this.current.$$route.originalPath,a)),f.search(a);else throw B("norout")}};a.$on("$locationChangeStart",l);a.$on("$locationChangeSuccess",m);return s}]});var B=c.$$minErr("ngRoute");p.provider("$routeParams",function(){this.$get=function(){return{}}});p.directive("ngView",v);p.directive("ngView",A);v.$inject=["$route","$anchorScroll","$animate"];A.$inject=["$compile","$controller","$route"]})(window,window.angular);(function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var k=e.which;switch(k){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return true}if(e.metaKey)return true;return false},isFunctionKey:function(k){k=k.which?k.which:k;return k>=112&&k<=123},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k)}};if(angular.element.prototype.querySelectorAll===undefined){angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))}}if(angular.element.prototype.closest===undefined){angular.element.prototype.closest=function(selector){var elem=this[0];var matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;while(elem){if(matchesSelector.bind(elem)(selector)){return elem}else{elem=elem.parentElement}}return false}}var latestId=0;var uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:true,sortable:false,placeholder:"",refreshDelay:1e3,closeOnSelect:true,dropdownPosition:"auto",generateId:function(){return latestId++},appendToBody:false}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var error=minErr.apply(this,arguments);var message=error.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query&&matchItem?matchItem.replace(new RegExp(escapeRegexp(query),"gi"),'<span class="ui-select-highlight">$&</span>'):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/choices.tpl.html"},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");return function link(scope,element,attrs,$select,transcludeFn){var groupByExp=attrs.groupBy;var groupFilterExp=attrs.groupFilter;$select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp);$select.disableChoiceExpression=attrs.uiDisableChoice;$select.onHighlightCallback=attrs.onHighlight;$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition;if(groupByExp){var groups=element.querySelectorAll(".ui-select-choices-group");if(groups.length!==1)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}var choices=element.querySelectorAll(".ui-select-choices-row");if(choices.length!==1){throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length)}choices.attr("ng-repeat",$select.parserResult.repeatExpression(groupByExp)).attr("ng-if","$select.open").attr("ng-click","$select.select("+$select.parserResult.itemName+",false,$event)");var rowsInner=element.querySelectorAll(".ui-select-choices-row-inner");if(rowsInner.length!==1)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);rowsInner.attr("uis-transclude-append","");$compile(element,transcludeFn)(scope);scope.$watch("$select.search",function(newValue){if(newValue&&!$select.open&&$select.multiple)$select.activate(false,true);$select.activeIndex=$select.tagging.isActivated?-1:0;$select.refresh(attrs.refresh)});attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=refreshDelay!==undefined?refreshDelay:uiSelectConfig.refreshDelay});attrs.$observe("enableGroupBy",function(){var enableGroupBy=scope.$eval(attrs.enableGroupBy);if(enableGroupBy!==undefined){$select.isGrouped=!!enableGroupBy}})}}}}]);uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse",function($scope,$element,$timeout,$filter,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse){var ctrl=this;var EMPTY_SEARCH="";ctrl.placeholder=uiSelectConfig.placeholder;ctrl.searchEnabled=uiSelectConfig.searchEnabled;ctrl.sortable=uiSelectConfig.sortable;ctrl.refreshDelay=uiSelectConfig.refreshDelay;ctrl.removeSelected=false;ctrl.closeOnSelect=true;ctrl.search=EMPTY_SEARCH;ctrl.activeIndex=0;ctrl.items=[];ctrl.open=false;ctrl.focus=false;ctrl.disabled=false;ctrl.selected=undefined;ctrl.dropdownPosition="auto";ctrl.focusser=undefined;ctrl.resetSearchInput=true;ctrl.multiple=undefined;ctrl.disableChoiceExpression=undefined;ctrl.tagging={isActivated:false,fct:undefined};ctrl.taggingTokens={isActivated:false,tokens:undefined};ctrl.lockChoiceExpression=undefined;ctrl.clickTriggeredSelect=false;ctrl.$filter=$filter;ctrl.searchInput=$element.querySelectorAll("input.ui-select-search");if(ctrl.searchInput.length!==1){throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length)}ctrl.isEmpty=function(){return angular.isUndefined(ctrl.selected)||ctrl.selected===null||ctrl.selected===""};function _resetSearchInput(){if(ctrl.resetSearchInput||ctrl.resetSearchInput===undefined&&uiSelectConfig.resetSearchInput){ctrl.search=EMPTY_SEARCH;if(ctrl.selected&&ctrl.items.length&&!ctrl.multiple){ctrl.activeIndex=ctrl.items.indexOf(ctrl.selected)}}}function _groupsFilter(groups,groupNames){var i,j,result=[];for(i=0;i<groupNames.length;i++){for(j=0;j<groups.length;j++){if(groups[j].name==[groupNames[i]]){result.push(groups[j])}}}return result}ctrl.activate=function(initSearchValue,avoidReset){if(!ctrl.disabled&&!ctrl.open){if(!avoidReset)_resetSearchInput();$scope.$broadcast("uis:activate");ctrl.open=true;ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex;if(ctrl.activeIndex===-1&&ctrl.taggingLabel!==false){ctrl.activeIndex=0}$timeout(function(){ctrl.search=initSearchValue||ctrl.search;ctrl.searchInput[0].focus();if(!ctrl.tagging.isActivated&&ctrl.items.length>1){_ensureHighlightVisible()}})}};ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]};ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){function updateGroups(items){var groupFn=$scope.$eval(groupByExp);ctrl.groups=[];angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn];var group=ctrl.findGroupByName(groupName);if(group){group.items.push(item)}else{ctrl.groups.push({name:groupName,items:[item]})}});if(groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);if(angular.isFunction(groupFilterFn)){ctrl.groups=groupFilterFn(ctrl.groups)}else if(angular.isArray(groupFilterFn)){ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn)}}ctrl.items=[];ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}function setPlainItems(items){ctrl.items=items}ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems;ctrl.parserResult=RepeatParser.parse(repeatAttr);ctrl.isGrouped=!!groupByExp;ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source;var createArrayFromObject=function(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};result[ctrl.parserResult.keyName]=v;result.value=origSrc[v];return result})};if(ctrl.parserResult.keyName){createArrayFromObject();ctrl.parserResult.source=$parse("$uisSource"+ctrl.parserResult.filters);$scope.$watch(originalSource,function(newVal,oldVal){if(newVal!==oldVal)createArrayFromObject()},true)}ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.removeSelected){ctrl.setItemsFn(data)}else{if(data!==undefined){var filteredItems=data.filter(function(i){return selectedItems&&selectedItems.indexOf(i)<0});ctrl.setItemsFn(filteredItems)}}if(ctrl.dropdownPosition==="auto"||ctrl.dropdownPosition==="up"){$scope.calculateDropdownPos()}};$scope.$watchCollection(ctrl.parserResult.source,function(items){if(items===undefined||items===null){ctrl.items=[]}else{if(!angular.isArray(items)){throw uiSelectMinErr("items","Expected an array but got '{0}'.",items)}else{ctrl.refreshItems(items);ctrl.ngModel.$modelValue=null}}})};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){if(refreshAttr!==undefined){if(_refreshDelayPromise){$timeout.cancel(_refreshDelayPromise)}_refreshDelayPromise=$timeout(function(){$scope.$eval(refreshAttr)},ctrl.refreshDelay)}};ctrl.isActive=function(itemScope){if(!ctrl.open){return false}var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isActive=itemIndex===ctrl.activeIndex;if(!isActive||itemIndex<0&&ctrl.taggingLabel!==false||itemIndex<0&&ctrl.taggingLabel===false){return false}if(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)){itemScope.$eval(ctrl.onHighlightCallback)}return isActive};ctrl.isDisabled=function(itemScope){if(!ctrl.open)return;var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]);var isDisabled=false;var item;if(itemIndex>=0&&!angular.isUndefined(ctrl.disableChoiceExpression)){item=ctrl.items[itemIndex];isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression);item._uiSelectChoiceDisabled=isDisabled}return isDisabled};ctrl.select=function(item,skipFocusser,$event){if(item===undefined||!item._uiSelectChoiceDisabled){if(!ctrl.items&&!ctrl.search)return;if(!item||!item._uiSelectChoiceDisabled){if(ctrl.tagging.isActivated){if(ctrl.taggingLabel===false){if(ctrl.activeIndex<0){item=ctrl.tagging.fct!==undefined?ctrl.tagging.fct(ctrl.search):ctrl.search;if(!item||angular.equals(ctrl.items[0],item)){return}}else{item=ctrl.items[ctrl.activeIndex]}}else{if(ctrl.activeIndex===0){if(item===undefined)return;if(ctrl.tagging.fct!==undefined&&typeof item==="string"){item=ctrl.tagging.fct(ctrl.search);if(!item)return}else if(typeof item==="string"){item=item.replace(ctrl.taggingLabel,"").trim()}}}if(ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length>0){ctrl.close(skipFocusser);return}}$scope.$broadcast("uis:select",item);var locals={};locals[ctrl.parserResult.itemName]=item;$timeout(function(){ctrl.onSelectCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals)})});if(ctrl.closeOnSelect){ctrl.close(skipFocusser)}if($event&&$event.type==="click"){ctrl.clickTriggeredSelect=true}}}};ctrl.close=function(skipFocusser){if(!ctrl.open)return;if(ctrl.ngModel&&ctrl.ngModel.$setTouched)ctrl.ngModel.$setTouched();_resetSearchInput();ctrl.open=false;$scope.$broadcast("uis:close",skipFocusser)};ctrl.setFocus=function(){if(!ctrl.focus)ctrl.focusInput[0].focus()};ctrl.clear=function($event){ctrl.select(undefined);$event.stopPropagation();$timeout(function(){ctrl.focusser[0].focus()},0,false)};ctrl.toggle=function(e){if(ctrl.open){ctrl.close();e.preventDefault();e.stopPropagation()}else{ctrl.activate()}};ctrl.isLocked=function(itemScope,itemIndex){var isLocked,item=ctrl.selected[itemIndex];if(item&&!angular.isUndefined(ctrl.lockChoiceExpression)){isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression);item._uiSelectChoiceLocked=isLocked}return isLocked};var sizeWatch=null;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.searchInput.parent().parent()[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent},updateIfVisible=function(containerWidth){if(containerWidth===0){return false}var inputWidth=containerWidth-input.offsetLeft-10;if(inputWidth<50)inputWidth=containerWidth;ctrl.searchInput.css("width",inputWidth+"px");return true};ctrl.searchInput.css("width","10px");$timeout(function(){if(sizeWatch===null&&!updateIfVisible(calculateContainerWidth())){sizeWatch=$scope.$watch(calculateContainerWidth,function(containerWidth){if(updateIfVisible(containerWidth)){sizeWatch();sizeWatch=null}})}})};function _handleDropDownSelection(key){var processed=true;switch(key){case KEY.DOWN:if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex<ctrl.items.length-1){ctrl.activeIndex++}break;case KEY.UP:if(!ctrl.open&&ctrl.multiple)ctrl.activate(false,true);else if(ctrl.activeIndex>0||ctrl.search.length===0&&ctrl.tagging.isActivated&&ctrl.activeIndex>-1){ctrl.activeIndex--}break;case KEY.TAB:if(!ctrl.multiple||ctrl.open)ctrl.select(ctrl.items[ctrl.activeIndex],true);break;case KEY.ENTER:if(ctrl.open&&(ctrl.tagging.isActivated||ctrl.activeIndex>=0)){ctrl.select(ctrl.items[ctrl.activeIndex])}else{ctrl.activate(false,true)}break;case KEY.ESC:ctrl.close();break;default:processed=false}return processed}ctrl.searchInput.on("keydown",function(e){var key=e.which;$scope.$apply(function(){var tagged=false;if(ctrl.items.length>0||ctrl.tagging.isActivated){_handleDropDownSelection(key);if(ctrl.taggingTokens.isActivated){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++){if(ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]){if(ctrl.search.length>0){tagged=true}}}if(tagged){$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();if(ctrl.tagging.fct){newItem=ctrl.tagging.fct(newItem)}if(newItem)ctrl.select(newItem,true)})}}}});if(KEY.isVerticalMovement(key)&&ctrl.items.length>0){_ensureHighlightVisible()}if(key===KEY.ENTER||key===KEY.ESC){e.preventDefault();e.stopPropagation()}});ctrl.searchInput.on("paste",function(e){var data=e.originalEvent.clipboardData.getData("text/plain");if(data&&data.length>0&&ctrl.taggingTokens.isActivated&&ctrl.tagging.fct){var items=data.split(ctrl.taggingTokens.tokens[0]);if(items&&items.length>0){angular.forEach(items,function(item){var newItem=ctrl.tagging.fct(item);if(newItem){ctrl.select(newItem,true)}});e.preventDefault();e.stopPropagation()}}});ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})});function _ensureHighlightVisible(){var container=$element.querySelectorAll(".ui-select-choices-content");var choices=container.querySelectorAll(".ui-select-choices-row");if(choices.length<1){throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length)}if(ctrl.activeIndex<0){return}var highlighted=choices[ctrl.activeIndex];var posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop;var height=container[0].offsetHeight;if(posY>height){container[0].scrollTop+=posY-height}else if(posY<highlighted.clientHeight){if(ctrl.isGrouped&&ctrl.activeIndex===0)container[0].scrollTop=0;else container[0].scrollTop-=highlighted.clientHeight-posY}}$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste")})}]);uis.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return theme+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:true,transclude:true,require:["uiSelect","^ngModel"],scope:true,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(tElement,tAttrs){if(angular.isDefined(tAttrs.multiple))tElement.append("<ui-select-multiple/>").removeAttr("multiple");else tElement.append("<ui-select-single/>");if(tAttrs.inputId)tElement.querySelectorAll("input.ui-select-search")[0].id=tAttrs.inputId;return function(scope,element,attrs,ctrls,transcludeFn){var $select=ctrls[0];var ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId();$select.baseTitle=attrs.title||"Select box";$select.focusserTitle=$select.baseTitle+" focus";$select.focusserId="focusser-"+$select.generatedId;$select.closeOnSelect=function(){if(angular.isDefined(attrs.closeOnSelect)){return $parse(attrs.closeOnSelect)()}else{return uiSelectConfig.closeOnSelect}}();$select.onSelectCallback=$parse(attrs.onSelect);$select.onRemoveCallback=$parse(attrs.onRemove);$select.limit=angular.isDefined(attrs.limit)?parseInt(attrs.limit,10):undefined;$select.ngModel=ngModel;$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name};if(attrs.tabindex){attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value);element.removeAttr("tabindex")})}scope.$watch("searchEnabled",function(){var searchEnabled=scope.$eval(attrs.searchEnabled);$select.searchEnabled=searchEnabled!==undefined?searchEnabled:uiSelectConfig.searchEnabled});scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=sortable!==undefined?sortable:uiSelectConfig.sortable});attrs.$observe("disabled",function(){$select.disabled=attrs.disabled!==undefined?attrs.disabled:false});attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=resetSearchInput!==undefined?resetSearchInput:true});attrs.$observe("tagging",function(){if(attrs.tagging!==undefined){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:true,fct:taggingEval!==true?taggingEval:undefined}}else{$select.tagging={isActivated:false,fct:undefined}}});attrs.$observe("taggingLabel",function(){if(attrs.tagging!==undefined){if(attrs.taggingLabel==="false"){$select.taggingLabel=false}else{$select.taggingLabel=attrs.taggingLabel!==undefined?attrs.taggingLabel:"(new)"}}});attrs.$observe("taggingTokens",function(){if(attrs.tagging!==undefined){var tokens=attrs.taggingTokens!==undefined?attrs.taggingTokens.split("|"):[",","ENTER"];$select.taggingTokens={isActivated:true,tokens:tokens}}});if(angular.isDefined(attrs.autofocus)){$timeout(function(){$select.setFocus()})}if(angular.isDefined(attrs.focusOn)){scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus()})})}function onDocumentClick(e){if(!$select.open)return;var contains=false;if(window.jQuery){contains=window.jQuery.contains(element[0],e.target)}else{contains=element[0].contains(e.target)}if(!contains&&!$select.clickTriggeredSelect){var focusableControls=["input","button","textarea"];var targetController=angular.element(e.target).controller("uiSelect");var skipFocusser=targetController&&targetController!==$select;if(!skipFocusser)skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase());$select.close(skipFocusser);scope.$digest()}$select.clickTriggeredSelect=false}$document.on("click",onDocumentClick);scope.$on("$destroy",function(){$document.off("click",onDocumentClick)});transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone);var transcludedMatch=transcluded.querySelectorAll(".ui-select-match");transcludedMatch.removeAttr("ui-select-match");transcludedMatch.removeAttr("data-ui-select-match");if(transcludedMatch.length!==1){throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length)}element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");transcludedChoices.removeAttr("ui-select-choices");transcludedChoices.removeAttr("data-ui-select-choices");if(transcludedChoices.length!==1){throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length)}element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices)});var appendToBody=scope.$eval(attrs.appendToBody);if(appendToBody!==undefined?appendToBody:uiSelectConfig.appendToBody){scope.$watch("$select.open",function(isOpen){if(isOpen){positionDropdown()}else{resetDropdown()}});scope.$on("$destroy",function(){resetDropdown()})}var placeholder=null,originalWidth="";function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>');placeholder[0].style.width=offset.width+"px";placeholder[0].style.height=offset.height+"px";element.after(placeholder);originalWidth=element[0].style.width;$document.find("body").append(element);element[0].style.position="absolute";element[0].style.left=offset.left+"px";element[0].style.top=offset.top+"px";element[0].style.width=offset.width+"px"}function resetDropdown(){if(placeholder===null){return}placeholder.replaceWith(element);placeholder=null;element[0].style.position="";element[0].style.left="";element[0].style.top="";element[0].style.width=originalWidth}var dropdown=null,directionUpClassName="direction-up";scope.$watch("$select.open",function(){if($select.dropdownPosition==="auto"||$select.dropdownPosition==="up"){scope.calculateDropdownPos()}});var setDropdownPosUp=function(offset,offsetDropdown){offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="absolute";dropdown[0].style.top=offsetDropdown.height*-1+"px";element.addClass(directionUpClassName)};var setDropdownPosDown=function(offset,offsetDropdown){element.removeClass(directionUpClassName);offset=offset||uisOffset(element);offsetDropdown=offsetDropdown||uisOffset(dropdown);dropdown[0].style.position="";dropdown[0].style.top=""};scope.calculateDropdownPos=function(){if($select.open){dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown");if(dropdown.length===0){return}dropdown[0].style.opacity=0;$timeout(function(){if($select.dropdownPosition==="up"){setDropdownPosUp(offset,offsetDropdown)}else{element.removeClass(directionUpClassName);var offset=uisOffset(element);var offsetDropdown=uisOffset(dropdown);var scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;if(offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight){setDropdownPosUp(offset,offsetDropdown)}else{setDropdownPosDown(offset,offsetDropdown)}}dropdown[0].style.opacity=1})}else{if(dropdown===null||dropdown.length===0){return}dropdown[0].style.position="";dropdown[0].style.top="";element.removeClass(directionUpClassName)}}}}}}]);uis.directive("uiSelectMatch",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:true,transclude:true,templateUrl:function(tElement){var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;var multi=tElement.parent().attr("multiple");return theme+(multi?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(scope,element,attrs,$select){$select.lockChoiceExpression=attrs.uiLockChoice;attrs.$observe("placeholder",function(placeholder){$select.placeholder=placeholder!==undefined?placeholder:uiSelectConfig.placeholder});function setAllowClear(allow){$select.allowClear=angular.isDefined(allow)?allow===""?true:allow.toLowerCase()==="true":false}attrs.$observe("allowClear",setAllowClear);setAllowClear(attrs.allowClear);if($select.multiple){$select.sizeSearchInput()}}}}]);uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ctrl=this,$select=$scope.$select,ngModel;$scope.$evalAsync(function(){ngModel=$scope.ngModel});ctrl.activeMatchIndex=-1;ctrl.updateModel=function(){ngModel.$setViewValue(Date.now());ctrl.refreshComponent()};ctrl.refreshComponent=function(){$select.refreshItems();$select.sizeSearchInput()};ctrl.removeChoice=function(index){var removedChoice=$select.selected[index];if(removedChoice._uiSelectChoiceLocked)return;var locals={};locals[$select.parserResult.itemName]=removedChoice;$select.selected.splice(index,1);ctrl.activeMatchIndex=-1;$select.sizeSearchInput();$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)})});ctrl.updateModel()};ctrl.getPlaceholder=function(){if($select.selected&&$select.selected.length)return;return $select.placeholder}}],controllerAs:"$selectMultiple",link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=scope.ngModel=ctrls[1];var $selectMultiple=scope.$selectMultiple;$select.multiple=true;$select.removeSelected=true;$select.focusInput=$select.searchInput;ngModel.$parsers.unshift(function(){var locals={},result,resultMultiple=[];for(var j=$select.selected.length-1;j>=0;j--){locals={};locals[$select.parserResult.itemName]=$select.selected[j];result=$select.parserResult.modelMapper(scope,locals);resultMultiple.unshift(result)}return resultMultiple});ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult.source(scope,{$select:{search:""}}),locals={},result;if(!data)return inputValue;var resultMultiple=[];var checkFnMultiple=function(list,value){if(!list||!list.length)return;for(var p=list.length-1;p>=0;p--){locals[$select.parserResult.itemName]=list[p];result=$select.parserResult.modelMapper(scope,locals);if($select.parserResult.trackByExp){var matches=/\.(.+)/.exec($select.parserResult.trackByExp);if(matches.length>0&&result[matches[1]]==value[matches[1]]){resultMultiple.unshift(list[p]);return true}}if(angular.equals(result,value)){resultMultiple.unshift(list[p]);return true}}return false};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--){if(!checkFnMultiple($select.selected,inputValue[k])){if(!checkFnMultiple(data,inputValue[k])){resultMultiple.unshift(inputValue[k])}}}return resultMultiple});scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){if(oldValue!=newValue){ngModel.$modelValue=null;$selectMultiple.refreshComponent()}});ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(angular.isUndefined(ngModel.$viewValue)||ngModel.$viewValue===null){$select.selected=[]}else{throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue)}}$select.selected=ngModel.$viewValue;scope.$evalAsync()};scope.$on("uis:select",function(event,item){if($select.selected.length>=$select.limit){return}$select.selected.push(item);$selectMultiple.updateModel()});scope.$on("uis:activate",function(){$selectMultiple.activeMatchIndex=-1});scope.$watch("$select.disabled",function(newValue,oldValue){if(oldValue&&!newValue)$select.sizeSearchInput()});$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=false;if(KEY.isHorizontalMovement(key)){processed=_handleMatchSelection(key)}if(processed&&key!=KEY.TAB){e.preventDefault();e.stopPropagation()}})});function _getCaretPosition(el){if(angular.isNumber(el.selectionStart))return el.selectionStart;else return el.value.length}function _handleMatchSelection(key){var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,first=0,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;if(caretPosition>0||$select.search.length&&key==KEY.RIGHT)return false;$select.close();function getNewActiveMatchIndex(){switch(key){case KEY.LEFT:if(~$selectMultiple.activeMatchIndex)return prev;else return last;break;case KEY.RIGHT:if(!~$selectMultiple.activeMatchIndex||curr===last){$select.activate();return false}else return next;break;case KEY.BACKSPACE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice(curr);return prev}else return last;break;case KEY.DELETE:if(~$selectMultiple.activeMatchIndex){$selectMultiple.removeChoice($selectMultiple.activeMatchIndex);return curr}else return false}}newIndex=getNewActiveMatchIndex();if(!$select.selected.length||newIndex===false)$selectMultiple.activeMatchIndex=-1;else $selectMultiple.activeMatchIndex=Math.min(last,Math.max(first,newIndex));return true}$select.searchInput.on("keyup",function(e){if(!KEY.isVerticalMovement(e.which)){scope.$evalAsync(function(){$select.activeIndex=$select.taggingLabel===false?-1:0})}if($select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which)){return}$select.activeIndex=$select.taggingLabel===false?-1:0;if($select.taggingLabel===false)return;var items=angular.copy($select.items);var stashArr=angular.copy($select.items);var newItem;var item;var hasTag=false;var dupeIndex=-1;var tagItems;var tagItem;if($select.tagging.fct!==undefined){tagItems=$select.$filter("filter")(items,{isTag:true});if(tagItems.length>0){tagItem=tagItems[0]}if(items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.tagging.fct($select.search);newItem.isTag=true;if(stashArr.filter(function(origItem){return angular.equals(origItem,$select.tagging.fct($select.search))}).length>0){return}newItem.isTag=true}else{tagItems=$select.$filter("filter")(items,function(item){return item.match($select.taggingLabel)});if(tagItems.length>0){tagItem=tagItems[0]}item=items[0];if(item!==undefined&&items.length>0&&tagItem){hasTag=true;items=items.slice(1,items.length);stashArr=stashArr.slice(1,stashArr.length)}newItem=$select.search+" "+$select.taggingLabel;if(_findApproxDupe($select.selected,$select.search)>-1){return}if(_findCaseInsensitiveDupe(stashArr.concat($select.selected))){if(hasTag){items=stashArr;scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items})}return}if(_findCaseInsensitiveDupe(stashArr)){if(hasTag){$select.items=stashArr.slice(1,stashArr.length)}return}}if(hasTag)dupeIndex=_findApproxDupe($select.selected,newItem);if(dupeIndex>-1){items=items.slice(dupeIndex+1,items.length-1)}else{items=[];items.push(newItem);items=items.concat(stashArr)}scope.$evalAsync(function(){$select.activeIndex=0;$select.items=items})}});function _findCaseInsensitiveDupe(arr){if(arr===undefined||$select.search===undefined){return false}var hasDupe=arr.filter(function(origItem){if($select.search.toUpperCase()===undefined||origItem===undefined){return false}return origItem.toUpperCase()===$select.search.toUpperCase()}).length>0;return hasDupe}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack)){var tempArr=angular.copy(haystack);for(var i=0;i<tempArr.length;i++){if($select.tagging.fct===undefined){if(tempArr[i]+" "+$select.taggingLabel===needle){dupeIndex=i}}else{var mockObj=tempArr[i];mockObj.isTag=true;if(angular.equals(mockObj,needle)){dupeIndex=i}}}}return dupeIndex}$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1})})}}}]);uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){var $select=ctrls[0];var ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){var locals={},result;locals[$select.parserResult.itemName]=inputValue;result=$select.parserResult.modelMapper(scope,locals);return result});ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult.source(scope,{$select:{search:""}}),locals={},result;if(data){var checkFnSingle=function(d){locals[$select.parserResult.itemName]=d;result=$select.parserResult.modelMapper(scope,locals);return result==inputValue};if($select.selected&&checkFnSingle($select.selected)){return $select.selected}for(var i=data.length-1;i>=0;i--){if(checkFnSingle(data[i]))return data[i]}}return inputValue});scope.$watch("$select.selected",function(newValue){if(ngModel.$viewValue!==newValue){ngModel.$setViewValue(newValue)}});ngModel.$render=function(){$select.selected=ngModel.$viewValue};scope.$on("uis:select",function(event,item){$select.selected=item});scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",false);if(!skipFocusser)$select.focusser[0].focus()},0,false)});scope.$on("uis:activate",function(){focusser.prop("disabled",true)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope);$select.focusser=focusser;$select.focusInput=focusser;element.parent().append(focusser);focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=true})});focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=false})});focusser.bind("keydown",function(e){if(e.which===KEY.BACKSPACE){e.preventDefault();e.stopPropagation();$select.select(undefined);scope.$apply();return}if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC){return}if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER||e.which==KEY.SPACE){e.preventDefault();e.stopPropagation();$select.activate()}scope.$digest()});focusser.bind("keyup input",function(e){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE){return}$select.activate(focusser.val());focusser.val("");scope.$digest()})}}}]);uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:"^uiSelect",link:function(scope,element,attrs,$select){if(scope[attrs.uiSelectSort]===null){throw uiSelectMinErr("sort","Expected a list to sort")}var options=angular.extend({axis:"horizontal"},scope.$eval(attrs.uiSelectSortOptions));var axis=options.axis,draggingClassName="dragging",droppingClassName="dropping",droppingBeforeClassName="dropping-before",droppingAfterClassName="dropping-after";scope.$watch(function(){return $select.sortable},function(n){if(n){element.attr("draggable",true)}else{element.removeAttr("draggable")}});element.on("dragstart",function(e){element.addClass(draggingClassName);(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",scope.$index)});element.on("dragend",function(){element.removeClass(draggingClassName)});var move=function(from,to){this.splice(to,0,this.splice(from,1)[0])};var dragOverHandler=function(e){e.preventDefault();var offset=axis==="vertical"?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);if(offset<this[axis==="vertical"?"offsetHeight":"offsetWidth"]/2){element.removeClass(droppingAfterClassName);element.addClass(droppingBeforeClassName)}else{element.removeClass(droppingBeforeClassName);element.addClass(droppingAfterClassName)}};var dropTimeout;var dropHandler=function(e){e.preventDefault();var droppedItemIndex=parseInt((e.dataTransfer||e.originalEvent.dataTransfer).getData("text/plain"),10);$timeout.cancel(dropTimeout);dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex)},20)};var _dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort),itemToMove=theList[droppedItemIndex],newIndex=null;if(element.hasClass(droppingBeforeClassName)){if(droppedItemIndex<scope.$index){newIndex=scope.$index-1}else{newIndex=scope.$index}}else{if(droppedItemIndex<scope.$index){newIndex=scope.$index}else{newIndex=scope.$index+1}}move.apply(theList,[droppedItemIndex,newIndex]);scope.$apply(function(){scope.$emit("uiSelectSort:change",{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})});element.removeClass(droppingClassName);element.removeClass(droppingBeforeClassName);element.removeClass(droppingAfterClassName);element.off("drop",dropHandler)};element.on("dragenter",function(){if(element.hasClass(draggingClassName)){return}element.addClass(droppingClassName);element.on("dragover",dragOverHandler);element.on("drop",dropHandler)});element.on("dragleave",function(e){if(e.target!=element){return}element.removeClass(droppingClassName);element.removeClass(droppingBeforeClassName);element.removeClass(droppingAfterClassName);element.off("dragover",dragOverHandler);element.off("drop",dropHandler)})}}}]);uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;var isObjectCollection=/\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)/.test(expression);match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(([\w\.]+)?\s*(|\s*[\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match){throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression)}if(!match[6]&&isObjectCollection){throw uiSelectMinErr("iexp","Expected expression in form of '_item_ as (_key_, _item_) in _ObjCollection_ [ track by _id_]' but got '{0}'.",expression)}return{itemName:match[4]||match[2],keyName:match[3],source:$parse(!match[3]?match[5]:match[6]),sourceName:match[6],filters:match[7],trackByExp:match[8],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function(grouped){var expression=this.itemName+" in "+(grouped?"$group.items":"$select.items");if(this.trackByExp){expression+=" track by "+this.trackByExp}return expression}}};self.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])})();angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>');$templateCache.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>');$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>');$templateCache.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>');$templateCache.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>');$templateCache.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>');$templateCache.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>');$templateCache.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="false" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="$select.selected && !$select.open" ng-readonly="!$select.searchEnabled" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>');$templateCache.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>');$templateCache.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>');$templateCache.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>');$templateCache.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="false" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>');$templateCache.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="false" autocorrect="false" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>')}]);(function(window,angular,undefined){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))}));return buf.join("")}}]}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,angular.noop);writer.chars(chars);return buf.join("")}var START_TAG_REGEXP=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,END_TAG_REGEXP=/^<\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g;var voidElements=makeMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul"));var inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=makeMap("animate,animateColor,animateMotion,animateTransform,circle,defs,"+"desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,"+"line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,"+"stop,svg,switch,text,title,tspan,use");var specialElements=makeMap("script,style");var validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements,svgElements);var uriAttrs=makeMap("background,cite,href,longdesc,src,usemap,xlink:href");var htmlAttrs=makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,target,title,type,"+"valign,value,vspace,width");var svgAttrs=makeMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,"+"color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,"+"font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,"+"gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,"+"keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,"+"markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,"+"overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,"+"repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,"+"stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,"+"stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,"+"stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,"+"underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,"+"viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,"+"xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,"+"zoomAndPan");var validAttrs=angular.extend({},uriAttrs,svgAttrs,htmlAttrs);function makeMap(str){var obj={},items=str.split(","),i;for(i=0;i<items.length;i++)obj[items[i]]=true;return obj}function htmlParser(html,handler){if(typeof html!=="string"){if(html===null||typeof html==="undefined"){html=""}else{html=""+html}}var index,chars,match,stack=[],last=html,text;stack.last=function(){return stack[stack.length-1]};while(html){text="";chars=true;if(!stack.last()||!specialElements[stack.last()]){if(html.indexOf("\x3c!--")===0){index=html.indexOf("--",4);if(index>=0&&html.lastIndexOf("--\x3e",index)===index){if(handler.comment)handler.comment(html.substring(4,index));html=html.substring(index+3);chars=false}}else if(DOCTYPE_REGEXP.test(html)){match=html.match(DOCTYPE_REGEXP);if(match){html=html.replace(match[0],"");chars=false}}else if(BEGING_END_TAGE_REGEXP.test(html)){match=html.match(END_TAG_REGEXP);if(match){html=html.substring(match[0].length);match[0].replace(END_TAG_REGEXP,parseEndTag);chars=false}}else if(BEGIN_TAG_REGEXP.test(html)){match=html.match(START_TAG_REGEXP);if(match){if(match[4]){html=html.substring(match[0].length);match[0].replace(START_TAG_REGEXP,parseStartTag)}chars=false}else{text+="<";html=html.substring(1)}}if(chars){index=html.indexOf("<");text+=index<0?html:html.substring(0,index);html=index<0?"":html.substring(index);if(handler.chars)handler.chars(decodeEntities(text))}}else{html=html.replace(new RegExp("(.*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1");if(handler.chars)handler.chars(decodeEntities(text));return""});parseEndTag("",stack.last())}if(html==last){throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block "+"of html: {0}",html)}last=html}parseEndTag();function parseStartTag(tag,tagName,rest,unary){tagName=angular.lowercase(tagName);if(blockElements[tagName]){while(stack.last()&&inlineElements[stack.last()]){parseEndTag("",stack.last())}}if(optionalEndTagElements[tagName]&&stack.last()==tagName){parseEndTag("",tagName)}unary=voidElements[tagName]||!!unary;if(!unary)stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)});if(handler.start)handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var pos=0,i;tagName=angular.lowercase(tagName);if(tagName)for(pos=stack.length-1;pos>=0;pos--)if(stack[pos]==tagName)break;if(pos>=0){for(i=stack.length-1;i>=pos;i--)if(handler.end)handler.end(stack[i]);stack.length=pos}}}var hiddenPre=document.createElement("pre");var spaceRe=/^(\s*)([\s\S]*?)(\s*)$/;function decodeEntities(value){if(!value){return""}var parts=spaceRe.exec(value);var spaceBefore=parts[1];var spaceAfter=parts[3];var content=parts[2];if(content){hiddenPre.innerHTML=content.replace(/</g,"&lt;");content="textContent"in hiddenPre?hiddenPre.textContent:hiddenPre.innerText}return spaceBefore+content+spaceAfter}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"}).replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=false;var out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag);if(!ignore&&specialElements[tag]){ignore=tag}if(!ignore&&validElements[tag]===true){out("<");out(tag);angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}});out(unary?"/>":">")}},end:function(tag){tag=angular.lowercase(tag);if(!ignore&&validElements[tag]===true){out("</");out(tag);out(">")}if(tag==ignore){ignore=false}},chars:function(chars){if(!ignore){out(encodeEntities(chars))}}}}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider);angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,MAILTO_REGEXP=/^mailto:/;return function(text,target){if(!text)return text;var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){html.push("<a ");if(angular.isDefined(target)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular);!function(){"use strict";var e=angular.module("smoothScroll",[]),t=function(e,t){t=t||{};var n=t.duration||800,o=t.offset||0,a=t.easing||"easeInOutQuart",c=t.callbackBefore||function(){},r=t.callbackAfter||function(){},f=function(){return window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop};setTimeout(function(){var t,l,u=f(),i=0,s=function(e,t){return"easeInQuad"==e?t*t:"easeOutQuad"==e?t*(2-t):"easeInOutQuad"==e?.5>t?2*t*t:-1+(4-2*t)*t:"easeInCubic"==e?t*t*t:"easeOutCubic"==e?--t*t*t+1:"easeInOutCubic"==e?.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1:"easeInQuart"==e?t*t*t*t:"easeOutQuart"==e?1- --t*t*t*t:"easeInOutQuart"==e?.5>t?8*t*t*t*t:1-8*--t*t*t*t:"easeInQuint"==e?t*t*t*t*t:"easeOutQuint"==e?1+--t*t*t*t*t:"easeInOutQuint"==e?.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t:t},d=function(e){var t=0;if(e.offsetParent)do{t+=e.offsetTop,e=e.offsetParent}while(e);return t=Math.max(t-o,0)},b=d(e),k=b-u,m=function(){var t=f();l!=b&&t!=b&&window.innerHeight+t<document.body.scrollHeight||(clearInterval(I),r(e))},v=function(){i+=16,t=i/n,t=t>1?1:t,l=u+k*s(a,t),window.scrollTo(0,l),m()};c(e);var I=setInterval(v,16)},0)};e.factory("smoothScroll",function(){return t}),e.directive("smoothScroll",["smoothScroll",function(e){return{restrict:"A",scope:{callbackBefore:"&",callbackAfter:"&"},link:function(t,n,o){(void 0===o.scrollIf||"true"===o.scrollIf)&&setTimeout(function(){var a=function(e){if(o.callbackBefore){var n=t.callbackBefore({element:e});"function"==typeof n&&n(e)}},c=function(e){if(o.callbackAfter){var n=t.callbackAfter({element:e});"function"==typeof n&&n(e)}};e(n[0],{duration:o.duration,offset:o.offset,easing:o.easing,callbackBefore:a,callbackAfter:c})},0)}}}]),e.directive("scrollTo",["smoothScroll",function(e){return{restrict:"A",scope:{callbackBefore:"&",callbackAfter:"&"},link:function(t,n,o){var a;n.on("click",function(n){if(n.preventDefault(),a=document.getElementById(o.scrollTo)){var c=function(e){if(o.callbackBefore){var n=t.callbackBefore({element:e});"function"==typeof n&&n(e)}},r=function(e){if(o.callbackAfter){var n=t.callbackAfter({element:e});"function"==typeof n&&n(e)}};return e(a,{duration:o.duration,offset:o.offset,easing:o.easing,callbackBefore:c,callbackAfter:r}),!1}})}}}])}();(function(){var key,i;function patchXHR(fnName,newFn){window.XMLHttpRequest.prototype[fnName]=newFn(window.XMLHttpRequest.prototype[fnName])}if(window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim){patchXHR("setRequestHeader",function(orig){return function(header,value){if(header==="__setXHR_"){var val=value(this);if(val instanceof Function){val(this)}}else{orig.apply(this,arguments)}}})}var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="4.0.4";ngFileUpload.service("Upload",["$http","$q","$timeout",function($http,$q,$timeout){function sendHttp(config){config.method=config.method||"POST";config.headers=config.headers||{};config.transformRequest=config.transformRequest||function(data,headersGetter){if(window.ArrayBuffer&&data instanceof window.ArrayBuffer){return data}return $http.defaults.transformRequest[0](data,headersGetter)};var deferred=$q.defer();var promise=deferred.promise;config.headers["__setXHR_"]=function(){return function(xhr){if(!xhr)return;config.__XHR=xhr;config.xhrFn&&config.xhrFn(xhr);xhr.upload.addEventListener("progress",function(e){e.config=config;deferred.notify?deferred.notify(e):promise.progress_fn&&$timeout(function(){promise.progress_fn(e)})},false);xhr.upload.addEventListener("load",function(e){if(e.lengthComputable){e.config=config;deferred.notify?deferred.notify(e):promise.progress_fn&&$timeout(function(){promise.progress_fn(e)})}},false)}};console.log(config);$http(config).then(function(r){deferred.resolve(r)},function(e){deferred.reject(e)},function(n){deferred.notify(n)});promise.success=function(fn){promise.then(function(response){fn(response.data,response.status,response.headers,config)});return promise};promise.error=function(fn){promise.then(null,function(response){fn(response.data,response.status,response.headers,config)});return promise};promise.progress=function(fn){promise.progress_fn=fn;promise.then(null,null,function(update){fn(update)});return promise};promise.abort=function(){if(config.__XHR){$timeout(function(){config.__XHR.abort()})}return promise};promise.xhr=function(fn){config.xhrFn=function(origXhrFn){return function(){origXhrFn&&origXhrFn.apply(promise,arguments);fn.apply(promise,arguments)}}(config.xhrFn);return promise};return promise}this.upload=function(config){config.headers=config.headers||{};config.headers["Content-Type"]=undefined;config.transformRequest=config.transformRequest?angular.isArray(config.transformRequest)?config.transformRequest:[config.transformRequest]:[];config.transformRequest.push(function(data){var formData=new FormData;var allFields={};for(key in config.fields){if(config.fields.hasOwnProperty(key)){allFields[key]=config.fields[key]}}if(data)allFields["data"]=data;if(config.formDataAppender){for(key in allFields){if(allFields.hasOwnProperty(key)){config.formDataAppender(formData,key,allFields[key])}}}else{for(key in allFields){if(allFields.hasOwnProperty(key)){var val=allFields[key];if(val!==undefined){if(angular.isDate(val)){val=val.toISOString()}if(angular.isString(val)){formData.append(key,val)}else{if(config.sendObjectsAsJsonBlob&&angular.isObject(val)){formData.append(key,new Blob([val],{type:"application/json"}))}else{formData.append(key,JSON.stringify(val))}}}}}}if(config.file!=null){var fileFormName=config.fileFormDataName||"file";if(angular.isArray(config.file)){var isFileFormNameString=angular.isString(fileFormName);for(var i=0;i<config.file.length;i++){formData.append(isFileFormNameString?fileFormName:fileFormName[i],config.file[i],config.fileName&&config.fileName[i]||config.file[i].name)}}else{formData.append(fileFormName,config.file,config.fileName||config.file.name)}}return formData});console.log("ng-file-upload");console.log(config);return sendHttp(config)};this.http=function(config){return sendHttp(config)}}]);ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile",function($parse,$timeout,$compile){return{restrict:"AEC",require:"?ngModel",link:function(scope,elem,attr,ngModel){linkFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile)}}}]);function linkFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile){function isInputTypeFile(){return elem[0].tagName.toLowerCase()==="input"&&elem.attr("type")&&elem.attr("type").toLowerCase()==="file"}var changeFnAttr=attr.ngfChange||attr.ngfSelect&&attr.ngfSelect.indexOf("(")>0;var isUpdating=false;function changeFn(evt){if(!isUpdating){isUpdating=true;try{var fileList=evt.__files_||evt.target&&evt.target.files;var files=[],rejFiles=[];for(var i=0;i<fileList.length;i++){var file=fileList.item(i);if(validate(scope,$parse,attr,file,evt)){files.push(file)}else{rejFiles.push(file)}}updateModel($parse,$timeout,scope,ngModel,attr,changeFnAttr,files,rejFiles,evt);if(files.length==0)evt.target.value=files}finally{isUpdating=false}}}function bindAttrToFileInput(fileElem){if(attr.ngfMultiple)fileElem.attr("multiple",$parse(attr.ngfMultiple)(scope));if(!$parse(attr.ngfMultiple)(scope))fileElem.attr("multiple",undefined);if(attr["accept"])fileElem.attr("accept",attr["accept"]);if(attr.ngfCapture)fileElem.attr("capture",$parse(attr.ngfCapture)(scope));if(attr.ngfDisabled)fileElem.attr("disabled",$parse(attr.ngfDisabled)(scope));for(var i=0;i<elem[0].attributes.length;i++){var attribute=elem[0].attributes[i];if(attribute.name!=="type"&&attribute.name!=="class"&&attribute.name!=="id"&&attribute.name!=="style"){fileElem.attr(attribute.name,attribute.value)}}}function createFileInput(evt){if(elem.attr("disabled")){return}var fileElem=angular.element('<input type="file">');bindAttrToFileInput(fileElem);if(isInputTypeFile()){elem.replaceWith(fileElem);elem=fileElem}else{fileElem.css("display","none").attr("tabindex","-1").attr("__ngf_gen__",true);if(elem.__ngf_ref_elem__){elem.__ngf_ref_elem__.remove()}elem.__ngf_ref_elem__=fileElem;document.body.appendChild(fileElem[0])}return fileElem}function resetModel(evt){updateModel($parse,$timeout,scope,ngModel,attr,changeFnAttr,[],[],evt,true)}function clickHandler(evt){evt.preventDefault();var fileElem=createFileInput(evt);if(fileElem){fileElem.bind("change",changeFn);resetModel(evt);function clickAndAssign(){fileElem[0].click();if(isInputTypeFile()){elem.bind("click touchend",clickHandler);evt.preventDefault()}}if(navigator.userAgent.toLowerCase().match(/android/)){setTimeout(function(){clickAndAssign()},0)}else{clickAndAssign()}}}if(window.FileAPI&&window.FileAPI.ngfFixIE){window.FileAPI.ngfFixIE(elem,createFileInput,bindAttrToFileInput,changeFn,resetModel)}else{elem.bind("click touchend",clickHandler)}}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location",function($parse,$timeout,$location){return{restrict:"AEC",require:"?ngModel",link:function(scope,elem,attr,ngModel){linkDrop(scope,elem,attr,ngModel,$parse,$timeout,$location)}}}]);ngFileUpload.directive("ngfNoFileDrop",function(){return function(scope,elem){if(dropAvailable())elem.css("display","none")}});ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout",function($parse,$timeout){return function(scope,elem,attr){if(dropAvailable()){var fn=$parse(attr.ngfDropAvailable);$timeout(function(){fn(scope);if(fn.assign){fn.assign(scope,true)}})}}}]);function linkDrop(scope,elem,attr,ngModel,$parse,$timeout,$location){var available=dropAvailable();if(attr.dropAvailable){$timeout(function(){scope[attr.dropAvailable]?scope[attr.dropAvailable].value=available:scope[attr.dropAvailable]=available})}if(!available){if($parse(attr.ngfHideOnDropNotAvailable)(scope)==true){elem.css("display","none")}return}var leaveTimeout=null;var stopPropagation=$parse(attr.ngfStopPropagation);var dragOverDelay=1;var accept=$parse(attr.ngfAccept);var disabled=$parse(attr.ngfDisabled);var actualDragOverClass;elem[0].addEventListener("dragover",function(evt){if(disabled(scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation();if(navigator.userAgent.indexOf("Chrome")>-1){var b=evt.dataTransfer.effectAllowed;evt.dataTransfer.dropEffect="move"===b||"linkMove"===b?"move":"copy"}$timeout.cancel(leaveTimeout);if(!scope.actualDragOverClass){actualDragOverClass=calculateDragOverClass(scope,attr,evt)}elem.addClass(actualDragOverClass)},false);elem[0].addEventListener("dragenter",function(evt){if(disabled(scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation()},false);elem[0].addEventListener("dragleave",function(){if(disabled(scope))return;leaveTimeout=$timeout(function(){elem.removeClass(actualDragOverClass);actualDragOverClass=null},dragOverDelay||1)},false);elem[0].addEventListener("drop",function(evt){if(disabled(scope))return;evt.preventDefault();if(stopPropagation(scope))evt.stopPropagation();elem.removeClass(actualDragOverClass);actualDragOverClass=null;extractFiles(evt,function(files,rejFiles){updateModel($parse,$timeout,scope,ngModel,attr,attr.ngfChange||attr.ngfDrop&&attr.ngfDrop.indexOf("(")>0,files,rejFiles,evt)},$parse(attr.ngfAllowDir)(scope)!=false,attr.multiple||$parse(attr.ngfMultiple)(scope))},false);function calculateDragOverClass(scope,attr,evt){var accepted=true;var items=evt.dataTransfer.items;if(items!=null){for(var i=0;i<items.length&&accepted;i++){accepted=accepted&&(items[i].kind=="file"||items[i].kind=="")&&validate(scope,$parse,attr,items[i],evt)}}var clazz=$parse(attr.ngfDragOverClass)(scope,{$event:evt});if(clazz){if(clazz.delay)dragOverDelay=clazz.delay;if(clazz.accept)clazz=accepted?clazz.accept:clazz.reject}return clazz||attr.ngfDragOverClass||"dragover"}function extractFiles(evt,callback,allowDir,multiple){var files=[],rejFiles=[],items=evt.dataTransfer.items,processing=0;function addFile(file){if(validate(scope,$parse,attr,file,evt)){files.push(file)}else{rejFiles.push(file)}}if(items&&items.length>0&&$location.protocol()!="file"){for(var i=0;i<items.length;i++){if(items[i].webkitGetAsEntry&&items[i].webkitGetAsEntry()&&items[i].webkitGetAsEntry().isDirectory){var entry=items[i].webkitGetAsEntry();if(entry.isDirectory&&!allowDir){continue}if(entry!=null){traverseFileTree(files,entry)}}else{var f=items[i].getAsFile();if(f!=null)addFile(f)}if(!multiple&&files.length>0)break}}else{var fileList=evt.dataTransfer.files;if(fileList!=null){for(var i=0;i<fileList.length;i++){addFile(fileList.item(i));if(!multiple&&files.length>0)break}}}var delays=0;(function waitForProcess(delay){$timeout(function(){if(!processing){if(!multiple&&files.length>1){i=0;while(files[i].type=="directory")i++;files=[files[i]]}callback(files,rejFiles)}else{if(delays++*10<20*1e3){waitForProcess(10)}}},delay||0)})();function traverseFileTree(files,entry,path){if(entry!=null){if(entry.isDirectory){var filePath=(path||"")+entry.name;addFile({name:entry.name,type:"directory",path:filePath});var dirReader=entry.createReader();var entries=[];processing++;var readEntries=function(){dirReader.readEntries(function(results){try{if(!results.length){for(var i=0;i<entries.length;i++){traverseFileTree(files,entries[i],(path?path:"")+entry.name+"/")}processing--}else{entries=entries.concat(Array.prototype.slice.call(results||[],0));readEntries()}}catch(e){processing--;console.error(e)}},function(){processing--})};readEntries()}else{processing++;entry.file(function(file){try{processing--;file.path=(path?path:"")+file.name;addFile(file)}catch(e){processing--;console.error(e)}},function(){processing--})}}}}}ngFileUpload.directive("ngfThumbnail",["$parse","$timeout",function($parse,$timeout){return{restrict:"AE",link:function(scope,elem,attr,file){if(window.FileReader){scope.$watch(attr.ngfThumbnail,function(file){if(file&&file.type.indexOf("image")>-1){$timeout(function(){var fileReader=new FileReader;fileReader.readAsDataURL(file);fileReader.onload=function(e){$timeout(function(){elem.attr("src",e.target.result)})}})}else{elem.attr("src","")}})}}}}]);function dropAvailable(){var div=document.createElement("div");return"draggable"in div&&"ondrop"in div}function updateModel($parse,$timeout,scope,ngModel,attr,fileChange,files,rejFiles,evt,noDelay){function update(){if(ngModel){$parse(attr.ngModel).assign(scope,files);$timeout(function(){ngModel&&ngModel.$setViewValue(files!=null&&files.length==0?null:files)})}if(attr.ngModelRejected){$parse(attr.ngModelRejected).assign(scope,rejFiles)}if(fileChange){$parse(fileChange)(scope,{$files:files,$rejectedFiles:rejFiles,$event:evt})}}if(noDelay){update()}else{$timeout(function(){update()})}}function validate(scope,$parse,attr,file,evt){var accept=$parse(attr.ngfAccept);var fileSizeMax=$parse(attr.ngfMaxSize)(scope)||9007199254740991;var fileSizeMin=$parse(attr.ngfMinSize)(scope)||-1;var val=accept(scope,{$file:file,$event:evt}),match=false;if(val!=null&&angular.isString(val)){var regexp=new RegExp(globStringToRegex(val),"gi");match=file.type!=null&&file.type.match(regexp)||file.name!=null&&file.name.match(regexp)}return(val==null||match)&&(file.size==null||file.size<fileSizeMax&&file.size>fileSizeMin)}function globStringToRegex(str){if(str.length>2&&str[0]==="/"&&str[str.length-1]==="/"){return str.substring(1,str.length-1)}var split=str.split(","),result="";if(split.length>1){for(var i=0;i<split.length;i++){result+="("+globStringToRegex(split[i])+")";if(i<split.length-1){result+="|"}}}else{if(str.indexOf(".")==0){str="*"+str}result="^"+str.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+"-]","g"),"\\$&")+"$";result=result.replace(/\\\*/g,".*").replace(/\\\?/g,".")}return result}})();var searchServices=angular.module("searchServices",["ui","utilServices","ProductThumbnailStatsServices","paymentServices","userServices"]);searchServices.config(["$interpolateProvider",function($interpolateProvider){$interpolateProvider.startSymbol("{[").endSymbol("]}")}]);searchServices.directive("chSmartSearch",function(){$=jQuery.noConflict();return{scope:{userId:"="},controller:function($scope,searchActions,$sce,productThumbnailStatsService,userActions,userStore){$scope.query="";$scope.boldedWord="";$scope.placeholder="";$scope.initialQuery="";$scope.hasSearchBarOverlayLoaded=false;$scope.isStickyHomepageSearchBar=false;$scope.isStickyHeaderActive=false;$scope.isMobile=typeof isMobile!=="undefined"&&isMobile==true||false;$scope.isEducator=false;var generateSortedTotals=function(){for(var key in $scope.productTotals){switch(key){case"documents":$scope.sortedTotals[0]={product:key,total:$scope.productTotals[key]};break;case"questions":$scope.sortedTotals[1]={product:key,total:$scope.productTotals[key]};break}}};var defaultGSAResults=function(){$scope.autocomplete={};$scope.products={};$scope.productTotals={documents:"~",questions:"~"};$scope.sortedTotals=[];generateSortedTotals()};var defaultAutocompleteResults=function(){$scope.autocomplete=[]};var defaultResults=function(){defaultGSAResults();defaultAutocompleteResults()};defaultResults();$scope.show=false;$scope.gsaLoading=false;$scope.autoLoading=false;$scope.doGsaSearch=$.throttle(1e3,function(searchData){searchActions.search(searchData,$scope.parseGSAResults)});$scope.doSearch=$.throttle(100,function(searchTerm){var searchData={stx:searchTerm,filters:{top_results:true},limit:5,topic:{}};$scope.gsaLoading=false;$scope.autoLoading=true;searchActions.autocomplete(searchTerm,$scope.parseAutocomplete)});$scope.parseGSAResults=function(response){if(typeof response==="undefined"||response.length===0){defaultGSAResults()}else{$scope.products=response["products"];$scope.productTotals=response["product_totals"];generateSortedTotals();ProductThumbnailStats.api.getStats($scope.products.documents.slice(0,3).map(function(product){return{id:product.id,type:"documents"}}))}$scope.gsaLoading=false};$scope.parseAutocomplete=function(response){if(typeof response==="undefined"||response.data.length===0){defaultAutocompleteResults()}else{$scope.autocomplete=response.data}$scope.autoLoading=false};$scope.showRecentSearches=false;$scope.recentSearches=[];var attemptToSaveToLocalStorage=function(recentSearches,maxNum){var key="ch-recentSearches-"+($scope.userId||"loggedOut");var error=null;do{try{error=null;var data=JSON.stringify(recentSearches.slice(0,maxNum));localStorage.setItem(key,data)}catch(e){error=e;maxNum--}}while(maxNum>0&&!!error);if(error){throw error}};$scope.saveRecentSearchToLocalStorage=function saveRecentSearchToLocalStorage(query){query=query.trim();var existingIndex=$scope.recentSearches.indexOf(query);if(existingIndex===-1){$scope.recentSearches.unshift(query)}else{var firstArray=$scope.recentSearches.slice(0,existingIndex);var secondArray=$scope.recentSearches.slice(existingIndex+1);$scope.recentSearches=[query].concat(firstArray).concat(secondArray)}$scope.recentSearches=$scope.recentSearches.slice(0,5);attemptToSaveToLocalStorage($scope.recentSearches,5)};(function getRecentSearchesFromLocalStorage(){var storedSearches=JSON.parse(localStorage.getItem("ch-recentSearches-"+($scope.userId||"loggedOut")));$scope.recentSearches=Array.isArray(storedSearches)?storedSearches:[]})();$scope.$watch("query",function(newValue,oldValue){if(typeof newValue==="undefined"||typeof oldValue==="undefined"||newValue.length===0&&oldValue.length===0){return}if(newValue!==oldValue&&newValue!==$scope.initialQuery){$scope.show=true;$scope.showRecentSearches=false}$scope.boldedWord=newValue;if(newValue===""){defaultResults();$scope.showRecentSearches=true}else{$scope.doSearch(newValue)}});jQuery(window).on("ContentStore.events.UPDATE",function(e){if(typeof ContentStore!=="undefined"){$scope.query=ContentStore.getQuery();if($scope.initialQuery===""){$scope.initialQuery=$scope.query}if(!$scope.$$phase){$scope.$digest()}}});var boldWord=function(source,word){var regex=new RegExp("("+word+")","gi");return source.replace(regex,"<strong>$1</strong>")};$scope.boldAutocomplete=function(source){return $sce.trustAsHtml(boldWord(source,$scope.boldedWord))};$scope.spanWrapAndEscapeHtml=function(source){var escapedSource=angular.element("<div/>").text(source).html();return $sce.trustAsHtml("<span>"+escapedSource+"</span>")};$scope.getProductName=function(product){if(product=="questions"){return"Q&A"}if(product=="documents"){return"Documents"}return product};$scope.getProductSearch=function(product){return"/search/results/"+"?stx="+encodeURIComponent($scope.query)+"&filters_product="+product};$scope.getSearchUrl=function(query,isAutocomplete,position){var filter="top_results";var path=document.location.pathname;if(path.indexOf("/homework-help/")!==-1||path.indexOf("/tutor-problems/")!==-1){filter="questions"}if(path.indexOf("/file/")!==-1){filter="documents"}var url;if(isAutocomplete){url="/search/results/"+"?stx="+encodeURIComponent(query.suggestion)+"&filters_product="+filter+"&source="+query.source+"&initial_query="+encodeURIComponent($scope.query)+"&search_suggestion_id="+query.search_suggestion_id+"&position="+position+"&referrer="+window.location.pathname+"&autocomplete=1"}else{url="/search/results/"+"?stx="+encodeURIComponent(query)+"&filter_products="+filter}return url};$scope.getStat=function(stat,type,id){$scope.stats=productThumbnailStatsService.getStats();return productThumbnailStatsService.getStat($scope.stats,stat,type,id)};$scope.hasDocuments=function(){return typeof $scope.productTotals.documents!=="undefined"&&$scope.productTotals.documents>0};$scope.scholarshipBannerClick=function(url){if(typeof tracker==="undefined"){var tracker=new MixpanelEventTracking}tracker.track("Scholarship in Search clicked",{Location:"Search Bar"});window.location=url}},link:function(scope,elem,attrs){elem.removeClass("ch_h-search-form_input");scope.placeholder=attrs["placeholder"];scope.isStickyHomepageSearchBar=attrs["chaLocation"]==="Homepage header"||false;scope.isEducator=attrs["chaIsEducator"]||false;if(typeof search_term==="string"){scope.query=search_term}if(typeof ContentStore!=="undefined"){scope.query=ContentStore.getQuery()}var inputElement=elem.find("input");var searchBarElements=scope.isStickyHomepageSearchBar===true&&scope.isMobile===true?$(".ch_search_header"):inputElement;$(document).on("click touchend",function(e){if(!$(e.target).is(".ch_edu_remove_icon")&&$(e.target).is(".ch_h-search-widget, .ch_h-search-widget *, .ch_search_header")){return}if($(e.target).is(".overlay, .close_cta, .ch_edu_remove_icon")){e.stopImmediatePropagation();e.preventDefault();setTimeout(function(){scope.hasSearchBarOverlayLoaded=false;$("#ch-header").removeClass("searchActive");$("#ch-header").addClass("searchInactive");$("html, body").removeClass("noScroll");$(".overlay").fadeOut(600,function(){$(this).remove()});$(".close_cta").remove();$(".ch_edu_remove_btn").hide();if($(e.target).is(".ch_edu_remove_icon")){$("#ch_search_form_input_content").val("")}$("#ch-header .ch_h-search-form_input").attr("placeholder","Search");scope.$apply()},50)}$(".ch_search_innerWrapper").removeClass("shouldExpand");inputElement.blur();scope.show=false;scope.showRecentSearches=false;if(!scope.$$phase){scope.$digest()}});var searchForm=elem.parent().parent();searchForm.on("submit",function(e){scope.showRecentSearches=false;if(scope.query!==""){scope.saveRecentSearchToLocalStorage(scope.query)}});searchForm.find("input[type=submit]").on("click",function(e){e.preventDefault();return searchForm.submit()});searchBarElements.on("focus click touchend",function(e){var ctaInsertClass=scope.isMobile===true?"#ch-header .hp_search_wrapper .hp_search_container":"#ch-header .hp_search_wrapper .hp_search_container .ch_h-search-form_input_container .ch_h-search-widget";if(inputElement.attr("placeholder").trim()==="Search"){var width=window.innerWidth>0?window.innerWidth:screen.width;if(width>=375){inputElement.attr("placeholder","Search Course Hero")}}if((scope.isStickyHomepageSearchBar||scope.isEducator)&&scope.hasSearchBarOverlayLoaded===false){e.stopImmediatePropagation();$("#ch-header").removeClass("searchInactive");$("#ch-header").addClass("searchActive");$('<div class="overlay"></div>').insertBefore("#ch-body");$("html, body").addClass("noScroll");scope.hasSearchBarOverlayLoaded=true;if(scope.isStickyHomepageSearchBar){$('<div class="close_cta"></div>').insertBefore(ctaInsertClass)}else if(scope.isEducator){$(".ch_edu_remove_btn").show()}}else if($(".ch_search_innerWrapper").has(this).length){$(".ch_search_innerWrapper").addClass("shouldExpand")}if(scope.query===""){scope.showRecentSearches=true}scope.show=true;if(!scope.$$phase){scope.$digest()}});inputElement.on("keyup",function(e){if(e.keyCode===13){scope.show=false;searchForm.submit();if(!scope.$$phase){scope.$digest()}}});inputElement.on("blur",function(e){e.preventDefault();if(inputElement.attr("placeholder").trim()==="Search Course Hero"){inputElement.attr("placeholder","Search")}})},templateUrl:function(elem,attrs){var location=attrs["chaLocation"];var ampTrackingTitle=attrs["ampTracking"]||"";return"/_template/_widget/smart-search/?location="+location+"&ampTrackingTitle="+ampTrackingTitle},replace:true}});searchServices.service("searchActions",function($q,apiService){var API_AUTOCOMPLETE="/api/v1/search/suggest/";var API_FEDERATED_SEARCH_GSA="/api/v1/federated-search-gsa/";var searchActions=new function(){return{_lastSearch:null,_lastAutocomplete:null,search:function(data,callback){if(this._lastSearch!==null){this._lastSearch.resolve()}this._lastSearch=$q.defer();apiService.post(API_FEDERATED_SEARCH_GSA,data,{timeout:this._lastSearch.promise}).success(function(response){if(typeof callback!=="undefined"){callback(response)}}).error(function(){})},autocomplete:function(data,callback){if(this._lastAutocomplete!==null){this._lastAutocomplete.resolve()}this._lastAutocomplete=$q.defer();apiService.get(API_AUTOCOMPLETE,{query:data},{timeout:this._lastAutocomplete.promise}).then(callback,function(){})}}};return searchActions});(function(){var k,aa=this;function n(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function p(a,b){function c(){}c.prototype=b.prototype;a.ya=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ea=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}}function q(a,b){null!=a&&this.append.apply(this,arguments)}k=q.prototype;k.e="";k.set=function(a){this.e=""+a};k.append=function(a,b,c){this.e+=a;if(null!=b)for(var d=1;d<arguments.length;d++)this.e+=arguments[d];return this};k.clear=function(){this.e=""};k.toString=function(){return this.e};function ba(a,b){a.sort(b||ca)}function ca(a,b){return a>b?1:a<b?-1:0}function da(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ea(a,b,c){this.ua=a;this.na=b.name||null;this.m={};for(a=0;a<c.length;a++)b=c[a],this.m[b.i]=b}ea.prototype.getName=function(){return this.na};function fa(a){a=da(a.m);ba(a,function(a,c){return a.i-c.i});return a}function ga(a,b,c){this.i=b;this.na=c.name;this.ea=!!c.fa;this.o=c.a;this.oa=c.type;this.ka=!1;switch(this.o){case ha:case ia:case ja:case ka:case la:case ma:case na:this.ka=!0}this.u=c.defaultValue}var na=1,ma=2,ha=3,ia=4,ja=6,ka=16,la=18;ga.prototype.getName=function(){return this.na};function r(){this.c={};this.m=this.q().m;this.f=this.ma=null}k=r.prototype;k.q=function(){var a=this.constructor,b;if(!(b=a.ra)){var c;b=a.xa;var d=[],e=b[0];for(c in b)0!=c&&d.push(new ga(0,c,b[c]));c=new ea(a,e,d);b=a.ra=c}return b};k.has=function(a){return null!=this.c[a.i]};k.get=function(a,b){return t(this,a.i,b)};k.set=function(a,b){u(this,a.i,b)};k.add=function(a,b){oa(this,a.i,b)};k.clear=function(a){pa(this,a.i)};function qa(a,b){for(var c=fa(a.q()),d=0;d<c.length;d++){var e=c[d],f=e.i;if(null!=b.c[f]){a.f&&delete a.f[e.i];var g=11==e.o||10==e.o;if(e.ea)for(var e=v(b,f)||[],h=0;h<e.length;h++)oa(a,f,g?e[h].clone():e[h]);else e=v(b,f),g?(g=v(a,f))?qa(g,e):u(a,f,e.clone()):u(a,f,e)}}}k.clone=function(){var a=new this.constructor;a!=this&&(a.c={},a.f&&(a.f={}),qa(a,this));return a};function v(a,b){var c=a.c[b];if(null==c)return null;if(a.ma){if(!(b in a.f)){var d=a.ma,e=a.m[b];if(null!=c)if(e.ea){for(var f=[],g=0;g<c.length;g++)f[g]=d.da(e,c[g]);c=f}else c=d.da(e,c);return a.f[b]=c}return a.f[b]}return c}function t(a,b,c){var d=v(a,b);return a.m[b].ea?d[c||0]:d}function w(a,b){var c;if(null!=a.c[b])c=t(a,b,void 0);else a:{c=a.m[b];if(void 0===c.u){var d=c.oa;if(d===Boolean)c.u=!1;else if(d===Number)c.u=0;else if(d===String)c.u=c.ka?"0":"";else{c=new d;break a}}c=c.u}return c}function x(a,b){return a.m[b].ea?null!=a.c[b]?a.c[b].length:0:null!=a.c[b]?1:0}function u(a,b,c){a.c[b]=c;a.f&&(a.f[b]=c)}function oa(a,b,c){a.c[b]||(a.c[b]=[]);a.c[b].push(c);a.f&&delete a.f[b]}function pa(a,b){delete a.c[b];a.f&&delete a.f[b]}function y(a,b){a.xa=b;a.q=function(){return a.ra||(new a).q()}}function A(){r.apply(this)}p(A,r);function B(){r.apply(this)}p(B,r);function C(){r.apply(this)}p(C,r);C.prototype.sa=function(){return t(this,10)};C.prototype.k=function(){return w(this,10)};C.prototype.aa=function(a){u(this,10,a)};function D(){r.apply(this)}p(D,r);D.prototype.getMetadata=function(a){return t(this,1,a)};y(A,{0:{name:"NumberFormat",ca:"i18n.phonenumbers.NumberFormat"},1:{name:"pattern",required:!0,a:9,type:String},2:{name:"format",required:!0,a:9,type:String},3:{name:"leading_digits_pattern",fa:!0,a:9,type:String},4:{name:"national_prefix_formatting_rule",a:9,type:String},6:{name:"national_prefix_optional_when_formatting",a:8,type:Boolean},5:{name:"domestic_carrier_code_formatting_rule",a:9,type:String}});y(B,{0:{name:"PhoneNumberDesc",ca:"i18n.phonenumbers.PhoneNumberDesc"},2:{name:"national_number_pattern",a:9,type:String},3:{name:"possible_number_pattern",a:9,type:String},6:{name:"example_number",a:9,type:String}});y(C,{0:{name:"PhoneMetadata",ca:"i18n.phonenumbers.PhoneMetadata"},1:{name:"general_desc",required:!0,a:11,type:B},2:{name:"fixed_line",required:!0,a:11,type:B},3:{name:"mobile",required:!0,a:11,type:B},4:{name:"toll_free",required:!0,a:11,type:B},5:{name:"premium_rate",required:!0,a:11,type:B},6:{name:"shared_cost",required:!0,a:11,type:B},7:{name:"personal_number",required:!0,a:11,type:B},8:{name:"voip",required:!0,a:11,type:B},21:{name:"pager",required:!0,a:11,type:B},25:{name:"uan",required:!0,a:11,type:B},27:{name:"emergency",required:!0,a:11,type:B},28:{name:"voicemail",required:!0,a:11,type:B},24:{name:"no_international_dialling",required:!0,a:11,type:B},9:{name:"id",required:!0,a:9,type:String},10:{name:"country_code",required:!0,a:5,type:Number},11:{name:"international_prefix",required:!0,a:9,type:String},17:{name:"preferred_international_prefix",a:9,type:String},12:{name:"national_prefix",a:9,type:String},13:{name:"preferred_extn_prefix",a:9,type:String},15:{name:"national_prefix_for_parsing",a:9,type:String},16:{name:"national_prefix_transform_rule",a:9,type:String},18:{name:"same_mobile_and_fixed_line_pattern",a:8,defaultValue:!1,type:Boolean},19:{name:"number_format",fa:!0,a:11,type:A},20:{name:"intl_number_format",fa:!0,a:11,type:A},22:{name:"main_country_for_code",a:8,defaultValue:!1,type:Boolean},23:{name:"leading_digits",a:9,type:String},26:{name:"leading_zero_possible",a:8,defaultValue:!1,type:Boolean}});y(D,{0:{name:"PhoneMetadataCollection",ca:"i18n.phonenumbers.PhoneMetadataCollection"},1:{name:"metadata",fa:!0,a:11,type:C}});function E(){r.apply(this)}p(E,r);E.prototype.sa=function(){return t(this,1)};E.prototype.k=function(){return w(this,1)};E.prototype.aa=function(a){u(this,1,a)};E.prototype.getExtension=function(){return t(this,3)};y(E,{0:{name:"PhoneNumber",ca:"i18n.phonenumbers.PhoneNumber"},1:{name:"country_code",required:!0,a:5,type:Number},2:{name:"national_number",required:!0,a:4,type:Number},3:{name:"extension",a:9,type:String},4:{name:"italian_leading_zero",a:8,type:Boolean},8:{name:"number_of_leading_zeros",a:5,defaultValue:1,type:Number},5:{name:"raw_input",a:9,type:String},6:{name:"country_code_source",a:14,defaultValue:1,type:{Da:1,Ca:5,Ba:10,Aa:20}},7:{name:"preferred_domestic_carrier_code",a:9,type:String}});function F(){}F.prototype.v=function(a){new a.ua;throw Error("Unimplemented")};F.prototype.da=function(a,b){if(11==a.o||10==a.o)return b instanceof r?b:this.v(a.oa.q(),b);if(14==a.o||!a.ka)return b;var c=a.oa;if(c===String){if("number"==typeof b)return String(b)}else if(c===Number&&"string"==typeof b&&("Infinity"===b||"-Infinity"===b||"NaN"===b||/^-?[0-9]+$/.test(b)))return Number(b);return b};function G(){}p(G,F);G.prototype.v=function(a,b){var c=new a.ua;c.ma=this;c.c=b;c.f={};return c};function H(){}p(H,G);H.prototype.za=!1;H.prototype.da=function(a,b){return 8==a.o?!!b:F.prototype.da.apply(this,arguments)};H.prototype.v=function(a,b){var c=b;if(this.za){var c=[],d;for(d in b)c[parseInt(d,10)+1]=b[d]}return H.ya.v.call(this,a,c)};var I={1:["US"]},ra={US:[,[,,"[2-9]\\d{9}","\\d{7}(?:\\d{3})?"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[4589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[036]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"(?:2(?:0[1-35-9]|1[02-9]|2[4589]|3[149]|4[08]|5[1-46]|6[0279]|7[026]|8[13])|3(?:0[1-57-9]|1[02-9]|2[0135]|3[014679]|4[67]|5[12]|6[014]|8[56])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[0235]|58|69|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-37]|7[013-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[036]|3[016]|4[16]|5[017]|6[0-279]|78|8[12])|7(?:0[1-46-8]|1[02-9]|2[0457]|3[1247]|4[07]|5[47]|6[02359]|7[02-59]|8[156])|8(?:0[1-68]|1[02-8]|28|3[0-25]|4[3578]|5[06-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[01678]|4[0179]|5[12469]|7[0-3589]|8[0459]))[2-9]\\d{6}","\\d{7}(?:\\d{3})?",,,"2015555555"],[,,"8(?:00|44|55|66|77|88)[2-9]\\d{6}","\\d{10}",,,"8002345678"],[,,"900[2-9]\\d{6}","\\d{10}",,,"9002345678"],[,,"NA","NA"],[,,"5(?:00|33|44|66|77)[2-9]\\d{6}","\\d{10}",,,"5002345678"],[,,"NA","NA"],"US",1,"011","1",,,"1",,,1,[[,"(\\d{3})(\\d{4})","$1-$2",,"","",1],[,"(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",,"","",1]],[[,"(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3"]],[,,"NA","NA"],1,,[,,"NA","NA"],[,,"NA","NA"],,,[,,"NA","NA"]]};function J(){this.va={}}J.r=function(){return J.ta?J.ta:J.ta=new J};var K={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"},sa={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9",A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"},ta=RegExp("[+]+"),L=RegExp("^[+]+"),ua=RegExp("([0-9---])"),va=RegExp("[+0-9---]"),wa=/[\\\/] *x/,xa=RegExp("[^0-9---A-Za-z#]+$"),ya=/(?:.*?[A-Za-z]){3}.*/,za=RegExp("(?:;ext=([0-9---]{1,7})|[ \\t,]*(?:e?xt(?:ensi(?:o?|))?n?|??|[,x#~]|int|anexo|)[:\\.]?[ \\t,-]*([0-9---]{1,7})#?|[- ]+([0-9---]{1,5})#)$","i"),Aa=RegExp("^[0-9---]{2}$|^[+]*(?:[-x-- ().\\[\\]/~*]*[0-9---]){3,}[-x-- ().\\[\\]/~*A-Za-z0-9---]*(?:;ext=([0-9---]{1,7})|[ \\t,]*(?:e?xt(?:ensi(?:o?|))?n?|??|[,x#~]|int|anexo|)[:\\.]?[ \\t,-]*([0-9---]{1,7})#?|[- ]+([0-9---]{1,5})#)?$","i"),Ba=/(\$\d)/,Ca=/^\(?\$1\)?$/;function Da(a){var b=a.search(va);0<=b?(a=a.substring(b),a=a.replace(xa,""),b=a.search(wa),0<=b&&(a=a.substring(0,b))):a="";return a}function Ea(a){return 2>a.length?!1:M(Aa,a)}function Fa(a){return M(ya,a)?N(a,sa):N(a,K)}function Ga(a){var b=Fa(a.toString());a.clear();a.append(b)}function N(a,b){for(var c=new q,d,e=a.length,f=0;f<e;++f)d=a.charAt(f),d=b[d.toUpperCase()],null!=d&&c.append(d);return c.toString()}function O(a){return null!=a&&isNaN(a)&&a.toUpperCase()in ra}J.prototype.format=function(a,b){if(0==t(a,2)&&null!=a.c[5]){var c=w(a,5);if(0<c.length)return c}var c=a.k(),d=P(a);if(0==b)return Ha(c,0,d,"");if(!(c in I))return d;var e=Q(this,c,R(c)),f;f=null!=a.c[3]&&0!=a.getExtension().length?3==b?";ext="+a.getExtension():null!=e.c[13]?t(e,13)+w(a,3):" ext. "+w(a,3):"";a:{for(var e=0==(v(e,20)||[]).length||2==b?v(e,19)||[]:v(e,20)||[],g,h=e.length,l=0;l<h;++l){g=e[l];var m=x(g,3);if(0==m||0==d.search(t(g,3,m-1)))if(m=new RegExp(t(g,1)),M(m,d)){e=g;break a}}e=null}null!=e&&(h=e,e=w(h,2),g=new RegExp(t(h,1)),w(h,5),l="",h=w(h,4),l=2==b&&null!=h&&0<h.length?d.replace(g,e.replace(Ba,h)):d.replace(g,e),3==b&&(l=l.replace(RegExp("^[-x-- ().\\[\\]/~]+"),""),l=l.replace(RegExp("[-x-- ().\\[\\]/~]+","g"),"-")),d=l);return Ha(c,b,d,f)};function Q(a,b,c){return"001"==c?S(a,""+b):S(a,c)}function P(a){var b=""+t(a,2);return null!=a.c[4]&&t(a,4)?Array(w(a,8)+1).join("0")+b:b}function Ha(a,b,c,d){switch(b){case 0:return"+"+a+c+d;case 1:return"+"+a+" "+c+d;case 3:return"tel:+"+a+"-"+c+d;default:return c+d}}function Ia(a,b){switch(b){case 4:return t(a,5);case 3:return t(a,4);case 1:return t(a,3);case 0:case 2:return t(a,2);case 5:return t(a,6);case 6:return t(a,8);case 7:return t(a,7);case 8:return t(a,21);case 9:return t(a,25);case 10:return t(a,28);default:return t(a,1)}}function T(a,b){return U(a,t(b,1))?U(a,t(b,5))?4:U(a,t(b,4))?3:U(a,t(b,6))?5:U(a,t(b,8))?6:U(a,t(b,7))?7:U(a,t(b,21))?8:U(a,t(b,25))?9:U(a,t(b,28))?10:U(a,t(b,2))?t(b,18)||U(a,t(b,3))?2:0:!t(b,18)&&U(a,t(b,3))?1:-1:-1}function S(a,b){if(null==b)return null;b=b.toUpperCase();var c=a.va[b];if(null==c){c=ra[b];if(null==c)return null;c=(new H).v(C.q(),c);a.va[b]=c}return c}function U(a,b){return M(w(b,3),a)&&M(w(b,2),a)}function Ja(a,b){if(null==b)return null;var c=b.k(),c=I[c];if(null==c)c=null;else if(1==c.length)c=c[0];else a:{for(var d=P(b),e,f=c.length,g=0;g<f;g++){e=c[g];var h=S(a,e);if(null!=h.c[23]){if(0==d.search(t(h,23))){c=e;break a}}else if(-1!=T(d,h)){c=e;break a}}c=null}return c}function R(a){a=I[a];return null==a?"ZZ":a[0]}function Ka(a,b){var c=S(a,b);if(null==c)throw"Invalid region code: "+b;return c.k()}function V(a,b){return M(a,b)?0:0==b.search(a)?3:2}function La(a,b){var c=a.toString();if(0==c.length||"0"==c.charAt(0))return 0;for(var d,e=c.length,f=1;3>=f&&f<=e;++f)if(d=parseInt(c.substring(0,f),10),d in I)return b.append(c.substring(f)),d;return 0}function Ma(a,b,c,d,e){if(0==a.length)return 0;a=new q(a);var f;null!=b&&(f=t(b,11));null==f&&(f="NonMatch");var g=a.toString();if(0==g.length)f=20;else if(L.test(g))g=g.replace(L,""),a.clear(),a.append(Fa(g)),f=1;else{g=new RegExp(f);Ga(a);f=a.toString();if(0==f.search(g)){var g=f.match(g)[0].length,h=f.substring(g).match(ua);h&&null!=h[1]&&0<h[1].length&&"0"==N(h[1],K)?f=!1:(a.clear(),a.append(f.substring(g)),f=!0)}else f=!1;f=f?5:20}d&&u(e,6,f);if(20!=f){if(2>=a.e.length)throw"Phone number too short after IDD";c=La(a,c);if(0!=c)return e.aa(c),c;throw"Invalid country calling code"}if(null!=b&&(f=b.k(),g=""+f,h=a.toString(),0==h.lastIndexOf(g,0))){var l=new q(h.substring(g.length)),h=t(b,1),g=new RegExp(w(h,2));Na(l,b,null);b=l.toString();h=w(h,3);if(!M(g,a.toString())&&M(g,b)||3==V(h,a.toString()))return c.append(b),d&&u(e,6,10),e.aa(f),f}e.aa(0);return 0}function Na(a,b,c){var d=a.toString(),e=d.length,f=t(b,15);if(0!=e&&null!=f&&0!=f.length&&(f=new RegExp("^(?:"+f+")"),e=f.exec(d))){var g=RegExp,h;h=t(b,1);h=w(h,2);g=new g(h);h=M(g,d);var l=e.length-1;b=t(b,16);if(null==b||0==b.length||null==e[l]||0==e[l].length){if(!h||M(g,d.substring(e[0].length)))null!=c&&0<l&&null!=e[l]&&c.append(e[1]),a.set(d.substring(e[0].length))}else if(d=d.replace(f,b),!h||M(g,d))null!=c&&0<l&&c.append(e[1]),a.set(d)}}J.prototype.parse=function(a,b){return Oa(this,a,b,!1)};function W(a,b,c){if(!O(c)&&0<b.length&&"+"!=b.charAt(0))throw"Invalid country calling code";return Oa(a,b,c,!0)}function Oa(a,b,c,d){if(null==b)throw"The string supplied did not seem to be a phone number";if(250<b.length)throw"The string supplied is too long to be a phone number";var e=new q,f=b.indexOf(";phone-context=");if(0<f){var g=f+15;if("+"==b.charAt(g)){var h=b.indexOf(";",g);0<h?e.append(b.substring(g,h)):e.append(b.substring(g))}g=b.indexOf("tel:");e.append(b.substring(0<=g?g+4:0,f))}else e.append(Da(b));f=e.toString();g=f.indexOf(";isub=");0<g&&(e.clear(),e.append(f.substring(0,g)));if(!Ea(e.toString()))throw"The string supplied did not seem to be a phone number";f=e.toString();if(!(O(c)||null!=f&&0<f.length&&L.test(f)))throw"Invalid country calling code";f=new E;d&&u(f,5,b);a:{b=e.toString();g=b.search(za);if(0<=g&&Ea(b.substring(0,g)))for(var h=b.match(za),l=h.length,m=1;m<l;++m)if(null!=h[m]&&0<h[m].length){e.clear();e.append(b.substring(0,g));b=h[m];break a}b=""}0<b.length&&u(f,3,b);g=S(a,c);b=new q;h=0;l=e.toString();try{h=Ma(l,g,b,d,f)}catch(z){if("Invalid country calling code"==z&&L.test(l)){if(l=l.replace(L,""),h=Ma(l,g,b,d,f),0==h)throw z}else throw z}0!=h?(e=R(h),e!=c&&(g=Q(a,h,e))):(Ga(e),b.append(e.toString()),null!=c?(h=g.k(),f.aa(h)):d&&pa(f,6));if(2>b.e.length)throw"The string supplied is too short to be a phone number";null!=g&&(a=new q,c=new q(b.toString()),Na(c,g,a),e=c.toString(),g=t(g,1),g=w(g,3),2!=V(g,e)&&(b=c,d&&u(f,7,a.toString())));d=b.toString();a=d.length;if(2>a)throw"The string supplied is too short to be a phone number";if(17<a)throw"The string supplied is too long to be a phone number";if(1<d.length&&"0"==d.charAt(0)){u(f,4,!0);for(a=1;a<d.length-1&&"0"==d.charAt(a);)a++;1!=a&&u(f,8,a)}u(f,2,parseInt(d,10));return f}function M(a,b){var c="string"==typeof a?b.match("^(?:"+a+")$"):b.match(a);return c&&c[0].length==b.length?!0:!1}function Pa(a){this.qa="";this.ha=new RegExp(this.qa);this.ia="";this.p=new q;this.ba="";this.j=new q;this.t=new q;this.l=!0;this.w=this.s=this.la=!1;this.pa=J.r();this.$=0;this.d=new q;this.ga=!1;this.n="";this.b=new q;this.g=[];this.ja=a;this.wa=this.h=X(this,this.ja)}var Qa=new C;u(Qa,11,"NA");var Ra=/\[([^\[\]])*\]/g,Sa=/\d(?=[^,}][^,}])/g,Ta=RegExp("^[-x-- ().\\[\\]/~]*(\\$\\d[-x-- ().\\[\\]/~]*)+$"),Ua=/[- ]/;function X(a,b){var c=O(b)?Ka(a.pa,b):0,c=S(a.pa,R(c));return null!=c?c:Qa}function Va(a){for(var b=a.g.length,c=0;c<b;++c){var d=a.g[c],e=w(d,1);if(a.ba==e)return!1;var f;f=a;var g=d,h=w(g,1);if(-1!=h.indexOf("|"))f=!1;else{h=h.replace(Ra,"\\d");h=h.replace(Sa,"\\d");f.p.clear();var l;l=f;var g=w(g,2),m="999999999999999".match(h)[0];m.length<l.b.e.length?l="":(h=m.replace(new RegExp(h,"g"),g),l=h=h.replace(RegExp("9","g"),l.qa));0<l.length?(f.p.append(l),f=!0):f=!1}if(f)return a.ba=e,a.ga=Ua.test(t(d,4)),a.$=0,!0}return a.l=!1}function Wa(a,b){for(var c=[],d=b.length-3,e=a.g.length,f=0;f<e;++f){var g=a.g[f];if(0==x(g,3))c.push(a.g[f]);else{var h=Math.min(d,x(g,3)-1),g=t(g,3,h);0==b.search(g)&&c.push(a.g[f])}}a.g=c}Pa.prototype.clear=function(){this.ia="";this.j.clear();this.t.clear();this.p.clear();this.$=0;this.ba="";this.d.clear();this.n="";this.b.clear();this.l=!0;this.w=this.s=this.la=!1;this.g=[];this.ga=!1;this.h!=this.wa&&(this.h=X(this,this.ja))};function Xa(a,b){a.ia=Ya(a,b);return a.ia}function Ya(a,b){a.j.append(b);var c=b;if(ua.test(c)||1==a.j.e.length&&ta.test(c)){var c=b,d;"+"==c?(d=c,a.t.append(c)):(d=K[c],a.t.append(d),a.b.append(d));b=d}else a.l=!1,a.la=!0;if(!a.l){if(!a.la)if(Za(a)){if($a(a))return ab(a)}else if(0<a.n.length&&(c=a.b.toString(),a.b.clear(),a.b.append(a.n),a.b.append(c),c=a.d.toString(),d=c.lastIndexOf(a.n),a.d.clear(),a.d.append(c.substring(0,d))),a.n!=bb(a))return a.d.append(" "),ab(a);return a.j.toString()}switch(a.t.e.length){case 0:case 1:case 2:return a.j.toString();case 3:if(Za(a))a.w=!0;else return a.n=bb(a),Y(a);default:if(a.w)return $a(a)&&(a.w=!1),a.d.toString()+a.b.toString();if(0<a.g.length){c=cb(a,b);d=db(a);if(0<d.length)return d;Wa(a,a.b.toString());return Va(a)?eb(a):a.l?Z(a,c):a.j.toString()}return Y(a)}}function ab(a){a.l=!0;a.w=!1;a.g=[];return Y(a)}function db(a){for(var b=a.b.toString(),c=a.g.length,d=0;d<c;++d){var e=a.g[d],f=w(e,1);if(new RegExp("^(?:"+f+")$").test(b))return a.ga=Ua.test(t(e,4)),b=b.replace(new RegExp(f,"g"),t(e,2)),Z(a,b)}return""}function Z(a,b){var c=a.d.e.length;return a.ga&&0<c&&" "!=a.d.toString().charAt(c-1)?a.d+" "+b:a.d+b}function Y(a){var b=a.b.toString();if(3<=b.length){for(var c=a.s&&0<x(a.h,20)?v(a.h,20)||[]:v(a.h,19)||[],d=c.length,e=0;e<d;++e){var f=c[e],g;(g=null==a.h.c[12]||a.s||t(f,6))||(g=w(f,4),g=0==g.length||Ca.test(g));g&&(g=w(f,2),Ta.test(g)&&a.g.push(f))}Wa(a,b);b=db(a);return 0<b.length?b:Va(a)?eb(a):a.j.toString()}return Z(a,b)}function eb(a){var b=a.b.toString(),c=b.length;if(0<c){for(var d="",e=0;e<c;e++)d=cb(a,b.charAt(e));return a.l?Z(a,d):a.j.toString()}return a.d.toString()}function bb(a){var b=a.b.toString(),c=0,d;1!=a.h.sa()?d=!1:(d=a.b.toString(),d="1"==d.charAt(0)&&"0"!=d.charAt(1)&&"1"!=d.charAt(1));d?(c=1,a.d.append("1").append(" "),a.s=!0):null!=a.h.c[15]&&(d=new RegExp("^(?:"+t(a.h,15)+")"),d=b.match(d),null!=d&&null!=d[0]&&0<d[0].length&&(a.s=!0,c=d[0].length,a.d.append(b.substring(0,c))));a.b.clear();a.b.append(b.substring(c));return b.substring(0,c)}function Za(a){var b=a.t.toString(),c=new RegExp("^(?:\\+|"+t(a.h,11)+")"),c=b.match(c);return null!=c&&null!=c[0]&&0<c[0].length?(a.s=!0,c=c[0].length,a.b.clear(),a.b.append(b.substring(c)),a.d.clear(),a.d.append(b.substring(0,c)),"+"!=b.charAt(0)&&a.d.append(" "),!0):!1}function $a(a){if(0==a.b.e.length)return!1;var b=new q,c=La(a.b,b);if(0==c)return!1;a.b.clear();a.b.append(b.toString());b=R(c);"001"==b?a.h=S(a.pa,""+c):b!=a.ja&&(a.h=X(a,b));a.d.append(""+c).append(" ");a.n="";return!0}function cb(a,b){var c=a.p.toString();if(0<=c.substring(a.$).search(a.ha)){var d=c.search(a.ha),c=c.replace(a.ha,b);a.p.clear();a.p.append(c);a.$=d;return c.substring(0,a.$+1)}1==a.g.length&&(a.l=!1);a.ba="";return a.j.toString()}n("intlTelInputUtils",{});n("intlTelInputUtils.formatNumber",function(a,b,c,d,e){try{var f=a.replace(/\D/g,""),g=new Pa(b);b="";var h;"+"==a.substr(0,1)&&(f="+"+f);for(var l=0;l<f.length;l++){h=Xa(g,f.charAt(l));if(d&&b&&h.length<=b.length&&-1==h.indexOf(" ")){h=-1;break}b=h}" "==b.charAt(b.length-1)&&(b=b.substr(0,b.length-1));if(c){var m=Xa(g,"5");" "==m.charAt(m.length-1)&&(m=m.substr(0,m.length-1));if(isNaN(parseFloat(m.substr(m.length-2,1))))return m.substr(0,m.length-1);if(d&&b&&m.length<=b.length&&-1==m.indexOf(" ")&&!e)return b+" ext. "}-1==h&&(b+=" ext. "+f.substring(l,f.length));return b}catch(z){return a}});n("intlTelInputUtils.formatNumberByType",function(a,b,c){try{var d=J.r(),e=W(d,a,b);return d.format(e,"undefined"==typeof c?0:c)}catch(f){return""}});n("intlTelInputUtils.getExampleNumber",function(a,b,c){try{var d=J.r(),e;a:{if(O(a)){var f=Ia(S(d,a),c);try{if(null!=f.c[6]){e=d.parse(w(f,6),a);break a}}catch(g){}}e=null}return d.format(e,b?2:1)}catch(h){return""}});n("intlTelInputUtils.getNumberType",function(a,b){try{var c=J.r(),d;var e=W(c,a,b),f=Ja(c,e),g=Q(c,e.k(),f);if(null==g)d=-1;else{var h=P(e);d=T(h,g)}return d}catch(l){return-99}});n("intlTelInputUtils.getValidationError",function(a,b){try{var c=J.r(),d;var e=W(c,a,b),f=P(e),g=e.k();if(g in I){var h,l=Q(c,g,R(g));h=t(l,1);var m=w(h,3);d=V(m,f)}else d=1;return d}catch(z){return"Invalid country calling code"==z?1:"The string supplied did not seem to be a phone number"==z?4:"Phone number too short after IDD"==z||"The string supplied is too short to be a phone number"==z?2:"The string supplied is too long to be a phone number"==z?3:-99}});n("intlTelInputUtils.isValidNumber",function(a,b){try{var c=J.r(),d=W(c,a,b),e;var f=Ja(c,d),g=d.k(),h=Q(c,g,f);if(null==h||"001"!=f&&g!=Ka(c,f))e=!1;else{var l=P(d);e=-1!=T(l,h)}return e}catch(m){return!1}});n("intlTelInputUtils.numberType",{FIXED_LINE:0,MOBILE:1,FIXED_LINE_OR_MOBILE:2,TOLL_FREE:3,PREMIUM_RATE:4,SHARED_COST:5,VOIP:6,PERSONAL_NUMBER:7,PAGER:8,UAN:9,VOICEMAIL:10,UNKNOWN:-1});n("intlTelInputUtils.validationError",{IS_POSSIBLE:0,INVALID_COUNTRY_CODE:1,TOO_SHORT:2,TOO_LONG:3,NOT_A_NUMBER:4});n("intlTelInputUtils.numberFormat",{E164:0,INTERNATIONAL:1,NATIONAL:2,RFC3966:3})})();if(typeof angular==="undefined"){throw new Error("Angular is required to use any of the util services")}var utilServices=angular.module("utilServices",[]);utilServices.filter("truncate",function(){return function(text,length,end){if(typeof text=="undefined"){return""}if(isNaN(length))length=10;if(end===undefined)end="...";if(text.length<=length||text.length-end.length<=length){return text}else{return String(text).substring(0,length-end.length)+end}}});utilServices.directive("errSrc",function(){return{scope:{errSrc:"&"},link:function(scope,element,attrs){element.bind("error",function(){element.attr("src","/img/reviewer_nothumb.gif");element.attr("alt","")})}}});String.prototype.upperFirst=function(){var str=this;return str.substr(0,1).toUpperCase()+str.substr(1,str.length)};if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the dispatcher")}utilServices.service("dispatcher",function(){return{callbacks:[],dispatch:function(action,data){var payload={action:action,data:data};this.callbacks.forEach(function(callback){callback.callback.apply(callback.service,[payload])})},register:function(callback,service){this.callbacks.push({callback:callback,service:service});return this.callbacks.length-1}}});var DataStore=new function(){$=jQuery.noConflict();return{rows:{},collections:{},create:function(config){if(typeof config==="undefined"){throw new Error("Invalid store configuration, please supply a valid Javascript Object")}var tmp={};jQuery.extend(true,tmp,this,config);return tmp},listen:function(event,callback){$(window).on(event,callback)},stopListen:function(event,callback){$(window).off(event,callback)},emit:function(event,data){$(window).trigger(event,[data])},_merge:function(obj1,obj2,depth){if(typeof depth==="undefined"){depth=1}var $me=this;if(depth===4){return obj2}for(var p in obj2){try{if(obj2[p].constructor===Object){obj1[p]=$me._merge(obj1[p],obj2[p],depth+1)}else{obj1[p]=obj2[p]}}catch(e){obj1[p]=obj2[p]}}return obj1},clear:function(model){this.rows[model]=[]},upsertRow:function(model,key_field,key_value,newRow){var bUpdated=false;var toReturn=newRow;if(typeof this.rows[model]==="undefined"){this.rows[model]=[]}var rows=this.rows[model];var $me=this;rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]===key_value){if(typeof rows[index]==="undefined"){rows[index]={}}rows[index]=$me._merge(rows[index],newRow);toReturn=rows[index];bUpdated=true}});if(!bUpdated){newRow[key_field]=key_value;this.rows[model].push(newRow)}return toReturn},upsertCollection:function(model,objectPrimaryKey,rawCollection,objectSchema){if(typeof this.collections[model]==="undefined"){this.collections[model]=this.sanitize(rawCollection,this.schema.Collection(objectSchema))}var $me=this;var storeCollection=this.collections[model];storeCollection.total=rawCollection.total;storeCollection.limit=typeof rawCollection.limit!=="undefined"?rawCollection.limit:storeCollection.limit;var old_page=storeCollection.page;storeCollection.page=typeof rawCollection.offset!=="undefined"?rawCollection.offset/storeCollection.limit:storeCollection.page;var newRecords=[];var rows=this.getRows(model);var matchedRows=[];rawCollection.rows.forEach(function(rawRow){var sanitizedRow=$me.sanitize(rawRow,objectSchema);var exists=false;rows.forEach(function(row,index){if(sanitizedRow[objectPrimaryKey]==row[objectPrimaryKey]){rows[index]=sanitizedRow;exists=true}});if(!exists){newRecords.push(sanitizedRow)}storeCollection.upsertRow(objectPrimaryKey,sanitizedRow[objectPrimaryKey],sanitizedRow,objectSchema);matchedRows.push(sanitizedRow)});rows=rows.concat(newRecords);this.rows[model]=rows;storeCollection.page=old_page;this.collections[model]=storeCollection},getCollection:function(model,config){if(typeof this.collections[model]==="undefined"){this.collections[model]=this.sanitize({},this.schema.Collection(false))}if(typeof config!=="undefined"){this.collections[model]=this.collections[model].create(config)}return this.collections[model]},replaceRow:function(model,key_field,key_value,newRow){var bUpdated=false;if(typeof this.rows[model]==="undefined"){this.rows[model]=[]}var rows=this.rows[model];var $me=this;rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]===key_value){if(typeof rows[index]==="undefined"){rows[index]={}}rows[index]=newRow;bUpdated=true}});if(!bUpdated){this.rows[model].push(newRow)}},removeRow:function(model,key_field,key_value){if(typeof this.rows[model]==="undefined"){return}var rows=this.rows[model];var indexes=[];rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]==key_value){indexes.push(index)}});if(indexes.length===0){return}for(i=0;i<indexes.length;i++){this.rows[model].splice(indexes[i],1)}},getRows:function(model,slice){if(typeof this.rows[model]!=="undefined"){return typeof slice!=="undefined"&&!slice?this.rows[model]:this.rows[model].slice(0)}return[]},sanitizeAndValidate:function(obj,schema){var model=this.sanitize(obj,schema);var validation=this.validate(model,schema);if(validation===true){return model}return validation},validate:function(obj,schema){var errors=[];for(var field in schema){if(typeof schema[field].validation!=="undefined"){var bError=false;for(var validation in schema[field].validation){if(errors.length>0){continue}var value=obj[field];if(typeof schema[field].label!=="undefined"){var label=schema[field].label}else{var label=field.split("_").map(function(p){return p.substr(0,1).toUpperCase()+p.substr(1)}).join(" ")}switch(validation){case"required":if(typeof value==="undefined"||value===null||value===""){errors.push(label+" is required")}break;case"minLength":if(value.length!==0&&value.length<schema[field].validation[validation]){errors.push(label+" must be at least "+schema[field].validation[validation]+" characters")}break;case"maxLength":if(value.length!==0&&value.length>schema[field].validation[validation]){errors.push(label+" must be at under "+schema[field].validation[validation]+" characters")}break;case"email":var pattern=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(value.length!==0&&!pattern.test(value)){errors.push(label+" must be a valid email characters")}break;case"phone":var pattern=/^\+?[\d() -]{8,15}$/;if(value.length!==0&&!pattern.test(value)){errors.push(label+" must be a valid phone number")}default:if(typeof schema[field].validation[validation]==="function"){var results=schema[field].validation[validation](value);if(results!==true){errors=errors.concat(results)}}break}}}}if(errors.length>0){return errors}return true},base64Encode:function(str){return window.btoa(unescape(encodeURIComponent(str)))},base64Decode:function(str){return decodeURIComponent(escape(window.atob(str)))},sanitize:function(obj,schema){var clean={};var tmp=jQuery.extend(true,{},obj);for(var field in schema){clean[field]=this._sanitizeField(field,tmp,schema)}return clean},_sanitizeField:function(field,obj,schema){if(schema[field].type==="function"){return typeof obj[field]!=="undefined"?obj[field]:schema[field].value}if(typeof obj[field]==="undefined"){if(typeof schema[field]["initial"]!=="undefined"){obj[field]=schema[field]["initial"]()}else{obj[field]=null}}var type=schema[field]["type"];if(obj[field]===null&&type!=="obj"&&type!=="object"){return null}schema[field].field=field;switch(type){case"int":case"integer":return this._sanitizeInteger(obj[field],schema[field]);case"float":case"double":return this._sanitizeFloat(obj[field],schema[field]);case"string":case"char":case"varchar":return this._sanitizeString(obj[field],schema[field]);case"date":case"datetime":case"timestamp":return this._sanitizeDateTime(obj[field],schema[field]);case"bool":case"boolean":return this._sanitizeBoolean(obj[field],schema[field],field);case"obj":case"object":return this._sanitizeObject(obj[field],schema[field]);case"array":case"collection":return this._sanitizeArray(obj[field],schema[field]);case"phone":return this._sanitizePhone(obj[field],schema[field]);case"callback":return this._sanitizeCallback(obj[field],schema[field],field)}},_sanitizeInteger:function(value,schemaConfig){if(typeof value==="string"&&value.indexOf(" ")>=0){value=value.replace(/ /g,"")}value=parseInt(value);if(typeof schemaConfig.min!=="undefined"&&value<schemaConfig.min){throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed")}if(typeof schemaConfig.max!=="undefined"&&value>schemaConfig.max){throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed")}return value},_sanitizeFloat:function(value,schemaConfig){value=parseFloat(value);if(typeof schemaConfig.min!=="undefined"&&value<schemaConfig.min){throw new Error("Provided value cannot be sanitized, value is below minimum float allowed")}if(typeof schemaConfig.max!=="undefined"&&value>schemaConfig.max){throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed")}return value},_sanitizeString:function(value,schemaConfig){value=String(value);if(typeof schemaConfig.maxLength!=="undefined"&&value.length>schemaConfig.maxLength){console.warn("Value was truncated during sanitation");value=value.substr(0,schemaConfig.maxLength)}return value},_sanitizeCallback:function(value,schemaConfig,field){if(typeof value!=="function"){console.warn(field+" does not have a valid callback");value=null}return value},_sanitizeDateTime:function(value,schemaConfig){if(moment.isMoment(value)){return value}if(moment(value,schemaConfig.format).isValid()){return moment(value)}console.error("Provided value ("+value+") cannot be sanitized for field ("+schemaConfig.field+"), is not a valid date");return null},_sanitizeBoolean:function(value,schemaConfig,field){if(value===false||value===true){return value}if(typeof value=="string"){if(value.toLowerCase().trim()==="false"){return false}if(value.toLowerCase().trim()==="true"){return true}}if(parseInt(value)===0){return false}if(parseInt(value)===1){return true}throw new Error("Provided value ("+value+") for field ("+field+") cannot be santized, is not a valid boolean")},_sanitizeObject:function(value,schemaConfig){if(typeof schemaConfig.schema==="undefined"){throw new Error("Provided value cannot be santized, no reference schema provided for field type of object")}if(schemaConfig.schema===null){return value}if(value===null){value={}}return this.sanitize(value,schemaConfig.schema())},_sanitizeArray:function(value,schemaConfig){if(typeof schemaConfig.schema==="undefined"||schemaConfig.schema===null||schemaConfig.schema===false){return value}if(typeof value.length==="undefined"){return[]}var $me=this;return value.map(function(v){return $me.sanitize(v,schemaConfig.schema())})},_sanitizePhone:function(value,schemaConfig){if(typeof value==="undefined"||value.length===0){return""}value=value.replace(/\D/g,"");var tel=intlTelInputUtils.formatNumber(value,"US");return tel},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})},schema:{Collection:function(object_schema){return{limit:{type:"int",initial:function(){return 25}},page:{type:"int",initial:function(){return 0}},setPage:{type:"function",value:function(page){this.page=parseInt(page);this.load();this.onUpdate()}},total_pages:{type:"int",initial:function(){return 0}},load:{type:"function",value:function(){console.warn('Non overloaded "load" function in collection')}},onUpdate:{type:"function",value:function(){console.warn('Non overloaded "onUpdate" function in collection')}},getOffset:{type:"function",value:function(){return this.limit*this.page}},hasNext:{type:"function",value:function(e){if(typeof e!=="undefined"&&!(parseInt(this.page)+1<this.getPages())){e.preventDefault()}return parseInt(this.page)+1<this.getPages()}},getNextUrl:{type:"function",value:function(base_url){return"#/"+base_url+"/"+(parseInt(this.page)+1)}},hasPrev:{type:"function",value:function(e){if(typeof e!=="undefined"&&!(this.page>0)){e.preventDefault()}return this.page>0}},getPrevUrl:{type:"function",value:function(base_url){return"#/"+base_url+"/"+(parseInt(this.page)-1)}},getPages:{type:"function",value:function(){return Math.ceil(this.total/this.limit)}},getSliceEnd:{type:"function",value:function(){return this.getOffset()+this.limit}},filter:{type:"function",value:function(a){return true}},find:{type:"function",value:function(filter){var rows=this.rows.filter(filter);if(rows.length===0){return false}if(rows.length===1){return rows[0]}return rows}},_schema:object_schema,rows:{type:"array",schema:function(){return object_schema},initial:function(){return[]}},getRows:{type:"function",value:function(){var rows=this.rows.slice(0);for(var i=0;i<rows.length;i++){if(typeof rows[i]==="undefined"){rows[i]=DataStore.sanitize({},object_schema)}}return rows.filter(this.filter).slice(this.getOffset(),this.getSliceEnd())}},total:{type:"int",initial:function(){return 0}},upsertRow:{type:"function",value:function(primaryKey,primaryValue,object,object_schema){var $me=this;var exists=false;var offset=this.getOffset();var rows=this.rows.slice(0);rows.forEach(function(row,index){if(!exists&&row[primaryKey]==object[primaryKey]){$me.rows[index]=DataStore.sanitize(object,object_schema);exists=true}if(index===offset){offset++}});if(!exists){rows[offset]=DataStore.sanitize(object,object_schema)}this.rows=rows}},removeRow:{type:"function",value:function(key_field,key_value){var rows=this.rows;var indexes=[];rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]==key_value){indexes.push(index)}});if(indexes.length===0){return}for(i=0;i<indexes.length;i++){this.rows.splice(indexes[i],1)}}},replaceRow:{type:"function",value:function(key_field,key_value,newRow){var bUpdated=false;var rows=this.rows;var $me=this;rows.forEach(function(row,index){if(typeof row[key_field]!=="undefined"&&row[key_field]===key_value){if(typeof rows[index]==="undefined"){rows[index]={}}$me.rows[index]=newRow;bUpdated=true}});if(!bUpdated){this.rows.push(newRow)}}},clear:{type:"function",value:function(){this.rows=[]}},create:{type:"function",value:function(config){return $.extend(true,this,config)}}}},string:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"string"},params)},int:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"int"},params)},double:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"double"},params)},bool:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"bool"},params)},float:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"float"},params)},array:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"array",schema:null},params)},object:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"object",schema:null},params)},datetime:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"datetime",schema:null},params)},callback:function(params){if(typeof params==="undefined"){params={}}return $.extend(true,{type:"callback",schema:null},params)}},collection:new function(){return{create:function(config){var tmp={};$.extend(true,tmp,this,config);return tmp},schema:null,limit:1,page:0,setPage:function(page){this.page=page;if(this.page>=this.getPages()&&this.getPages()!==0){this.page=this.getPages()-1}if(this.page<0){this.page=0}},getPages:function(){return Math.ceil(this.currentTotal/this.limit)},allRows:[],currentTotal:0,matchedRows:[],rows:[],reset:function(){this.page=0;this._dirty=true;this.matchedRows=this.allRows.filter(this.filter.apply(this));this.pageRow[0]=this.matchedRows.slice(0,this.limit);this.onUpdate()},filters:{},filter:function(){var count=0;for(var i in this.filters){count++}if(count>0){return function(filters,a){for(var field in filters){var filter=filters[field];if(typeof a[field]==="undefined"){return false}for(var operator in filter){var value=filter[operator];var success=true;switch(operator){case"eq":if(a[field]!=value){return false}break;case"gt":if(a[field]<=value){return false}break;case"gte":if(a[field]<value){return false}break;case"lt":if(a[field]>=value){return false}break;case"lte":if(a[field]>value){return false}break;case"isNull":if(a[field]!==null){return false}break;case"notNull":if(a[field]===null){return false}break;case"like":if((""+a[field]).toLowerCase().indexOf(value.toLowerCase())===-1){return false}break;case"notLike":if((""+a[field]).toLowerCase().indexOf(value.toLowerCase())!==-1){return false}break;case"custom":if(!value(a)){return false}break}}}return true}.bind(null,this.filters)}return function(){return true}},sort:false,_cache:{},_dirty:false,getAllRows:function(){return this.allRows},pageRow:{},getRows:function(){if(typeof this.search!=="undefined"&&this.search.length===0&&typeof this.pageRow[this.page]!=="undefined"){return this.pageRow[this.page]}return this.matchedRows.slice(this.getOffset(),this.getSliceEnd())},getOffset:function(){return this.limit*this.page},getSliceEnd:function(){return this.getOffset()+this.limit},getRangeOfTotal:function(){if(this.getRows().length===0){return"Showing 0 out of 0"}var currentPageStart=this.getOffset()+1;var currentPageEnd=this.getOffset()+this.getRows().length;var currentTotal=Math.max(this.currentTotal,currentPageEnd);return"Showing "+currentPageStart+" - "+currentPageEnd+" out of "+currentTotal},upsertRow:function(primaryKey,rawRow,fromCollection){if(this.schema!==null){rawRow=DataStore.sanitize(rawRow,this.schema)}var existing=false;var success=false;this.allRows.forEach(function(row){if(row[primaryKey]==rawRow[primaryKey]){row=rawRow;existing=true}});if(!existing){this.allRows.push(rawRow)}if(typeof this.pageRow[fromCollection.page]==="undefined"){this.pageRow[fromCollection.page]=[]}var existing=false;this.pageRow[fromCollection.page].forEach(function(row){if(row[primaryKey]==rawRow[primaryKey]){row=rawRow;existing=true}});if(!existing&&[rawRow].filter(this.filter()).length>0){this.pageRow[fromCollection.page].push(rawRow)}},update:function(){this.matchedRows=this.allRows.filter(this.filter());this.onUpdate();this.emit(this.events.UPDATE.apply(this))},onUpdate:function(){},emit:function(event,data){$(window).trigger(event,data)},listen:function(event,func){$(window).bind(event,func)},ignore:function(event,func){$(window).unbind(event,func)},stopListen:function(event,func){this.ignore(event,func)},updateCurrentCollection:function(primaryKey,collection){this.currentTotal=collection.total;var $me=this;collection.rows.forEach(function(row){$me.upsertRow(primaryKey,row,collection)});this.update()},events:{UPDATE:function(){return this.name+".events.UPDATE"}},hasPrev:function(e){if(typeof e!=="undefined"&&!(this.page>0)){e.preventDefault()}return this.page>0},hasNext:function(e){if(typeof e!=="undefined"&&!(parseInt(this.page)+1<this.getPages())){e.preventDefault()}return parseInt(this.page)+1<this.getPages()},getNextUrl:function(base_url){return"#/"+base_url+"/"+Math.min(parseInt(this.page)+1,this.getPages()-1)},getPrevUrl:function(base_url){return"#/"+base_url+"/"+Math.max(parseInt(this.page)-1,0)},setFilters:function(filters,dirty){this.filters=filters;if(""+this.filters!=""+filters||typeof dirty!=="undefined"&&dirty===true){this.reset()}},setFilter:function(filter,params){this.filters[filter]=params;this.reset()},getFilter:function(filter){if(typeof this.filters[filter]!=="undefined"){return this.filters[filter]}return false},changed:function(){this.update();this.load()}}}}};if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the api service")}utilServices.service("apiService",function($http){return{_buildUrl:function(url,data,query_string){for(var i in data){if(url.indexOf("{"+i+"}")!==-1){url=url.replace("{"+i+"}",data[i]);continue}if(typeof query_string!=="undefined"&&query_string===false){continue}if(url.indexOf("?")!==-1){url+="&"}else{url+="?"}url+=i+"="+data[i]}return url},get:function(url,data,config){return $http.get(this._buildUrl(url,data),config)},patch:function(url,data,config){"use strict";return $http.patch(this._buildUrl(url,data,false),data,config)},post:function(url,data,config){return $http.post(this._buildUrl(url,data,false),data,config)},put:function(url,data,config){return $http.put(this._buildUrl(url,data,false),data,config)},delete:function(url,data,config){return $http.delete(this._buildUrl(url,data),config)},jsonp:function(url,data,config){return $http.jsonp(this._buildUrl(url,data),config)},throttle:function throttle(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}}}});if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the notification service")}utilServices.service("notificationService",function(){var NOTIFICATION_TYPE_SUCCESS="success";var NOTIFICATION_TYPE_ERROR="error";var NOTIFICATION_TYPE_CONFIRM="warning";return DataStore.create({notifications:{},success:function(messages,group,replace,callback,params){if(typeof params!=="object"){params={}}params.showCancelButton=typeof params.showCancelButton!=="undefined"?params.showCancelButton:false;this._notify(NOTIFICATION_TYPE_SUCCESS,messages,group,replace,callback,params)},error:function(messages,group,replace,callback,params){if(typeof params!=="object"){params={}}params.showCancelButton=typeof params.showCancelButton!=="undefined"?params.showCancelButton:false;this._notify(NOTIFICATION_TYPE_ERROR,messages,group,replace,callback,params)},getNotifications:function(group){if(typeof group==="undefined"){return false}return this.notifications[group]},remove:function(group,type,message){if(typeof this.notifications[group]==="undefined"){return}if(typeof this.notifications[group][type]==="undefined"){return}this.notifications[group][type]=this.notifications[group][type].filter(function(message){if(message!==message){return true}return false});this.emit(this.events.UPDATE)},confirm:function(message,callback,params){this._notify("warning",message,null,null,callback,params)},_notify:function(type,messages,group,replace,confirm,params){if(typeof messages==="string"){var messages=[messages]}if(typeof swal!=="undefined"){if(messages.length>0){var config={type:type,text:messages.join("  "),title:this._getTitle(type),showCancelButton:typeof confirm!=="undefined"};if(typeof params==="object"){$.extend(true,config,params)}swal(config,function(isConfirm){if(isConfirm){if(typeof confirm!=="undefined"){confirm()}}})}return}if(typeof messages==="undefined"||typeof messages.length==="undefined"||!messages.length){if(typeof replace!=="undefined"&&replace===true&&typeof this.notifications[group]!=="undefined"){this.notifications[group][type]=[];this.emit(this.events.UPDATE)}return}if(typeof group==="undefined"){throw new Error("Invalid group given for notification services, messages: ["+messages.join(", ")+"]")}var $me=this;messages.forEach(function(message){$me.remove(group,type,message)});var notificationContainer=$('*[data-ch-notifications="'+group+'"]');if(notificationContainer.length===0){group="general"}var visible=false;notificationContainer.each(function(i,node){if(node.offsetParent!==null){visible=true}});if(!visible){group="general"}if(typeof this.notifications[group]==="undefined"){this.notifications[group]={success:[],error:[]}}if(typeof replace!=="undefined"&&replace===true){this.notifications[group][type]=messages}else{this.notifications[group][type]=this.notifications[group][type].concat(messages)}this.emit(this.events.UPDATE)},_getTitle:function(type){switch(type){case NOTIFICATION_TYPE_SUCCESS:return"Success!";case NOTIFICATION_TYPE_ERROR:return"Oops!";case NOTIFICATION_TYPE_CONFIRM:return"Are you sure?";default:return"Hey!"}},events:{UPDATE:"notificationService.events.UPDATE"}})});utilServices.directive("chNotifications",function(notificationService){return{scope:{chNotifications:"@"},controller:function($scope){$scope._notifications={error:[],success:[]};$scope._notificationShowError=false;$scope._notificationShowSuccess=false;$scope.updateNotifications=function(){$scope._notifications=notificationService.getNotifications($scope.chNotifications);if(!$scope._notifications){return}if($scope._notifications.error.length>0){$scope._notificationShowError=true}else{$scope._notificationShowError=false}if($scope._notifications.success.length>0){$scope._notificationShowSuccess=true}else{$scope._notificationShowSuccess=false}};notificationService.listen(notificationService.events.UPDATE,$scope.updateNotifications);$scope.updateNotifications();$scope.hide=function(e,type,message){e.preventDefault();notificationService.remove($scope.chNotifications,type,message)}},replace:true,template:'<div><div data-ng-show="_notificationShowError" class="error follow-message-wrapper" ng-repeat="error in _notifications.error track by $index"><ul class="follow-messages"><li>{[ error ]} <a href="#" data-ng-click="hide($event, \'error\', error);" class="close">&times;</a></li></ul></div>\n                   <div data-ng-show="_notificationShowSuccess" class="status follow-message-wrapper"><ul class="follow-messages"><li ng-repeat="success in _notifications.success track by $index">{[ success ]} <a href="#" data-ng-click="hide($event, \'success\', success);" class="close">&times;</a></li></ul></div></div>'}});(function(window,document,undefined){var modalClass=".ch-alert",overlayClass=".ch-overlay",alertTypes=["error","warning","info","success","input","prompt"],defaultParams={title:"",text:"",type:null,allowOutsideClick:false,showConfirmButton:true,showCancelButton:false,closeOnConfirm:true,closeOnCancel:true,confirmButtonText:"OK",confirmButtonColor:"confirm",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:false,animation:true,allowEscapeKey:true,inputType:"text",inputPlaceholder:"",inputValue:"",hasBottomPromo:false,bottomPromoHtml:""};var getModal=function(){var $modal=document.querySelector(modalClass);if(!$modal){sweetAlertInitialize();$modal=getModal()}return $modal};var getInput=function(){var modal=getModal();if(modal){return modal.querySelector("input")}},getOverlay=function(){return document.querySelector(overlayClass)},hasClass=function(elem,className){return new RegExp(" "+className+" ").test(" "+elem.className+" ")},addClass=function(elem,className){if(!hasClass(elem,className)){elem.className+=" "+className}},removeClass=function(elem,className){var newClass=" "+elem.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(elem,className)){while(newClass.indexOf(" "+className+" ")>=0){newClass=newClass.replace(" "+className+" "," ")}elem.className=newClass.replace(/^\s+|\s+$/g,"")}},escapeHtml=function(str){var div=document.createElement("div");div.appendChild(document.createTextNode(str));return div.innerHTML},_show=function(elem){elem.style.opacity="";elem.style.display="block"},show=function(elems){if(elems&&!elems.length){return _show(elems)}for(var i=0;i<elems.length;++i){_show(elems[i])}},_hide=function(elem){elem.style.opacity="";elem.style.display="none"},hide=function(elems){if(elems&&!elems.length){return _hide(elems)}for(var i=0;i<elems.length;++i){_hide(elems[i])}},isDescendant=function(parent,child){var node=child.parentNode;while(node!==null){if(node===parent){return true}node=node.parentNode}return false},getTopMargin=function(elem){elem.style.left="-9999px";elem.style.display="block";var height=elem.clientHeight,padding;if(typeof getComputedStyle!=="undefined"){padding=parseInt(getComputedStyle(elem).getPropertyValue("padding-top"),10)}else{padding=parseInt(elem.currentStyle.padding)}elem.style.left="";elem.style.display="none";return"-"+parseInt((height+padding)/2)+"px"},fadeIn=function(elem,interval){if(+elem.style.opacity<1){interval=interval||16;elem.style.opacity=0;elem.style.display="block";var last=+new Date;var tick=function(){elem.style.opacity=+elem.style.opacity+(new Date-last)/100;last=+new Date;if(+elem.style.opacity<1){setTimeout(tick,interval)}};tick()}elem.style.display="block"},fadeOut=function(elem,interval){interval=interval||16;elem.style.opacity=1;var last=+new Date;var tick=function(){elem.style.opacity=+elem.style.opacity-(new Date-last)/100;last=+new Date;if(+elem.style.opacity>0){setTimeout(tick,interval)}else{elem.style.display="none"}};tick()},fireClick=function(node){if(typeof MouseEvent==="function"){var mevt=new MouseEvent("click",{view:window,bubbles:false,cancelable:true});node.dispatchEvent(mevt)}else if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initEvent("click",false,false);node.dispatchEvent(evt)}else if(document.createEventObject){node.fireEvent("onclick")}else if(typeof node.onclick==="function"){node.onclick()}},stopEventPropagation=function(e){if(typeof e.stopPropagation==="function"){e.stopPropagation();e.preventDefault()}else if(window.event&&window.event.hasOwnProperty("cancelBubble")){window.event.cancelBubble=true}};var previousActiveElement,previousWindowKeyDown,lastFocusedButton;var sweetAlertInitialize=function(){var sweetHTML='<div class="ch-overlay" tabIndex="-1"></div><div class="ch-alert"><div class="sa-icon sa-error"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div><div class="sa-icon sa-warning"> <span class="sa-body"></span> <span class="sa-dot"></span> </div> <div class="sa-icon sa-info"></div> <div class="sa-icon sa-success"> <span class="sa-line sa-tip"></span> <span class="sa-line sa-long"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> <div class="sa-icon sa-custom"></div> <h2>Title</h2><p>Text</p><fieldset><input type="text" tabIndex="3" /></fieldset> <div class="sa-error-container error"><span class="sa_error_prompt-icon"><i class="fa fa-exclamation-triangle"></i></span> <p>Not valid!</p></div> <button class="confirm" tabIndex="1">OK</button><button class="cancel" tabIndex="2">Cancel</button><div class="ch-sa-bottom-div"></div></div>',sweetWrap=document.createElement("div");sweetWrap.innerHTML=sweetHTML;while(sweetWrap.firstChild){document.body.appendChild(sweetWrap.firstChild)}};var sweetAlert,swal;sweetAlert=swal=function(){var customizations=arguments[0];addClass(document.body,"stop-scrolling");resetInput();function argumentOrDefault(key){var args=customizations;if(typeof args[key]!=="undefined"){return args[key]}else{return defaultParams[key]}}if(arguments[0]===undefined){logStr("SweetAlert expects at least 1 attribute!");return false}var params=extend({},defaultParams);switch(typeof arguments[0]){case"string":params.title=arguments[0];params.text=arguments[1]||"";params.type=arguments[2]||"";break;case"object":if(arguments[0].title===undefined){logStr('Missing "title" argument!');return false}params.title=arguments[0].title;var availableCustoms=["text","type","customClass","allowOutsideClick","showConfirmButton","showCancelButton","closeOnConfirm","closeOnCancel","timer","confirmButtonColor","cancelButtonText","imageUrl","imageSize","html","animation","allowEscapeKey","inputType","inputPlaceholder","inputValue","hasBottomPromo","bottomPromoHtml"];var numCustoms=availableCustoms.length;for(var customIndex=0;customIndex<numCustoms;customIndex++){var customName=availableCustoms[customIndex];params[customName]=argumentOrDefault(customName)}params.confirmButtonText=params.showCancelButton?"Confirm":defaultParams.confirmButtonText;params.confirmButtonText=argumentOrDefault("confirmButtonText");params.doneFunction=arguments[1]||null;break;default:logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]);return false}setParameters(params);fixVerticalPosition();openModal();var modal=getModal();var onButtonEvent=function(event){var e=event||window.event;var target=e.target||e.srcElement,targetedConfirm=target.className.indexOf("confirm")!==-1,targetedOverlay=target.className.indexOf("ch-overlay")!==-1,modalIsVisible=hasClass(modal,"visible"),doneFunctionExists=params.doneFunction&&modal.getAttribute("data-has-done-function")==="true";switch(e.type){case"focus":var $confirmButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel");break;case"click":if(targetedConfirm&&doneFunctionExists&&modalIsVisible){handleConfirm()}else if(doneFunctionExists&&modalIsVisible||targetedOverlay){handleCancel()}else if(isDescendant(modal,target)&&target.tagName==="BUTTON"){sweetAlert.close()}break}};function handleConfirm(){var callbackValue=true;if(hasClass(modal,"show-input")){callbackValue=modal.querySelector("input").value;if(!callbackValue){callbackValue=""}}params.doneFunction(callbackValue);if(params.closeOnConfirm){sweetAlert.close()}}function handleCancel(){var functionAsStr=String(params.doneFunction).replace(/\s/g,"");var functionHandlesCancel=functionAsStr.substring(0,9)==="function("&&functionAsStr.substring(9,10)!==")";if(functionHandlesCancel){params.doneFunction(false)}if(params.closeOnCancel){sweetAlert.close()}}var $buttons=modal.querySelectorAll("button");for(var i=0;i<$buttons.length;i++){$buttons[i].onclick=onButtonEvent;$buttons[i].onmouseover=onButtonEvent;$buttons[i].onmouseout=onButtonEvent;$buttons[i].onmousedown=onButtonEvent;$buttons[i].onmouseup=onButtonEvent;$buttons[i].onfocus=onButtonEvent}if(params.allowOutsideClick){getOverlay().onclick=onButtonEvent}var $okButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel"),$modalButtons=modal.querySelectorAll("button[tabindex]");function handleKeyDown(event){var e=event||window.event;var keyCode=e.keyCode||e.which;if([9,13,32,27].indexOf(keyCode)===-1){return}var $targetElement=e.target||e.srcElement;var btnIndex=-1;for(var i=0;i<$modalButtons.length;i++){if($targetElement===$modalButtons[i]){btnIndex=i;break}}if(keyCode===9){if(btnIndex===-1){$targetElement=$okButton}else{if(btnIndex===$modalButtons.length-1){$targetElement=$modalButtons[0]}else{$targetElement=$modalButtons[btnIndex+1]}}stopEventPropagation(e);$targetElement.focus()}else{if(keyCode===13){if($targetElement.tagName==="INPUT"){$targetElement=$okButton;$okButton.focus()}if(btnIndex===-1){$targetElement=$okButton}else{$targetElement=undefined}}else if(keyCode===27&&params.allowEscapeKey===true){$targetElement=$cancelButton;fireClick($targetElement,e)}else{$targetElement=undefined}}}previousWindowKeyDown=window.onkeydown;window.onkeydown=handleKeyDown;window.onfocus=function(){window.setTimeout(function(){if(lastFocusedButton!==undefined){lastFocusedButton.focus();lastFocusedButton=undefined}},0)}};sweetAlert.setDefaults=swal.setDefaults=function(userParams){if(!userParams){throw new Error("userParams is required")}if(typeof userParams!=="object"){throw new Error("userParams has to be a object")}extend(defaultParams,userParams)};function setParameters(params){var modal=getModal();var $title=modal.querySelector("h2"),$text=modal.querySelector("p"),$cancelBtn=modal.querySelector("button.cancel"),$confirmBtn=modal.querySelector("button.confirm"),$bottomDiv=modal.querySelector(".ch-sa-bottom-div");$title.innerHTML=params.html?params.title:escapeHtml(params.title).split("\n").join("<br>");$text.innerHTML=params.html?params.text:escapeHtml(params.text||"").split("\n").join("<br>");if(params.text){show($text)}if(params.customClass){addClass(modal,params.customClass);modal.setAttribute("data-custom-class",params.customClass)}else{var customClass=modal.getAttribute("data-custom-class");removeClass(modal,customClass);modal.setAttribute("data-custom-class","")}hide(modal.querySelectorAll(".sa-icon"));if(params.type&&!isIE8()){var validType=false;for(var i=0;i<alertTypes.length;i++){if(params.type===alertTypes[i]){validType=true;break}}if(!validType){logStr("Unknown alert type: "+params.type);return false}var typesWithIcons=["success","error","warning","info"];var $icon;if(typesWithIcons.indexOf(params.type)!==-1){$icon=modal.querySelector(".sa-icon."+"sa-"+params.type);show($icon)}var $input=getInput();switch(params.type){case"success":addClass($icon,"animate");addClass($icon.querySelector(".sa-tip"),"animateSuccessTip");addClass($icon.querySelector(".sa-long"),"animateSuccessLong");if(params.inputPlaceholder.length>0){$input.setAttribute("type",params.inputType);$input.value=params.inputValue;$input.setAttribute("placeholder",params.inputPlaceholder);addClass(modal,"show-input");setTimeout(function(){$input.focus();$input.addEventListener("keyup",swal.resetInputError)},400)}break;case"error":addClass($icon,"animateErrorIcon");addClass($icon.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":addClass($icon,"pulseWarning");addClass($icon.querySelector(".sa-body"),"pulseWarningIns");addClass($icon.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":$input.setAttribute("type",params.inputType);addClass(modal,"show-input");setTimeout(function(){$input.focus();$input.addEventListener("keyup",swal.resetInputError)},400);break}}if(params.imageUrl){var $customIcon=modal.querySelector(".sa-icon.sa-custom");$customIcon.style.backgroundImage="url("+params.imageUrl+")";show($customIcon);var _imgWidth=80,_imgHeight=80;if(params.imageSize){var dimensions=params.imageSize.toString().split("x");var imgWidth=dimensions[0];var imgHeight=dimensions[1];if(!imgWidth||!imgHeight){logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+params.imageSize)}else{_imgWidth=imgWidth;_imgHeight=imgHeight}}$customIcon.setAttribute("style",$customIcon.getAttribute("style")+"width:"+_imgWidth+"px; height:"+_imgHeight+"px")}modal.setAttribute("data-has-cancel-button",params.showCancelButton);if(params.showCancelButton){$cancelBtn.style.display="inline-block"}else{hide($cancelBtn)}modal.setAttribute("data-has-confirm-button",params.showConfirmButton);if(params.showConfirmButton){$confirmBtn.style.display="inline-block"}else{hide($confirmBtn)}if(params.cancelButtonText){$cancelBtn.innerHTML=escapeHtml(params.cancelButtonText)}if(params.confirmButtonText){$confirmBtn.innerHTML=escapeHtml(params.confirmButtonText)}if(params.confirmButtonColor){$confirmBtn.style.backgroundColor=params.confirmButtonColor}modal.setAttribute("data-allow-ouside-click",params.allowOutsideClick);var hasDoneFunction=params.doneFunction?true:false;modal.setAttribute("data-has-done-function",hasDoneFunction);if(!params.animation){modal.setAttribute("data-animation","none")}else if(typeof params.animation==="string"){modal.setAttribute("data-animation",params.animation)}else{modal.setAttribute("data-animation","pop")}if(params.hasBottomPromo&&params.bottomPromoHtml){$bottomDiv.innerHTML=params.bottomPromoHtml;show($bottomDiv)}else{hide($bottomDiv)}modal.setAttribute("data-timer",params.timer)}function colorLuminance(hex,lum){hex=String(hex).replace(/[^0-9a-f]/gi,"");if(hex.length<6){hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]}lum=lum||0;var rgb="#",c,i;for(i=0;i<3;i++){c=parseInt(hex.substr(i*2,2),16);c=Math.round(Math.min(Math.max(0,c+c*lum),255)).toString(16);rgb+=("00"+c).substr(c.length)}return rgb}function extend(a,b){for(var key in b){if(b.hasOwnProperty(key)){a[key]=b[key]}}return a}function hexToRgb(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?parseInt(result[1],16)+", "+parseInt(result[2],16)+", "+parseInt(result[3],16):null}function openModal(){var modal=getModal();fadeIn(getOverlay(),10);show(modal);addClass(modal,"showchAlert");removeClass(modal,"hidechAlert");previousActiveElement=document.activeElement;var $okButton=modal.querySelector("button.confirm");$okButton.focus();setTimeout(function(){addClass(modal,"visible")},500);var timer=modal.getAttribute("data-timer");if(timer!=="null"&&timer!==""){modal.timeout=setTimeout(function(){sweetAlert.close()},timer)}}sweetAlert.close=swal.close=function(){var modal=getModal();fadeOut(getOverlay(),5);fadeOut(modal,5);removeClass(modal,"showchAlert");addClass(modal,"hidechAlert");removeClass(modal,"visible");var $successIcon=modal.querySelector(".sa-icon.sa-success");removeClass($successIcon,"animate");removeClass($successIcon.querySelector(".sa-tip"),"animateSuccessTip");removeClass($successIcon.querySelector(".sa-long"),"animateSuccessLong");var $errorIcon=modal.querySelector(".sa-icon.sa-error");removeClass($errorIcon,"animateErrorIcon");removeClass($errorIcon.querySelector(".sa-x-mark"),"animateXMark");var $warningIcon=modal.querySelector(".sa-icon.sa-warning");removeClass($warningIcon,"pulseWarning");removeClass($warningIcon.querySelector(".sa-body"),"pulseWarningIns");removeClass($warningIcon.querySelector(".sa-dot"),"pulseWarningIns");removeClass(document.body,"stop-scrolling");window.onkeydown=previousWindowKeyDown;if(previousActiveElement){previousActiveElement.focus()}lastFocusedButton=undefined;clearTimeout(modal.timeout)};sweetAlert.showInputError=swal.showInputError=function(errorMessage){var modal=getModal();var $errorInput=modal.querySelector("input");addClass($errorInput,"error");var $errorContainer=modal.querySelector(".sa-error-container");addClass($errorContainer,"show");$errorContainer.querySelector("p").innerHTML=errorMessage;modal.querySelector("input").focus()};function resetInput(){var $modal=getModal();var $input=getInput();removeClass($modal,"show-input");$input.value="";$input.setAttribute("type",defaultParams.inputType);swal.resetInputError()}sweetAlert.resetInputError=swal.resetInputError=function(event){if(event&&event.keyCode===13){return false}var $modal=getModal();var $errorInput=$modal.querySelector("input");removeClass($errorInput,"error");var $errorContainer=$modal.querySelector(".sa-error-container");removeClass($errorContainer,"show")};function fixVerticalPosition(){var modal=getModal();modal.style.marginTop=getTopMargin(getModal())}function isIE8(){if(window.attachEvent&&!window.addEventListener){return true}else{return false}}function logStr(string){if(window.console){window.console.log("SweetAlert: "+string)}}if(typeof define==="function"&&define.amd){define(function(){return sweetAlert})}else if(typeof module!=="undefined"&&module.exports){module.exports=sweetAlert}else if(typeof window!=="undefined"){window.sweetAlert=window.swal=sweetAlert}})(window,document);if(typeof utilServices==="undefined"){throw new Error("utilServices is required to use the localeService")}utilServices.service("localeService",function(){var countries=[{value:"AF",label:"Afghanistan"},{value:"AX",label:"ALand Islands"},{value:"AL",label:"Albania"},{value:"DZ",label:"Algeria"},{value:"AS",label:"American Samoa"},{value:"AD",label:"Andorra"},{value:"AO",label:"Angola"},{value:"AI",label:"Anguilla"},{value:"AQ",label:"Antarctica"},{value:"AG",label:"Antigua And Barbuda"},{value:"AR",label:"Argentina"},{value:"AM",label:"Armenia"},{value:"AW",label:"Aruba"},{value:"AU",label:"Australia"},{value:"AT",label:"Austria"},{value:"AZ",label:"Azerbaijan"},{value:"BS",label:"Bahamas"},{value:"BH",label:"Bahrain"},{value:"BD",label:"Bangladesh"},{value:"BB",label:"Barbados"},{value:"BY",label:"Belarus"},{value:"BE",label:"Belgium"},{value:"BZ",label:"Belize"},{value:"BJ",label:"Benin"},{value:"BM",label:"Bermuda"},{value:"BT",label:"Bhutan"},{value:"BO",label:"Bolivia"},{value:"BA",label:"Bosnia And Herzegovina"},{value:"BW",label:"Botswana"},{value:"BV",label:"Bouvet Island"},{value:"BR",label:"Brazil"},{value:"IO",label:"British Indian Ocean Territory"},{value:"BN",label:"Brunei Darussalam"},{value:"BG",label:"Bulgaria"},{value:"BF",label:"Burkina Faso"},{value:"BI",label:"Burundi"},{value:"KH",label:"Cambodia"},{value:"CM",label:"Cameroon"},{value:"CA",label:"Canada"},{value:"CV",label:"Cape Verde"},{value:"KY",label:"Cayman Islands"},{value:"CF",label:"Central African Republic"},{value:"TD",label:"Chad"},{value:"CL",label:"Chile"},{value:"CN",label:"China"},{value:"CX",label:"Christmas Island"},{value:"CC",label:"Cocos (Keeling) Islands"},{value:"CO",label:"Colombia"},{value:"KM",label:"Comoros"},{value:"CG",label:"Congo"},{value:"CD",label:"Congo, The Democratic Republic Of The"},{value:"CK",label:"Cook Islands"},{value:"CR",label:"Costa Rica"},{value:"CI",label:"Cote D'Ivoire"},{value:"HR",label:"Croatia"},{value:"CU",label:"Cuba"},{value:"CY",label:"Cyprus"},{value:"CZ",label:"Czech Republic"},{value:"DK",label:"Denmark"},{value:"DJ",label:"Djibouti"},{value:"DM",label:"Dominica"},{value:"DO",label:"Dominican Republic"},{value:"EC",label:"Ecuador"},{value:"EG",label:"Egypt"},{value:"SV",label:"El Salvador"},{value:"GQ",label:"Equatorial Guinea"},{value:"ER",label:"Eritrea"},{value:"EE",label:"Estonia"},{value:"ET",label:"Ethiopia"},{value:"FK",label:"Falkland Islands (Malvinas)"},{value:"FO",label:"Faroe Islands"},{value:"FJ",label:"Fiji"},{value:"FI",label:"Finland"},{value:"FR",label:"France"},{value:"GF",label:"French Guiana"},{value:"PF",label:"French Polynesia"},{value:"TF",label:"French Southern Territories"},{value:"GA",label:"Gabon"},{value:"GM",label:"Gambia"},{value:"GE",label:"Georgia"},{value:"DE",label:"Germany"},{value:"GH",label:"Ghana"},{value:"GI",label:"Gibraltar"},{value:"GR",label:"Greece"},{value:"GL",label:"Greenland"},{value:"GD",label:"Grenada"},{value:"GP",label:"Guadeloupe"},{value:"GU",label:"Guam"},{value:"GT",label:"Guatemala"},{value:"Gg",label:"Guernsey"},{value:"GN",label:"Guinea"},{value:"GW",label:"Guinea-Bissau"},{value:"GY",label:"Guyana"},{value:"HT",label:"Haiti"},{value:"HM",label:"Heard Island And Mcdonald Islands"},{value:"VA",label:"Holy See (Vatican City State)"},{value:"HN",label:"Honduras"},{value:"HK",label:"Hong Kong"},{value:"HU",label:"Hungary"},{value:"IS",label:"Iceland"},{value:"IN",label:"India"},{value:"ID",label:"Indonesia"},{value:"IR",label:"Iran, Islamic Republic Of"},{value:"IQ",label:"Iraq"},{value:"IE",label:"Ireland"},{value:"IM",label:"Isle Of Man"},{value:"IL",label:"Israel"},{value:"IT",label:"Italy"},{value:"JM",label:"Jamaica"},{value:"JP",label:"Japan"},{value:"JE",label:"Jersey"},{value:"JO",label:"Jordan"},{value:"KZ",label:"Kazakhstan"},{value:"KE",label:"Kenya"},{value:"KI",label:"Kiribati"},{value:"KP",label:"Korea, Democratic People's Republic Of"},{value:"KR",label:"Korea, Republic Of"},{value:"KW",label:"Kuwait"},{value:"KG",label:"Kyrgyzstan"},{value:"LA",label:"Lao People's Democratic Republic"},{value:"LV",label:"Latvia"},{value:"LB",label:"Lebanon"},{value:"LS",label:"Lesotho"},{value:"LR",label:"Liberia"},{value:"LY",label:"Libyan Arab Jamahiriya"},{value:"LI",label:"Liechtenstein"},{value:"LT",label:"Lithuania"},{value:"LU",label:"Luxembourg"},{value:"MO",label:"Macao"},{value:"MK",label:"Macedonia, The Former Yugoslav Republic Of"},{value:"MG",label:"Madagascar"},{value:"MW",label:"Malawi"},{value:"MY",label:"Malaysia"},{value:"MV",label:"Maldives"},{value:"ML",label:"Mali"},{value:"MT",label:"Malta"},{value:"MH",label:"Marshall Islands"},{value:"MQ",label:"Martinique"},{value:"MR",label:"Mauritania"},{value:"MU",label:"Mauritius"},{value:"YT",label:"Mayotte"},{value:"MX",label:"Mexico"},{value:"FM",label:"Micronesia, Federated States Of"},{value:"MD",label:"Moldova, Republic Of"},{value:"MC",label:"Monaco"},{value:"MN",label:"Mongolia"},{value:"MS",label:"Montserrat"},{value:"MA",label:"Morocco"},{value:"MZ",label:"Mozambique"},{value:"MM",label:"Myanmar"},{value:"NA",label:"Namibia"},{value:"NR",label:"Nauru"},{value:"NP",label:"Nepal"},{value:"NL",label:"Netherlands"},{value:"AN",label:"Netherlands Antilles"},{value:"NC",label:"New Caledonia"},{value:"NZ",label:"New Zealand"},{value:"NI",label:"Nicaragua"},{value:"NE",label:"Niger"},{value:"NG",label:"Nigeria"},{value:"NU",label:"Niue"},{value:"NF",label:"Norfolk Island"},{value:"MP",label:"Northern Mariana Islands"},{value:"NO",label:"Norway"},{value:"OM",label:"Oman"},{value:"PK",label:"Pakistan"},{value:"PW",label:"Palau"},{value:"PS",label:"Palestinian Territory, Occupied"},{value:"PA",label:"Panama"},{value:"PG",label:"Papua New Guinea"},{value:"PY",label:"Paraguay"},{value:"PE",label:"Peru"},{value:"PH",label:"Philippines"},{value:"PN",label:"Pitcairn"},{value:"PL",label:"Poland"},{value:"PT",label:"Portugal"},{value:"PR",label:"Puerto Rico"},{value:"QA",label:"Qatar"},{value:"RE",label:"Reunion"},{value:"RO",label:"Romania"},{value:"RU",label:"Russian Federation"},{value:"RW",label:"Rwanda"},{value:"SH",label:"Saint Helena"},{value:"KN",label:"Saint Kitts And Nevis"},{value:"LC",label:"Saint Lucia"},{value:"PM",label:"Saint Pierre And Miquelon"},{value:"VC",label:"Saint Vincent And The Grenadines"},{value:"WS",label:"Samoa"},{value:"SM",label:"San Marino"},{value:"ST",label:"Sao Tome And Principe"},{value:"SA",label:"Saudi Arabia"},{value:"SN",label:"Senegal"},{value:"CS",label:"Serbia And Montenegro"},{value:"SC",label:"Seychelles"},{value:"SL",label:"Sierra Leone"},{value:"SG",label:"Singapore"},{value:"SK",label:"Slovakia"},{value:"SI",label:"Slovenia"},{value:"SB",label:"Solomon Islands"},{value:"SO",label:"Somalia"},{value:"ZA",label:"South Africa"},{value:"GS",label:"South Georgia And The South Sandwich Islands"},{value:"ES",label:"Spain"},{value:"LK",label:"Sri Lanka"},{value:"SD",label:"Sudan"},{value:"SR",label:"Suriname"},{value:"SJ",label:"Svalbard And Jan Mayen"},{value:"SZ",label:"Swaziland"},{value:"SE",label:"Sweden"},{value:"CH",label:"Switzerland"},{value:"SY",label:"Syrian Arab Republic"},{value:"TW",label:"Taiwan, Province Of China"},{value:"TJ",label:"Tajikistan"},{value:"TZ",label:"Tanzania, United Republic Of"},{value:"TH",label:"Thailand"},{value:"TL",label:"Timor-Leste"},{value:"TG",label:"Togo"},{value:"TK",label:"Tokelau"},{value:"TO",label:"Tonga"},{value:"TT",label:"Trinidad And Tobago"},{value:"TN",label:"Tunisia"},{value:"TR",label:"Turkey"},{value:"TM",label:"Turkmenistan"},{value:"TC",label:"Turks And Caicos Islands"},{value:"TV",label:"Tuvalu"},{value:"UG",label:"Uganda"},{value:"UA",label:"Ukraine"},{value:"AE",label:"United Arab Emirates"},{value:"GB",label:"United Kingdom"},{value:"US",selected:"selected",label:"United States"},{value:"UM",label:"United States Minor Outlying Islands"},{value:"UY",label:"Uruguay"},{value:"UZ",label:"Uzbekistan"},{value:"VU",label:"Vanuatu"},{value:"VE",label:"Venezuela"},{value:"VN",label:"Viet Nam"},{value:"VG",label:"Virgin Islands, British"},{value:"VI",label:"Virgin Islands, U.S."},{value:"WF",label:"Wallis And Futuna"},{value:"EH",label:"Western Sahara"},{value:"YE",label:"Yemen"},{value:"ZM",label:"Zambia"},{value:"ZW",label:"Zimbabwe"}];var months=[{id:1,label:"January",short:"Jan"},{id:2,label:"February",short:"Feb"},{id:3,label:"March",short:"Mar"},{id:4,label:"April",short:"Apr"},{id:5,label:"May",short:"May"},{id:6,label:"June",short:"Jun"},{id:7,label:"July",short:"Jul"},{id:8,label:"August",short:"Aug"},{id:9,label:"September",short:"Sep"},{id:10,label:"October",short:"Oct"},{id:11,label:"November",short:"Nov"},{id:12,label:"December",short:"Dec"}];var terms={1:"Fall",2:"Winter",3:"Spring",4:"Summer"};return{getCountries:function(){return countries},getCountry:function(value){var country=false;this.getCountries().forEach(function(c){if(c.value===value){country=c}});return country},getMonths:function(){return months},getMonth:function(month_id){var month=false;this.getMonths().forEach(function(m){if(m.id===month_id){month=m}});return month},getTerm:function(term){return terms[term]}}});if(typeof angular==="undefined"){throw new Error("Angular is required to use the newsfeed services")}var ProductThumbnailStatsServices=angular.module("ProductThumbnailStatsServices",[]);if(typeof ProductThumbnailStatsServices==="undefined"){throw new Error("ProductThumbnailStatsServices is required to use this class")}var productThumbnailStatsService=ProductThumbnailStatsServices.service("productThumbnailStatsService",function(){var thumbnailService={getStats:function(){return ProductThumbnailStats.store.getAll()},getStat:function(statsObject,stat,type,id){if(typeof statsObject[type]!=="undefined"&&typeof statsObject[type][id]!=="undefined"){if(statsObject[type][id][stat]==0){return"~"}return statsObject[type][id][stat]}return"~"}};return thumbnailService});var ProductThumbnailStats=new function(){return{dispatchView:function(action,payload){payload.action=action;this.dispatcher.dispatch(ProductThumbnailStats.dispatcher.type.VIEW,payload)},dispatchServer:function(action,payload){payload.action=action;this.dispatcher.dispatch(ProductThumbnailStats.dispatcher.type.SERVER,payload)}}};ProductThumbnailStats.dispatcher=new function(){return{callbacks:[],dispatch:function(type,payload){this.callbacks.forEach(function(callback){if(typeof callback==="function"){callback(payload)}})},register:function(callback){this.callbacks.push(callback);return this.callbacks.length-1},unregister:function(index){if(typeof this.callbacks[index]!=="undefined"){this.callbacks[index]=null}},type:{VIEW:"ProductThumbnailStats.dispatcher.type.VIEW",SERVER:"ProductThumbnailStats.dispatcher.type.SERVER"}}};ProductThumbnailStats.actions={RECEIVE:"ProductThumbnailStats.actions.RECEIVE",FAILURE:"ProductThumbnailStats.actions.FAILURE"};ProductThumbnailStats.events={UPDATE:"ProductThumbnailStats.events.UPDATE",FAILURE:"ProductThumbnailStats.events.FAILURE"};ProductThumbnailStats.store=new function(){var $=jQuery;return{products:[],dispatchIndex:ProductThumbnailStats.dispatcher.register(function(payload){switch(payload.action){case ProductThumbnailStats.actions.RECEIVE:payload.products.forEach(function(product){if(typeof ProductThumbnailStats.store.products[product.type]==="undefined"){ProductThumbnailStats.store.products[product.type]={}}ProductThumbnailStats.store.products[product.type][product.id]=product});$(window).trigger(ProductThumbnailStats.events.UPDATE);break;case ProductThumbnailStats.actions.FAILURE:$(window).trigger(ProductThumbnailStats.events.FAILURE);break}}),getAll:function(){return this.products}}};ProductThumbnailStats.api=new function(){var $=jQuery;function onReceive(response){if(response.error){var message="Received error response from server";if(JSON&&JSON.stringify){message+=": "+JSON.stringify(response)}throw new Error(message)}if(response.products===undefined){throw new Error("No products returned from server")}ProductThumbnailStats.dispatchServer(ProductThumbnailStats.actions.RECEIVE,{products:response.products})}function onError(err){ProductThumbnailStats.dispatchServer(ProductThumbnailStats.actions.FAILURE,{})}var API_PULL_URL="/api/v1/meta-data/";return{getStats:function(products){if(typeof products==="undefined"||products.length===0){return false}var existing=ProductThumbnailStats.store.getAll();var unique=products.filter(function(a){return typeof existing[a.type]==="undefined"||typeof existing[a.type][a.id]==="undefined"});if(unique.length===0){return false}var data={products:unique};$.ajax({url:API_PULL_URL,type:"POST",data:data,dataType:"json",success:onReceive,error:onError})}}};ProductThumbnailStats.app=new function(){var $=jQuery;return{start:function(){$(window).on(ProductThumbnailStats.events.UPDATE,function(){var products=ProductThumbnailStats.store.getAll();for(var type in products){products[type].forEach(function(product){$('.js-enable-product-stats:[data-product-id="'+product.id+'"][data-product-type="'+product.type+'"] span:[data-product-stat]').each(function(_,stat){var stat_type=$(stat).data("product-stat");if(typeof product[stat_type]!=="undefined"){var html=$(stat).children();$(stat).html(html);$(stat).append(document.createTextNode(" "+product[stat_type]))}})})}});$(window).on(ProductThumbnailStats.events.FAILURE,function(){$(".js-enable-product-stats span:[data-product-stat]").hide()});this.fromDOM()},fromDOM:function(){var products=[];$(".js-enable-product-stats").each(function(_,stats){products.push({type:$(stats).data("product-type"),id:$(stats).data("product-id")})});ProductThumbnailStats.api.getStats(products)},startAngular:function(){}}};if(typeof utilServices==="undefined"){throw new Error("utilServices is requried to use the loader directive")}utilServices.directive("chUtilsLoader",function(){return{template:'<div style="width:100%; padding:20px 0px; text-align: center;"><img src="/assets/img/ajax-loaders/hexagon-loader.gif" /></div>'}});if(typeof angular==="undefined"){throw new Error("Angular must be included in order to use the paymentServices")}var paymentServices=angular.module("paymentServices",[]);paymentServices.factory("PaymentFormatService",PaymentFormatService);function PaymentFormatService($filter){var PRICE_MULTIPLIER=100;return{dollarFormat:dollarFormat,PRICE_MULTIPLIER:PRICE_MULTIPLIER};function dollarFormat(num,keepDecimalPlaces,currencySymbol){if(typeof currencySymbol==="undefined"){currencySymbol="$"}num=num/PRICE_MULTIPLIER;return $filter("currency")(num,currencySymbol,keepDecimalPlaces||hasSignificantDecimal(num)?2:0)}function hasSignificantDecimal(num){return parseFloat(num,10)!=parseInt(num,10)}}if(typeof paymentServices==="undefined"){throw new Error("paymentServices must be included in order to use paymentActions")}paymentServices.service("paymentActions",["dispatcher","apiService","notificationService",function(dispatcher,apiService,notificationService){var braintreeFieldInstance=null;var braintreeClientInstance=null;var braintreeDeviceData=null;var braintreeAuthorization=null;var braintreeActions={initHostedFields:function(form,submit,clientToken){braintree.client.create({authorization:clientToken},function(clientErr,clientInstance){if(clientErr){console.error(clientErr);return}braintreeClientInstance=clientInstance;braintreeActions.createHostedFields(clientInstance);braintree.dataCollector.create({client:clientInstance,kount:true},function(dataCollectorErr,dataCollectorInstance){if(dataCollectorErr){console.error(dataCollectorErr);return}braintreeDeviceData=dataCollectorInstance.deviceData})})},createHostedFields:function(clientInstance){var fields={};fields={number:{selector:"#card-number",placeholder:"Card number"},expirationDate:{selector:"#expiration-date",placeholder:"MM/YYYY"},postalCode:{selector:"#postal-code",placeholder:"Zip Code"}};braintree.hostedFields.create({client:clientInstance,styles:{input:{"font-size":"14px"},"input.invalid":{color:"red"},"input.valid":{}},fields:fields},function(hostedFieldsErr,hostedFieldsInstance){braintreeFieldInstance=hostedFieldsInstance;if(hostedFieldsErr){console.error(hostedFieldsErr);return}})},setUpBraintree:function(form,submit){if(braintreeAuthorization!==null){braintreeActions.initHostedFields(form,submit,braintreeAuthorization)}else{jQuery.get("/api/v1/payments/client_token/").success(function(data){braintreeAuthorization=data["clientToken"];braintreeActions.initHostedFields(form,submit,braintreeAuthorization)}).error(function(){console.log("Client token generation failed")})}},tearDownAndResetBraintree:function(){if(typeof braintreeFieldInstance==="undefined"||braintreeFieldInstance===null){return false}braintreeFieldInstance.teardown(function(error){if(error){console.error("Could not tear down Hosted Fields!")}else{braintreeActions.createHostedFields(braintreeClientInstance)}})},hasBraintreeSetup:function(){return braintreeAuthorization!==null}};var paymentActions={loadPaymentOptions:function(){paymentApi.getPaymentOptions()},savePaymentOption:function(paymentOption,success,error){paymentApi.savePaymentOption(paymentOption,success,error)},setPaymentOptionPrimary:function(paymentOption){paymentApi.setPaymentOptionPrimary(paymentOption.payment_option_id)},removePaymentOptionPrimary:function(paymentOption){paymentApi.removePaymentOptionPrimary(paymentOption.payment_option_id)},onReceivePaymentOptions:function(paymentOptions){dispatcher.dispatch(paymentActions.types.RECEIVE_PAYMENT_OPTIONS,paymentOptions)},onRemovePaymentOption:function(paymentOptionId){dispatcher.dispatch(paymentActions.types.REMOVE_PAYMENT_OPTION,paymentOptionId)},onPrimaryPaymentOption:function(paymentOptionId){dispatcher.dispatch(paymentActions.types.PRIMARY_PAYMENT_OPTION,paymentOptionId)},setUpBraintree:function(){braintreeActions.setUpBraintree()},tearDownAndResetBraintree:function(){braintreeActions.tearDownAndResetBraintree()},hasBraintreeSetup:function(){return braintreeActions.hasBraintreeSetup()},types:{RECEIVE_PAYMENT_OPTIONS:"paymentActions.types.RECEIVE_PAYMENT_OPTIONS",REMOVE_PAYMENT_OPTION:"paymentActions.types.REMOVE_PAYMENT_OPTION",PRIMARY_PAYMENT_OPTION:"paymentActions.types.PRIMARY_PAYMENT_OPTION"}};var paymentApi=new function(){var API_PAYMENT_OPTIONS="/api/v1/payment/options/";var API_PAYMENT_OPTION_REMOVE="/api/v1/payment/options/{paymentOptionId}/";var API_PAYMENT_OPTION_PRIMARY="/api/v1/payment/options/{paymentOptionId}/primary/";return{getPaymentOptions:function(){apiService.get(API_PAYMENT_OPTIONS,{}).success(function(paymentOptions){paymentActions.onReceivePaymentOptions(paymentOptions)}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"payment_options",true)}})},savePaymentOption:function(paymentOption,success,error){if(typeof braintreeFieldInstance!=="undefined"&&braintreeFieldInstance!==null){braintreeFieldInstance.tokenize({cardholderName:paymentOption.name},function(tokenizeErr,payload){if(tokenizeErr){errors=[tokenizeErr.message];notificationService.error(errors,"payment_options_add_card",true);return}paymentOption.nonce=payload.nonce;paymentOption.deviceData=braintreeDeviceData;apiService.post(API_PAYMENT_OPTIONS,paymentOption).success(function(response){if(typeof response[0].payment_option_id!=="undefined"){notificationService.error([],"payment_options_add_card",true);notificationService.error([],"payment_options",true);paymentActions.onReceivePaymentOptions(response);paymentApi.setPaymentOptionPrimary(response[response.length-1].payment_option_id);var form=$("#add_payment_option");form.trigger("reset");paymentActions.tearDownAndResetBraintree();if(typeof success==="function"){success(response)}}else{if(typeof error==="function"){error(response)}}}).error(function(response){if(response){if(typeof response.errors!=="undefined"){var errors=[];for(var i in response.errors){errors.push(response.errors[i])}notificationService.error(errors,"payment_options_add_card",true);notificationService.error(errors,"payment_options",true)}if(typeof error==="function"){error(response)}}})})}else{apiService.post(API_PAYMENT_OPTIONS,paymentOption).success(function(response){if(typeof response.payment_option_id!=="undefined"){notificationService.error([],"payment_options_add_card",true);notificationService.error([],"payment_options",true);paymentActions.onReceivePaymentOptions([response]);paymentApi.setPaymentOptionPrimary(response.payment_option_id);if(typeof success==="function"){success(response)}}else{if(typeof error==="function"){error(response)}}}).error(function(response){if(typeof response.error!=="undefined"){if(typeof response.error.errors==="undefined"){var errors=[response.error.message]}else{var errors=[];for(var i in response.error.errors){var error=response.error.errors[i];errors.push(error)}}notificationService.error(errors,"payment_options_add_card",true);notificationService.error(errors,"payment_options",true)}if(typeof error==="function"){error(response)}})}},setPaymentOptionPrimary:function(paymentOptionId){apiService.post(API_PAYMENT_OPTION_PRIMARY,{paymentOptionId:paymentOptionId}).success(function(response){paymentActions.onPrimaryPaymentOption(paymentOptionId)}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"payment_options",true)}})},removePaymentOptionPrimary:function(paymentOptionId){apiService.delete(API_PAYMENT_OPTION_REMOVE,{paymentOptionId:paymentOptionId}).success(function(response){if(response.success){paymentActions.onRemovePaymentOption(paymentOptionId);notificationService.success(["Successfully removed payment method"],"payment_options",true)}}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"payment_options",true)}})}}};return paymentActions}]);if(typeof paymentServices==="undefined"){throw new Error("paymentServices must be included in order to use the paymentStore")}paymentServices.service("paymentStore",["dispatcher","paymentActions","localeService",function(dispatcher,paymentActions,localeService){var paymentStore=DataStore.create({dispatcherIndex:dispatcher.register(function(payload){var action=payload.action;var data=payload.data;switch(action){case paymentActions.types.RECEIVE_PAYMENT_OPTIONS:paymentStore.receivePaymentOptions(data);break;case paymentActions.types.PRIMARY_PAYMENT_OPTION:paymentStore.setPrimaryPaymentOption(data);break;case paymentActions.types.REMOVE_PAYMENT_OPTION:paymentStore.removePaymentOption(data);break}}),receivePaymentOptions:function(rawPaymentOptions){var $me=this;rawPaymentOptions.forEach(function(rawPaymentOption){$me.upsertRow("paymentOptions","payment_option_id",rawPaymentOption.payment_option_id,$me.sanitize(rawPaymentOption,paymentStore.SCHEMA.Card))});paymentStore.emit(paymentStore.events.UPDATE)},setPrimaryPaymentOption:function(paymentOptionId){var $me=this;this.getPaymentOptions().forEach(function(paymentOption){if(paymentOption.payment_option_id==paymentOptionId){paymentOption.is_primary_card=true}else{paymentOption.is_primary_card=false}$me.upsertRow("paymentOptions","payment_option_id",paymentOption.payment_option_id,paymentOption)});paymentStore.emit(paymentStore.events.UPDATE)},removePaymentOption:function(paymentOptionId){this.removeRow("paymentOptions","payment_option_id",paymentOptionId);paymentStore.emit(paymentStore.events.UPDATE)},getPaymentOptions:function(){return this.getRows("paymentOptions")},events:{UPDATE:"paymentStore.events.UPDATE",REACTIVATE:"paymentStore.events.REACTIVATE"},SCHEMA:{Card:{payment_option_id:{type:"string"},name:{label:"Name",type:"string",validation:{required:true,minLength:3,maxLength:32}},street1:{type:"string"},street2:{type:"string"},city:{type:"string"},state:{type:"string"},cctype:{type:"string"},credit_card_type_name:{type:"string"},ccnum:{label:"Credit Card Number",type:"int",validation:{required:true}},ccnumlastfour:{type:"string",maxLength:4},last_four_credit_card_number:{type:"string",maxLength:4},primary_card:{type:"bool"},date_added:{type:"date",initial:function(){return new Date}},date_removed:{type:"date"},reason_removed:{type:"string"},cvv:{label:"CVV",type:"string"},exp_month:{type:"object",schema:function(){return paymentStore.SCHEMA.ExpMonth},initial:function(){return localeService.getMonth((new Date).getMonth()+1)},validation:{required:true}},exp_year:{type:"int",initial:function(){return(new Date).getFullYear()},validation:{required:true}},credit_card_expiration:{type:"string"},country:{type:"object",schema:function(){return paymentStore.SCHEMA.Country},initial:function(){return{label:"United States",value:"US"}},validation:{required:true}},zip:{label:"Zip Code",type:"string",validation:{required:true}},is_primary_card:{type:"bool"},nonce:{type:"string"}},Country:{label:{type:"string"},value:{type:"string"}},ExpMonth:{label:{type:"string"},short:{type:"string"},id:{type:"int"}},PaymentType:{duration:{type:"int"},interval:{type:"string"},total_price:{type:"int"}}}});paymentActions.store=paymentStore;return paymentStore}]);if(typeof angular==="undefined"){throw new Error("Angular must be included in order to use the user service")}var userServices=angular.module("userServices",["utilServices"]);if(typeof userServices==="undefined"){throw new Error("userServices must be included in order to use the userStore")}userServices.service("userStore",["dispatcher","userActions","paymentStore",function(dispatcher,userActions,paymentStore){var userStore=DataStore.create({dispatcherIndex:dispatcher.register(function(payload){var data=payload.data;var action=payload.action;switch(action){case userActions.type.RECEIVE:userStore.receive(data);break}}),receive:function(rawUsers){var $me=this;rawUsers.forEach(function(rawRow){$me.upsertRow("user","user_id",rawRow.user_id,userStore.sanitize(rawRow,userStore.schema.User))});this.emit(this.events.UPDATE)},getProfile:function(){if(typeof this.rows["user"]==="undefined"||this.rows["user"].length===0){return this.sanitize({},userStore.schema.User)}var user=this.rows["user"][0];return user},events:{UPDATE:"userStore.events.UPDATE"},schema:{iOSSubscription:{id:{type:"integer"},subscription_id:{type:"int"},user_id:{type:"string"},ios_receipt_id:{type:"integer"},start_date:{type:"datetime"},end_date:{type:"datetime"},active:{type:"bool"}},LitleSubscription:{months:{type:"integer"},payment_type:{type:"object",schema:function(){return paymentStore.SCHEMA.PaymentType}},active:{type:"bool"},next_payment_date:{type:"datetime"}},SchoolLocation:{city:{type:"string"},state:{type:"string"}},User:{user_id:{type:"string",maxLength:255},username:{type:"string",maxLength:60,initial:function(){return"..."},validation:{minLength:5,maxLength:60,spaces:function(value){if(value.indexOf(" ")!==-1){return["Username cannot contain spaces"]}return true}}},display_name:{type:"string",maxLength:255,initial:function(){return""}},profile_url:{type:"string",max_length:255,initial:function(){return""}},default_avatar:{type:"string",max_length:255,initial:function(){return""}},is_moderator:{type:"bool"},can_change_name:{type:"bool"},email:{type:"string",maxLength:75,minLength:5,validation:{minLength:5,maxLength:75,email:true}},expiration_date:{type:"datetime"},last_login:{type:"datetime"},disabled_account:{type:"bool"},ios_subscription:{type:"object",schema:function(){return userStore.schema.iOSSubscription}},subscription:{type:"object",schema:function(){return userStore.schema.LitleSubscription}},premier:{type:"bool",initial:function(){return false}},is_remember_me:{type:"bool"},created_content:{type:"bool"},num_documents_uploaded:{type:"string",initial:function(){return"0"}},num_questions_asked:{type:"string",initial:function(){return"0"}},num_questions_answered:{type:"string",initial:function(){return"0"}},profile_percent_complete:{type:"int",initial:function(){return 0}},tutor_questions_remaining:{type:"string",initial:function(){return"0"}},school:{type:"string",initial:function(){return""}},school_id:{type:"int"},school_location:{type:"object",schema:function(){return userStore.schema.SchoolLocation}},student_type:{type:"string",initial:function(){return""}},full_name:{type:"string",initial:function(){return""},maxLength:60,validation:{maxLength:60}},graduation_year:{type:"string",initial:function(){return""}},graduation_month:{type:"string",initial:function(){return""}},is_paused:{type:"bool"},can_pause:{type:"bool"},last_paused_on:{type:"datetime",format:"MM-DD-YYYY"},next_pause_date:{type:"date"},fc_premier_recurring:{type:"bool",initial:function(){return false}},phone_number:{type:"phone",initial:function(){return""},validation:{phone:true}},sms_notification_enabled:{type:"bool"},is_unlock:{type:"bool"},stop_dashboard_alerts:{type:"bool"},total_download_count:{type:"string",initial:function(){return"0"}},monthly_available_downloads:{type:"string",initial:function(){return"0"}},monthly_unlocks_remaining:{type:"integer",initial:function(){return 0}},todays_download_count:{type:"string",initial:function(){return"0"}},non_marketplace_docs_approved:{type:"string",initial:function(){return"0"}},num_docs_to_retag:{type:"integer",initial:function(){return 0}},can_upgrade:{type:"bool"},days_left:{type:"int"},profile_photo:{type:"string"},profile_errors:{type:"array",initial:function(){return[]}},expert_dashboard_available:{type:"bool"},can_access_intern_email_page:{type:"bool"},resume_date:{type:"datetime"},auto_renew_date:{type:"datetime"},litle_subscription:{type:"object",schema:function(){return userStore.schema.LitleSubscription}},unlocks_remaining:{type:"int",initial:function(){return 0}},is_teacher:{type:"bool"},next_payment_date_display:{type:"string"},is_paypal_user:{type:"bool"},is_google_play_subscriber:{type:"bool"},is_ios_subscriber:{type:"bool"}}}});userActions.store=userStore;return userStore}]);userServices.service("userActions",function(dispatcher,apiService,notificationService){var userActions=new function(){return{receive:function(rows){dispatcher.dispatch(userActions.type.RECEIVE,rows)},loadMe:function(details,success,error){userApi.load();if(details){userActions.loadDetails(success,error)}},loadDetails:function(success,error){userApi.loadDetails(success,error)},saveMe:function(details,success,error,notifications){userApi.save(userActions.store.sanitize(details,userActions.store.schema.User),success,error,notifications)},pauseMe:function(months,success,error){userApi.pause(months,success,error)},resumeMe:function(success,error){userApi.resume(success,error)},changePassword:function(passwords,success,error){userApi.changePassword(passwords,success,error)},removePhoto:function(){userApi.removePhoto()},rememberMeApi:function(callback,url){userApi.rememberMeApi(callback,url)},checkLogin:function(){userApi.checkLogin()},resubscribe:function(callback,clickType){userApi.resubscribe(callback,clickType)},type:{RECEIVE:"userActions.type.RECEIVE"}}};var userApi=new function(){var API_USERS_URL="/api/v1/users/";var API_USERS_DETAILS="/api/v1/users/details/";var API_USERS_CHANGE_PASSWORD="/api/v1/users/password/";var API_USERS_REMOVE_PROFILE_PHOTO="/api/v1/users/removeProfilePhoto/";var API_USERS_PAUSE_MEMBERSHIP="/api/user.php?method=pause";var API_USERS_RESUME_MEMBERSHIP="/api/user.php?method=resume";var API_IS_REMEMBER_ME="/api/v1/users/rememberMe/";var API_USER_CHECK_LOGIN="/api/v1/users/checkLogin/";var API_USER_RESUBSCRIBE="/api/v1/users/resubscribe/";return{loadDetails:function(success,error){apiService.get(API_USERS_DETAILS,{}).success(function(response){userActions.receive([response]);if(typeof success!=="undefined"){success(response)}}).error(function(response){if(typeof error!=="undefined"){error(response)}})},load:function(){apiService.get(API_USERS_URL,{}).success(function(response){userActions.receive([response])}).error(function(){})},save:function(user,success,error,notifications){apiService.post(API_USERS_DETAILS,user).success(function(response){userActions.receive([response]);if(response.errors instanceof Array&&response.errors.length>0||typeof response.errors==="object"&&!(response.errors instanceof Array)){if(typeof notifications==="undefined"||notifications===true){if(response.errors instanceof Array){notificationService.error(response.errors,"profile_errors")}else{for(var field in response.errors){notificationService.error([response.errors[field]],"profile_errors")}}}typeof error!=="undefined"?error(response):null}else{if(typeof notifications==="undefined"||notifications===true){notificationService.success(["Successfully saved profile"],"profile_errors",true);notificationService.error([],"profile_errors",true)}typeof success!=="undefined"?success(response):null}}).error(function(response){typeof error!=="undefined"?error(response):null;if(response.error&&response.error.message==="Access Denied"){document.location="/login/"}if(response.error&&response.error.message&&response.error.message.relogin===true){document.location="/relogin.php"}})},pause:function(months,success,error){apiService.post(API_USERS_PAUSE_MEMBERSHIP,{pause_duration:months}).success(function(response){if(typeof response.message!=="undefined"){notificationService.success([response.message],"general",null,success)}userActions.loadDetails()}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"general",null,error)}})},resume:function(success,error){apiService.post(API_USERS_RESUME_MEMBERSHIP,{}).success(function(response){if(typeof response.message!=="undefined"){notificationService.success([response.message],"general")}userActions.loadDetails()}).error(function(response){if(typeof response.error!=="undefined"){notificationService.error([response.error.message],"general")}})},resubscribe:function(callback,clickType){apiService.post(API_USER_RESUBSCRIBE,{}).success(function(response){callback(response,clickType)}).error(function(response){callback(response,clickType)})},changePassword:function(passwords,success,error){apiService.post(API_USERS_CHANGE_PASSWORD,passwords).success(function(response){if(response.error&&response.error.trim()!==""){notificationService.error([response.error.trim()],"profile_password_errors");typeof error!=="undefined"?error(response):null}else{notificationService.success(["Successfully changed password"],"profile_password_errors");typeof success!=="undefined"?success(response):null}}).error(function(response){if(response.error&&response.error.trim()!==""){notificationService.error([response.error.trim()],"profile_password_errors");typeof error!=="undefined"?error(response):null}})},removePhoto:function(){apiService.delete(API_USERS_REMOVE_PROFILE_PHOTO,{}).success(function(response){userActions.receive([response])})},rememberMeApi:function(callback,url){url=typeof url==="undefined"?"/home/#/settings":url;apiService.post(API_IS_REMEMBER_ME,{redirect:url}).success(function(response){if(typeof callback!="undefined"){callback()}}).error(function(){document.location="/relogin.php"})},lastChecked:null,checkLogin:function(){var minuteAgo=moment().subtract(1,"minutes");if(this.lastChecked!==null&&this.lastChecked.isAfter(minuteAgo)){return}this.lastChecked=moment();apiService.get(API_USER_CHECK_LOGIN).success(function(response){if(!response.success){document.location="/login/?_force=1"}}).error(function(response){document.location="/login/?_force=1"})}}};return userActions});!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e,n){e.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n){function t(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}},function(e,n,t){"use strict";t.r(n);var o=t(0),i=t.n(o),a=t(1),r=t.n(a),s=new(function(){function e(){i()(this,e)}return r()(e,[{key:"init",value:function(){if(void 0===e)var e=window.jQuery;this.onDashboardTabUpdate=this.onDashboardTabUpdate.bind(this),this.onLibraryTabUpdate=this.onLibraryTabUpdate.bind(this),e(window).on("DashboardTabStore.events.UPDATE",this.onDashboardTabUpdate),e(window).on("Dashboard.events.libraryFolder",this.onLibraryTabUpdate)}},{key:"onDashboardTabUpdate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(void 0===t)var t=window.jQuery;n&&n.data&&n.data.activeTab?(this.clearActive(),t("#ch-ucm-"+n.data.activeTab.mainTab).addClass("isActive")):this.onNewDashboardTab(e,n)}},{key:"onLibraryTabUpdate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.clearActive(),$("#ch-ucm-library-"+n.folder).addClass("isCourseActive")}},{key:"onNewDashboardTab",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n&&n.data.tabs){var t=n.data.tabs,o=t.filter(function(e){return e.isSub&&0===e.id.indexOf("library-")&&"library-add-course"!==e.id}).sort(function(e,n){return e.sort>n.sort});$(".ch_course_label").remove();var i=$("#ch-ucm-library"),a=$("#ch_library_toggle").hasClass("collapsed")?"none":"list-item",r=o.map(function(e){return $('<li class="ch_course_label" id="ch-ucm-'+e.id+'" style="display: '+a+';"><a href="/home/#'+e.href+'" rel="" title="'+e.label+'">'+e.label+"</a></li>")});i.after(r)}}},{key:"clearActive",value:function(){$("#ch_offCanvas_nav li.isCourseActive").removeClass("isCourseActive"),$("#ch_offCanvas_nav li.isActive").removeClass("isActive")}}]),e}()),l=function(){function e(){i()(this,e)}return r()(e,[{key:"toggleCourses",value:function(){try{if(!window.localStorage)return}catch(e){return}window.localStorage.getItem(e.HIDE_LIBRARY_NAV_PREF)&&"0"!==window.localStorage.getItem(e.HIDE_LIBRARY_NAV_PREF)?window.localStorage.setItem(e.HIDE_LIBRARY_NAV_PREF,"0"):window.localStorage.setItem(e.HIDE_LIBRARY_NAV_PREF,"1"),this.setupLibraryNavState()}},{key:"setupLibraryNavState",value:function(){try{if(!window.localStorage)return}catch(e){return}"1"===window.localStorage.getItem(e.HIDE_LIBRARY_NAV_PREF)?this.hideCourses():this.showCourses()}},{key:"showCourses",value:function(){if(void 0===e)var e=window.jQuery;e("li.ch_course_label").css("display","list-item"),e("#ch_library_toggle").removeClass("collapsed")}},{key:"hideCourses",value:function(){if(void 0===e)var e=window.jQuery;e("li.ch_course_label").css("display","none"),e("#ch_library_toggle").addClass("collapsed")}}]),e}();l.HIDE_LIBRARY_NAV_PREF="CH_HIDE_LIBRARY_NAV_PREF";var c=new l,u=function e(){i()(this,e)};u.scrollToTop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;$&&$.fn.animate?$("html, body").animate({scrollTop:0},e):document.body.scrollTop=0};var d,v=u,f=function(){function e(){i()(this,e)}return r()(e,null,[{key:"setupUserContentMenu",value:function(){if(void 0===e)var e=window.jQuery;var n=function(){e("#ch_notifications_action > a").removeClass("isActive"),e("#ch_notifications_panel").removeClass("isEnabled")};e(".ch_hamburger_icon").on("click",function(t){e(t.target).is(".courseListToggle")||(v.scrollToTop(),e("#ch_offCanvas_nav").toggleClass("isOnCanvas"),e(this).toggleClass("isOnCanvas"),e("body").toggleClass("isOverflowHidden"),e("#ch-social-share_container").toggleClass("isHidden"),n())}),e(".ch-external-link").on("click",function(e){e.stopPropagation()}),e(document).on("click",function(t){e(t.target).is("#ch_offCanvas_nav, #ch_offCanvas_nav *, .ch_hamburger_icon, .ch_hamburger_icon *")||(e("#ch_offCanvas_nav, .ch_hamburger_icon").removeClass("isOnCanvas"),e("body").removeClass("isOverflowHidden"),n())})}},{key:"setupMobileUserContentMenu",value:function(){if(void 0===e)var e=window.jQuery;var n=e(".ch_subNav_panel"),t=function(){e(".ch_nav_action.isHamburgerMenu").removeClass("dropdownIsActive"),n.removeClass("dropdownIsActive"),e("html").css("overflow",""),e("body").css({position:"",width:""})};e(".ch_nav_action.isHamburgerMenu").on("click",function(t){e("html").css("overflow","hidden"),e("body").css("position","fixed"),e("body").css("width","100%");var o=!n.hasClass("dropdownIsActive");n.toggleClass("dropdownIsActive",o),e(this).toggleClass("dropdownIsActive",o),e("#ch_askQuestionTray_wrapper").toggleClass("isHidden"),o||n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e("html").removeAttr("style"),e(".hasChildren > ul").addClass("isHidden"),e(".willMoveOut").removeClass("willMoveOut"),e(".isActive").removeClass("isActive"),e("body").removeAttr("style")});var i=e("#ch_mobile-app-banner_container"),a=i.length>0&&"none"!==i.css("display")?i.outerHeight():0;n.css("marginTop","".concat(a,"px")),t.preventDefault()}),e(".hasChildren").children("a").on("click",function(n){if(!n.currentTarget.classList.contains("ch_mobile_tutoring_link")){n.preventDefault();var t=e(this);t.next("ul").removeClass("isHidden"),t.parent(".hasChildren").parent("ul").addClass("willMoveOut")}}),e(document).on("click",function(n){e(n.target).is(".ch_nav_group.isBrowseMenu, .ch_nav_group.isBrowseMenu *")&&!e(n.target).is("ul.ch_nav_group.isBrowseMenu ul.ndbNavigationMobile li.clickable")||t()}),e(".ch_nav_group.isBrowseMenu li:not(.hasChildren):not(.oneLevelUpAction) > a:not(.isHamburgerMenu):not(.courseListToggle)").on("click",function(e){t()})}},{key:"setupMobileBrowseMenu",value:function(){if(void 0===e)var e=window.jQuery;e(".oneLevelUpAction").on("click",function(n){var t=e(this);t.parent("ul").parent(".hasChildren").parent("ul");t.parent("ul").addClass("isHidden").parent(".hasChildren").parent("ul").removeClass("willMoveOut")})}},{key:"setupLibraryMenu",value:function(){if(void 0===e)var e=window.jQuery;e("#ch_library_toggle").on("click",function(e){e.preventDefault(),e.stopPropagation(),c.toggleCourses()}),c.setupLibraryNavState()}},{key:"setupAccountMenu",value:function(){if(void 0===e)var e=window.jQuery}}]),e}();d=function(){!function(){if(void 0===e)var e=window.jQuery;e("document").ready(function(){f.setupUserContentMenu(),f.setupMobileUserContentMenu(),f.setupMobileBrowseMenu(),f.setupLibraryMenu(),s.init()})}()},"complete"===document.readyState?d():window.addEventListener("load",d)}]);var _deps=["utilServices"];var courseHeroMQServices=angular.module("courseHeroMQServices",_deps);courseHeroMQServices.service("courseHeroMQ",function($rootScope,$q,apiService){var API_GET_TOKEN_URL="/api/v1/users/me/messagingToken/";var started=false;function onMessage(e,payload){var messageType=payload.messageType;if(messageType==="error"){console.warn(payload.data.text);return}$rootScope.$emit(messageType,payload.data);$rootScope.$apply()}if(typeof $==="undefined"){var $=jQuery}$(window).on("courseHeroMQ.message.receive",onMessage);return{subscribe:function(topic){var deferred=$q.defer();if(connectionHandler.subscriptions.indexOf(topic)>=0){deferred.resolve();return deferred.promise}connectionHandler.subscriptions.push(topic);if(!connectionHandler.connected){connectionHandler.deferrers[topic]=deferred;return deferred.promise}var realTopic=topic.replace("{me}",connectionHandler.token.user_id);connectionHandler.session.subscribe(realTopic,connectionHandler.onMessage.bind(null,realTopic)).then(deferred.resolve,deferred.reject);return deferred.promise},start:function(websocketUrl){if(!started){apiService.get(API_GET_TOKEN_URL).success(function(response){connectionHandler.token=response;if(connectionHandler.token&&connectionHandler.token.messaging_token){connectionHandler.connect(websocketUrl)}});started=true}},listen:function(event,callback){$(window).on(event,callback)},ignore:function(event,callback){$(window).off(event,callback)}}});var connectionHandler=new function(){var RETRY_TIMEOUT=2e3;var retryTimeout=null;var closeHandler=function(reason,error){};var emit=function(event,data){$(window).trigger(event,[data])};var websocketConnection=null;return{connected:false,session:null,token:null,subscriptions:[],deferrers:{},subscribers:{},subscribe:function(topic,callback){if(connectionHandler.subscriptions.indexOf(topic)>=0){return connectionHandler.addSubscriber(topic,callback)}connectionHandler.subscriptions.push(topic);if(!connectionHandler.connected){return connectionHandler.addSubscriber(topic,callback)}var realTopic=connectionHandler.getRealTopic(topic);connectionHandler.session.subscribe(realTopic,connectionHandler.onMessage.bind(null,realTopic));return connectionHandler.addSubscriber(topic,callback)},getRealTopic:function(topic){return topic.replace("{me}",connectionHandler.token.user_id)},addSubscriber:function(topic,callback){if(typeof connectionHandler.subscribers[topic]==="undefined"){connectionHandler.subscribers[topic]=[]}connectionHandler.subscribers[topic].push(callback);return function(){connectionHandler.subscribers[topic].splice(connectionHandler.subscribers[topic].indexOf(callback),1)}},onConnect:function(session){if(retryTimeout){clearInterval(retryTimeout)}connectionHandler.session=session;connectionHandler.connected=true;connectionHandler.subscriptions.forEach(function(topic){var realTopic=topic.replace("{me}",connectionHandler.token.user_id);var deferred=connectionHandler.deferrers[topic]?connectionHandler.deferrers[topic]:{resolve:null,reject:null};session.subscribe(realTopic,connectionHandler.onMessage.bind(null,topic)).then(deferred.resolve,deferred.reject)})},onMessage:function(topic,messages){var message=messages[0];var messageType=message.type;if(messageType==="error"){connectionHandler.subscriptions.splice(connectionHandler.subscriptions.indexOf(topic),1);console.warn(message.data.text);return}var messageData={messageType:messageType,data:message.data};emit("courseHeroMQ.message.receive",messageData);if(typeof connectionHandler.subscribers[topic]!=="undefined"){connectionHandler.subscribers[topic].forEach(function(cb){cb(messageData)})}},setupWebsocket:function(websocketUrl,token){websocketConnection=new autobahn.Connection({url:websocketUrl,realm:"realm1",onchallenge:connectionHandler.issueToken.bind(null,token),authmethods:["ticket"]});websocketConnection.onopen=connectionHandler.onConnect;websocketConnection.onclose=closeHandler;websocketConnection.open()},issueToken:function(token,session,method,extra){return token},connect:function(websocketUrl){connectionHandler.setupWebsocket(websocketUrl,connectionHandler.token.messaging_token)}}};window.connectionHandler=connectionHandler;var CourseHeroMQTransportController=function($scope,courseHeroMQ){$scope.init=function(websocketUrl){courseHeroMQ.start(websocketUrl)}};courseHeroMQServices.controller("CourseHeroMQTransportController",CourseHeroMQTransportController);(function(){var primaryTextStyle="color:#001a96; font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-weight: 400; font-style: normal; font-size: 60px;";var secondaryTextStyle="color: #e00099;font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size: 36px;";var tertiaryTextStyle="color: #3d3d3d;font-family: 'Haas Grot Text Web', 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size: 24px;";console.group("Work with us!");console.log("%cCourse Hero%c is hiring.",primaryTextStyle,tertiaryTextStyle);console.log("%c Go to%c https://grnh.se/73cfdb9b1 %cto apply!",tertiaryTextStyle,secondaryTextStyle,tertiaryTextStyle);console.groupEnd()})();!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=24)}([function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=window.React},function(e,t){e.exports=function(e,t,r,n,i){var a={};return Object.keys(n).forEach(function(e){a[e]=n[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}},function(e,t){e.exports=function(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}},function(e,t){e.exports=window.BeefFlux},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){var n=r(19);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},function(e,t,r){var n=r(15),i=r(0);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t){e.exports=window.moment},function(e,t,r){var n=r(20),i=r(21),a=r(22),o=r(23);e.exports=function(e){return n(e)||i(e)||a(e)||o()}},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t){e.exports=window.ReactDOM},function(e,t,r){e.exports={"new-marker":"new-marker",newMarker:"new-marker"}},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},function(e,t,r){var n=r(16);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,r){var n=r(16);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(17),a=r(6),o=r.n(a),s=r(9),l=r.n(s),c=r(0),u=r.n(c),h=r(7),p=r.n(h),d=r(8),f=r.n(d),m=r(5),g=r.n(m);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var v,y=function(e){p()(r,e);var t=b(r);function r(){return o()(this,r),t.apply(this,arguments)}return l()(r,[{key:"getClassName",value:function(e){var t="";for(var r in e)t+=e[r]?" "+r:"";return t}}]),r}(n.Component);!function(e){e[e.PHONE_MAX=767]="PHONE_MAX",e[e.PHONE_MIN=320]="PHONE_MIN",e[e.TABLET_MAX=1199]="TABLET_MAX"}(v||(v={}));var S=v,E=r(14),_=r.n(E),w=r(11),R=r.n(w);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){R()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var D,k,A,O=window.dataLayer,N=window.tracker;!function(e){e.PRIMARY="Primary",e.SECONDARY="Secondary",e.INTERSTITIAL="Interstitial",e.BANNER="Banner",e.LINK="Link"}(D||(D={})),function(e){e.TAB="Tab",e.POPUP="Pop-up",e.VIDEO="Video",e.MODAL="modal",e.RADIO_BUTTON="radio button",e.RADIO_SELECTION="Radio Selection",e.SECURE_PAYMENT_FORM="Secure Payment Form",e.CALL_TO_ACTION="Call to Action"}(k||(k={})),function(e){e.LOGGED_OUT="logged out",e.BASIC="basic",e.PREMIER="premier"}(A||(A={}));var x,U,I,P,F,z,L,M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.setPageType,i=r.timestamp;void 0!==O&&(void 0!==N&&N.super_properties instanceof Object&&(t=C(C({},N.super_properties),t)),n&&(t.page_type=N.get_page_type()),O.push({event:"User Tracking Event",user_tracking_properties:{eventName:e,properties:t},_clear:!0}));var a,o,s,l,c,u,h,p,d=window.amplitude;d?((null===(a=window)||void 0===a?void 0:null===(o=a.__CH_PERSON)||void 0===o?void 0:o.id)&&d.getInstance().setUserId(window.__CH_PERSON.id),(null===(s=window)||void 0===s?void 0:null===(l=s.__CH_TRACKER)||void 0===l?void 0:l.DEVICE_ID)&&d.getInstance().setDeviceId(window.__CH_TRACKER.DEVICE_ID),(null===(c=window)||void 0===c?void 0:null===(u=c.__CH_TRACKER)||void 0===u?void 0:u.SESSION)&&d.getInstance().setSessionId(window.__CH_TRACKER.SESSION),i?d.getInstance().logEventWithTimestamp(e,t,i):d.getInstance().logEvent(e,t)):null===(h=window.__CH_TRACKER)||void 0===h||null===(p=h.BUFFER)||void 0===p||p.push({eventName:e,properties:t})},B=function(){return{path:location.pathname,referrer:window.__CH_ReactRouter_referrer||document.referrer,search:location.search,title:document.title,pageUrl:location.href}},j=function(e){M("CTA Clicked",q(e))},H=function(e,t){M(e,q(t))},q=function(e){return C(C({},B()),e)},G=function(){return window.__CURRENT_USER__?window.isPremierUser?A.PREMIER:A.BASIC:A.LOGGED_OUT},W="search_widget:search_submitted",Q=r(4),V=Q.Actions.define("SET_DEFAULT_SUGGESTIONS",function(e){return e}),K=Q.Actions.define("RECEIVE_SEARCH_RESPONSE",function(e){return e}),X=r(3),Y=r.n(X),J=r(2),Z=r.n(J),ee=(r(10),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),Object.assign(this,t)});function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var re,ne,ie,ae,oe,se,le,ce,ue,he,pe,de,fe,me,ge,be,ve,ye=(x=Q.Schema.int(),U=Q.Schema.string(),L=z=function(e){p()(r,e);var t=te(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"code",P,u()(e)),Y()(e,"message",F,u()(e)),Object.assign(u()(e),n),e}return r}(ee),z.schema={},I=L,P=Z()(I.prototype,"code",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=Z()(I.prototype,"message",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Ee,_e,we,Re,Te,Ce,De,ke=(re=Q.Schema.int(),ne=Q.Schema.string(),ie=Q.Schema.int(),ae=Q.Schema.string(),oe=Q.Schema.string(),se=Q.Schema.int(),le=Q.Schema.string(),ve=be=function(e){p()(r,e);var t=Se(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"school_id",ue,u()(e)),Y()(e,"school_name",he,u()(e)),Y()(e,"course_id",pe,u()(e)),Y()(e,"course_num",de,u()(e)),Y()(e,"course_name",fe,u()(e)),Y()(e,"dept_id",me,u()(e)),Y()(e,"dept_acro",ge,u()(e)),Object.assign(u()(e),n),e}return r}(ee),be.schema={},ce=ve,ue=Z()(ce.prototype,"school_id",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=Z()(ce.prototype,"school_name",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=Z()(ce.prototype,"course_id",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=Z()(ce.prototype,"course_num",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=Z()(ce.prototype,"course_name",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Z()(ce.prototype,"dept_id",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Z()(ce.prototype,"dept_acro",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce);function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Oe,Ne,xe,Ue,Ie,Pe,Fe,ze,Le,Me,Be,je=(Ee=Q.Schema.int(),_e=Q.Schema.string(),De=Ce=function(e){p()(r,e);var t=Ae(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"subject_id",Re,u()(e)),Y()(e,"subject_name",Te,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Ce.schema={},we=De,Re=Z()(we.prototype,"subject_id",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=Z()(we.prototype,"subject_name",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we);function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var qe,Ge,We,Qe,Ve,Ke,Xe,$e,Ye,Je,Ze,et,tt,rt,nt,it=(Oe=Q.Schema.array({initial:function(){return[]},schema:null}),Ne=Q.Schema.array({initial:function(){return[]},schema:null}),xe=Q.Schema.object({schema:function(){return ke.schema},constructor:ke}),Ue=Q.Schema.object({schema:function(){return je.schema},constructor:je}),Be=Me=function(e){p()(r,e);var t=He(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"type",Pe,u()(e)),Y()(e,"doc_type",Fe,u()(e)),Y()(e,"course",ze,u()(e)),Y()(e,"subject",Le,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Me.schema={},Ie=Be,Pe=Z()(Ie.prototype,"type",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=Z()(Ie.prototype,"doc_type",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Z()(Ie.prototype,"course",[xe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=Z()(Ie.prototype,"subject",[Ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie);function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var ot,st,lt,ct,ut,ht,pt,dt,ft,mt,gt,bt,vt,yt,St,Et,_t,wt,Rt,Tt,Ct,Dt,kt,At,Ot,Nt=(qe=Q.Schema.string(),Ge=Q.Schema.string(),We=Q.Schema.string(),Qe=Q.Schema.string(),Ve=Q.Schema.string(),Ke=Q.Schema.bool(),nt=rt=function(e){p()(r,e);var t=at(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"lat",$e,u()(e)),Y()(e,"long",Ye,u()(e)),Y()(e,"city",Je,u()(e)),Y()(e,"state",Ze,u()(e)),Y()(e,"zip",et,u()(e)),Y()(e,"auto",tt,u()(e)),Object.assign(u()(e),n),e}return r}(ee),rt.schema={},Xe=nt,$e=Z()(Xe.prototype,"lat",[qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=Z()(Xe.prototype,"long",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=Z()(Xe.prototype,"city",[We],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=Z()(Xe.prototype,"state",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=Z()(Xe.prototype,"zip",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=Z()(Xe.prototype,"auto",[Ke],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe);function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Ut,It,Pt,Ft,zt,Lt,Mt,Bt,jt,Ht,qt,Gt,Wt,Qt=(ot=Q.Schema.int(),st=Q.Schema.string(),lt=Q.Schema.int(),ct=Q.Schema.string(),ut=Q.Schema.string(),ht=Q.Schema.object({schema:function(){return Nt.schema},constructor:Nt}),pt=Q.Schema.object({schema:function(){return it.schema},constructor:it}),dt=Q.Schema.string(),ft=Q.Schema.int({initial:function(){return 25}}),mt=Q.Schema.int({initial:function(){return 0}}),gt=Q.Schema.int({initial:function(){return 0}}),Ot=At=function(e){p()(r,e);var t=xt(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"search_id",vt,u()(e)),Y()(e,"search_key",yt,u()(e)),Y()(e,"parent_search_id",St,u()(e)),Y()(e,"user_query",Et,u()(e)),Y()(e,"final_query",_t,u()(e)),Y()(e,"location",wt,u()(e)),Y()(e,"filters",Rt,u()(e)),Y()(e,"sort",Tt,u()(e)),Y()(e,"limit",Ct,u()(e)),Y()(e,"offset",Dt,u()(e)),Y()(e,"total_results",kt,u()(e)),Object.assign(u()(e),n),e}return r}(ee),At.schema={},bt=Ot,vt=Z()(bt.prototype,"search_id",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=Z()(bt.prototype,"search_key",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=Z()(bt.prototype,"parent_search_id",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=Z()(bt.prototype,"user_query",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=Z()(bt.prototype,"final_query",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=Z()(bt.prototype,"location",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=Z()(bt.prototype,"filters",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=Z()(bt.prototype,"sort",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ct=Z()(bt.prototype,"limit",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=Z()(bt.prototype,"offset",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=Z()(bt.prototype,"total_results",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt);function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Kt,Xt,$t,Yt,Jt,Zt,er,tr,rr,nr,ir,ar=(Ut=Q.Schema.string(),It=Q.Schema.string(),Pt=Q.Schema.string(),Ft=Q.Schema.int(),zt=Q.Schema.array({initial:function(){return[]},schema:function(){return ar.schema}}),Wt=Gt=function(e){p()(r,e);var t=Vt(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"display",Mt,u()(e)),Y()(e,"description",Bt,u()(e)),Y()(e,"value",jt,u()(e)),Y()(e,"count",Ht,u()(e)),Y()(e,"children",qt,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Gt.schema={},Lt=Wt,Mt=Z()(Lt.prototype,"display",[Ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt=Z()(Lt.prototype,"description",[It],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=Z()(Lt.prototype,"value",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=Z()(Lt.prototype,"count",[Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=Z()(Lt.prototype,"children",[zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt),or=ar;function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var lr,cr,ur,hr,pr,dr,fr,mr=(Kt=Q.Schema.string(),Xt=Q.Schema.string(),$t=Q.Schema.string(),Yt=Q.Schema.array({schema:function(){return or.schema},constructor:or}),ir=nr=function(e){p()(r,e);var t=sr(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"display",Zt,u()(e)),Y()(e,"type",er,u()(e)),Y()(e,"field",tr,u()(e)),Y()(e,"options",rr,u()(e)),Object.assign(u()(e),n),e}return r}(ee),nr.schema={},Jt=ir,Zt=Z()(Jt.prototype,"display",[Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er=Z()(Jt.prototype,"type",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr=Z()(Jt.prototype,"field",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rr=Z()(Jt.prototype,"options",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jt);function gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var br,vr,yr,Sr,Er,_r,wr,Rr,Tr,Cr,Dr,kr,Ar,Or,Nr,xr=(lr=Q.Schema.array({schema:function(){return mr.schema},constructor:mr}),cr=Q.Schema.array({schema:function(){return or.schema},constructor:or}),fr=dr=function(e){p()(r,e);var t=gr(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"filters",hr,u()(e)),Y()(e,"sort",pr,u()(e)),Object.assign(u()(e),n),e}return r}(ee),dr.schema={},ur=fr,hr=Z()(ur.prototype,"filters",[lr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pr=Z()(ur.prototype,"sort",[cr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ur);function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Ir,Pr,Fr,zr,Lr,Mr,Br,jr=(br=Q.Schema.string(),vr=Q.Schema.string(),yr=Q.Schema.string(),Sr=Q.Schema.string(),Er=Q.Schema.string(),_r=Q.Schema.int(),Nr=Or=function(e){p()(r,e);var t=Ur(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"title",Rr,u()(e)),Y()(e,"url",Tr,u()(e)),Y()(e,"type",Cr,u()(e)),Y()(e,"date",Dr,u()(e)),Y()(e,"text",kr,u()(e)),Y()(e,"views",Ar,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Or.schema={},wr=Nr,Rr=Z()(wr.prototype,"title",[br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tr=Z()(wr.prototype,"url",[vr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cr=Z()(wr.prototype,"type",[yr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dr=Z()(wr.prototype,"date",[Sr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kr=Z()(wr.prototype,"text",[Er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ar=Z()(wr.prototype,"views",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wr);function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var qr,Gr,Wr,Qr,Vr,Kr,Xr,$r=(Ir=Q.Schema.int(),Pr=Q.Schema.string(),Br=Mr=function(e){p()(r,e);var t=Hr(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"db_filename",zr,u()(e)),Y()(e,"type",Lr,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Mr.schema={},Fr=Br,zr=Z()(Fr.prototype,"db_filename",[Ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr=Z()(Fr.prototype,"type",[Pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr);function Yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Jr,Zr,en,tn,rn,nn,an,on=(qr=Q.Schema.int(),Gr=Q.Schema.bool(),Xr=Kr=function(e){p()(r,e);var t=Yr(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"question_id",Qr,u()(e)),Y()(e,"answered",Vr,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Kr.schema={},Wr=Xr,Qr=Z()(Wr.prototype,"question_id",[qr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vr=Z()(Wr.prototype,"answered",[Gr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wr);function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var ln,cn,un,hn,pn,dn=(Jr=Q.Schema.int(),Zr=Q.Schema.string(),an=nn=function(e){p()(r,e);var t=sn(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"cms_item_id",tn,u()(e)),Y()(e,"route",rn,u()(e)),Object.assign(u()(e),n),e}return r}(ee),nn.schema={},en=an,tn=Z()(en.prototype,"cms_item_id",[Jr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=Z()(en.prototype,"route",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en);function fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var mn,gn,bn,vn,yn,Sn,En,_n,wn,Rn=(ln=Q.Schema.int(),pn=hn=function(e){p()(r,e);var t=fn(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"book_section_id",un,u()(e)),Object.assign(u()(e),n),e}return r}(ee),hn.schema={},cn=pn,un=Z()(cn.prototype,"book_section_id",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn);function Tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Cn,Dn,kn,An,On,Nn,xn,Un,In,Pn,Fn,zn=(mn=Q.Schema.string(),gn=Q.Schema.string(),bn=Q.Schema.int(),wn=_n=function(e){p()(r,e);var t=Tn(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"title",yn,u()(e)),Y()(e,"url",Sn,u()(e)),Y()(e,"count",En,u()(e)),Object.assign(u()(e),n),e}return r}(ee),_n.schema={},vn=wn,yn=Z()(vn.prototype,"title",[mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sn=Z()(vn.prototype,"url",[gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),En=Z()(vn.prototype,"count",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn);function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Mn,Bn,jn,Hn,qn,Gn,Wn,Qn,Vn,Kn=(Cn=Q.Schema.int(),Dn=Q.Schema.string(),kn=Q.Schema.string(),An=Q.Schema.string(),Fn=Pn=function(e){p()(r,e);var t=Ln(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"course_id",Nn,u()(e)),Y()(e,"course_num",xn,u()(e)),Y()(e,"course_url",Un,u()(e)),Y()(e,"course_name",In,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Pn.schema={},On=Fn,Nn=Z()(On.prototype,"course_id",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xn=Z()(On.prototype,"course_num",[Dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Un=Z()(On.prototype,"course_url",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),In=Z()(On.prototype,"course_name",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),On);function Xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var $n,Yn,Jn,Zn,ei,ti,ri,ni,ii,ai=(Mn=Q.Schema.int(),Bn=Q.Schema.string(),jn=Q.Schema.string(),Vn=Qn=function(e){p()(r,e);var t=Xn(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"dept_id",qn,u()(e)),Y()(e,"dept_acro",Gn,u()(e)),Y()(e,"dept_url",Wn,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Qn.schema={},Hn=Vn,qn=Z()(Hn.prototype,"dept_id",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gn=Z()(Hn.prototype,"dept_acro",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wn=Z()(Hn.prototype,"dept_url",[jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hn);function oi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var si,li,ci,ui,hi,pi,di,fi,mi,gi,bi,vi=($n=Q.Schema.int(),Yn=Q.Schema.string(),Jn=Q.Schema.string(),ii=ni=function(e){p()(r,e);var t=oi(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"school_id",ei,u()(e)),Y()(e,"school_name",ti,u()(e)),Y()(e,"school_url",ri,u()(e)),Object.assign(u()(e),n),e}return r}(ee),ni.schema={},Zn=ii,ei=Z()(Zn.prototype,"school_id",[$n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=Z()(Zn.prototype,"school_name",[Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ri=Z()(Zn.prototype,"school_url",[Jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn);function yi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Si,Ei,_i,wi,Ri,Ti,Ci,Di=(si=Q.Schema.object({schema:function(){return Kn.schema},constructor:Kn}),li=Q.Schema.object({schema:function(){return ai.schema},constructor:ai}),ci=Q.Schema.object({schema:function(){return vi.schema},constructor:vi}),ui=Q.Schema.object({schema:function(){return je.schema},constructor:je}),bi=gi=function(e){p()(r,e);var t=yi(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"course",pi,u()(e)),Y()(e,"department",di,u()(e)),Y()(e,"school",fi,u()(e)),Y()(e,"subject",mi,u()(e)),Object.assign(u()(e),n),e}return r}(ee),gi.schema={},hi=bi,pi=Z()(hi.prototype,"course",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=Z()(hi.prototype,"department",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=Z()(hi.prototype,"school",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mi=Z()(hi.prototype,"subject",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi);function ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Ai,Oi,Ni,xi,Ui,Ii=(Si=Q.Schema.string(),Ei=Q.Schema.string(),Ci=Ti=function(e){p()(r,e);var t=ki(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"url",wi,u()(e)),Y()(e,"overlay_text",Ri,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Ti.schema={},_i=Ci,wi=Z()(_i.prototype,"url",[Si],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri=Z()(_i.prototype,"overlay_text",[Ei],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_i);function Pi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Fi,zi,Li,Mi,Bi,ji,Hi,qi,Gi,Wi,Qi,Vi,Ki,Xi,$i,Yi,Ji,Zi,ea,ta=(Ai=Q.Schema.int(),Ui=xi=function(e){p()(r,e);var t=Pi(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"video_id",Ni,u()(e)),Object.assign(u()(e),n),e}return r}(ee),xi.schema={},Oi=Ui,Ni=Z()(Oi.prototype,"video_id",[Ai],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oi);function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var na,ia,aa,oa,sa,la=(Fi=Q.Schema.int(),zi=Q.Schema.string(),Li=Q.Schema.string(),Mi=Q.Schema.string(),Bi=Q.Schema.string(),ji=Q.Schema.string(),Hi=Q.Schema.string(),qi=Q.Schema.int(),ea=Zi=function(e){p()(r,e);var t=ra(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"textbook_id",Wi,u()(e)),Y()(e,"title",Qi,u()(e)),Y()(e,"author",Vi,u()(e)),Y()(e,"cover_url",Ki,u()(e)),Y()(e,"edition_name",Xi,u()(e)),Y()(e,"isbn",$i,u()(e)),Y()(e,"publisher",Yi,u()(e)),Y()(e,"num_solutions",Ji,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Zi.schema={},Gi=ea,Wi=Z()(Gi.prototype,"textbook_id",[Fi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qi=Z()(Gi.prototype,"title",[zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vi=Z()(Gi.prototype,"author",[Li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ki=Z()(Gi.prototype,"cover_url",[Mi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xi=Z()(Gi.prototype,"edition_name",[Bi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$i=Z()(Gi.prototype,"isbn",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yi=Z()(Gi.prototype,"publisher",[Hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ji=Z()(Gi.prototype,"num_solutions",[qi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gi);function ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var ua,ha,pa,da,fa,ma,ga,ba=(na=Q.Schema.string(),sa=oa=function(e){p()(r,e);var t=ca(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"num",aa,u()(e)),Object.assign(u()(e),n),e}return r}(ee),oa.schema={},ia=sa,aa=Z()(ia.prototype,"num",[na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ia);function va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var ya,Sa,Ea,_a,wa,Ra=(ua=Q.Schema.string(),ha=Q.Schema.string(),ga=ma=function(e){p()(r,e);var t=va(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"title",da,u()(e)),Y()(e,"num",fa,u()(e)),Object.assign(u()(e),n),e}return r}(ee),ma.schema={},pa=ga,da=Z()(pa.prototype,"title",[ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fa=Z()(pa.prototype,"num",[ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pa);function Ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Ca,Da,ka,Aa,Oa,Na,xa,Ua,Ia,Pa,Fa,za,La,Ma,Ba,ja,Ha,qa,Ga,Wa,Qa,Va=(ya=Q.Schema.string(),wa=_a=function(e){p()(r,e);var t=Ta(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"title",Ea,u()(e)),Object.assign(u()(e),n),e}return r}(ee),_a.schema={},Sa=wa,Ea=Z()(Sa.prototype,"title",[ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sa);function Ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Xa,$a,Ya,Ja,Za,eo,to,ro,no,io,ao,oo,so,lo,co,uo,ho,po,fo,mo,go,bo,vo,yo,So,Eo=(Ca=Q.Schema.object({initial:function(){return{}},schema:function(){return la.schema},constructor:la}),Da=Q.Schema.int(),ka=Q.Schema.string(),Aa=Q.Schema.object({initial:function(){return{}},schema:function(){return ba.schema},constructor:ba}),Oa=Q.Schema.object({initial:function(){return{}},schema:function(){return Ra.schema},constructor:Ra}),Na=Q.Schema.object({initial:function(){return{}},schema:function(){return Va.schema},constructor:Va}),xa=Q.Schema.string(),Ua=Q.Schema.string(),Ia=Q.Schema.bool(),Qa=Wa=function(e){p()(r,e);var t=Ka(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"textbook",Fa,u()(e)),Y()(e,"exercise_id",za,u()(e)),Y()(e,"url",La,u()(e)),Y()(e,"chapter",Ma,u()(e)),Y()(e,"section",Ba,u()(e)),Y()(e,"heading",ja,u()(e)),Y()(e,"exercise_num",Ha,u()(e)),Y()(e,"page",qa,u()(e)),Y()(e,"solved",Ga,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Wa.schema={},Pa=Qa,Fa=Z()(Pa.prototype,"textbook",[Ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),za=Z()(Pa.prototype,"exercise_id",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),La=Z()(Pa.prototype,"url",[ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ma=Z()(Pa.prototype,"chapter",[Aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ba=Z()(Pa.prototype,"section",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ja=Z()(Pa.prototype,"heading",[Na],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ha=Z()(Pa.prototype,"exercise_num",[xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qa=Z()(Pa.prototype,"page",[Ua],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ga=Z()(Pa.prototype,"solved",[Ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pa);function _o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var wo,Ro,To,Co,Do,ko,Ao,Oo=(Xa=Q.Schema.object({schema:function(){return jr.schema},constructor:jr}),$a=Q.Schema.object({schema:function(){return Ii.schema},constructor:Ii}),Ya=Q.Schema.object({schema:function(){return $r.schema},constructor:$r}),Ja=Q.Schema.object({schema:function(){return on.schema},constructor:on}),Za=Q.Schema.object({schema:function(){return Di.schema},constructor:Di}),eo=Q.Schema.object({schema:function(){return dn.schema},constructor:dn}),to=Q.Schema.object({schema:function(){return Rn.schema},constructor:Rn}),ro=Q.Schema.object({schema:function(){return ta.schema},constructor:ta}),no=Q.Schema.array({schema:function(){return zn.schema},constructor:zn}),io=Q.Schema.object({schema:function(){return la.schema},constructor:la}),ao=Q.Schema.object({schema:function(){return Eo.schema},constructor:Eo}),So=yo=function(e){p()(r,e);var t=_o(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"core",so,u()(e)),Y()(e,"thumbnail",lo,u()(e)),Y()(e,"document",co,u()(e)),Y()(e,"question",uo,u()(e)),Y()(e,"taxonomy",ho,u()(e)),Y()(e,"course_studyguide",po,u()(e)),Y()(e,"lit_studyguide",fo,u()(e)),Y()(e,"studyguide_video",mo,u()(e)),Y()(e,"sub_resources",go,u()(e)),Y()(e,"textbook",bo,u()(e)),Y()(e,"textbook_exercise",vo,u()(e)),Object.assign(u()(e),n),e}return l()(r,[{key:"getUniqueID",value:function(){return this.document?"DB-"+this.document.db_filename:this.question?"Q-"+this.question.question_id:this.textbook?"T-"+this.textbook.textbook_id:this.textbook_exercise?"TE-"+this.textbook_exercise.exercise_id:this.sub_resources?"C-"+this.taxonomy.course.course_id:"NA-"+this.core.title}}]),r}(ee),yo.schema={},oo=So,so=Z()(oo.prototype,"core",[Xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lo=Z()(oo.prototype,"thumbnail",[$a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),co=Z()(oo.prototype,"document",[Ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uo=Z()(oo.prototype,"question",[Ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ho=Z()(oo.prototype,"taxonomy",[Za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),po=Z()(oo.prototype,"course_studyguide",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fo=Z()(oo.prototype,"lit_studyguide",[to],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo=Z()(oo.prototype,"studyguide_video",[ro],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),go=Z()(oo.prototype,"sub_resources",[no],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bo=Z()(oo.prototype,"textbook",[io],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vo=Z()(oo.prototype,"textbook_exercise",[ao],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oo);function No(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var xo,Uo,Io,Po,Fo,zo,Lo,Mo,Bo,jo,Ho,qo,Go,Wo,Qo,Vo,Ko,Xo,$o,Yo,Jo,Zo=(wo=Q.Schema.string(),Ro=Q.Schema.string(),Ao=ko=function(e){p()(r,e);var t=No(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"name",Co,u()(e)),Y()(e,"url",Do,u()(e)),Object.assign(u()(e),n),e}return r}(ee),ko.schema={},To=Ao,Co=Z()(To.prototype,"name",[wo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Do=Z()(To.prototype,"url",[Ro],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),To);function es(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var ts,rs,ns,is,as,os,ss,ls=(xo=Q.Schema.int(),Uo=Q.Schema.string(),Io=Q.Schema.string(),Po=Q.Schema.string(),Fo=Q.Schema.string(),zo=Q.Schema.string(),Lo=Q.Schema.string(),Mo=Q.Schema.array({schema:function(){return Zo.schema},constructor:Zo,initial:function(){return[]}}),Bo=Q.Schema.array({schema:function(){return Eo.schema},constructor:Eo,initial:function(){return[]}}),Jo=Yo=function(e){p()(r,e);var t=es(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"textbook_id",Ho,u()(e)),Y()(e,"title",qo,u()(e)),Y()(e,"author",Go,u()(e)),Y()(e,"isbn",Wo,u()(e)),Y()(e,"edition_name",Qo,u()(e)),Y()(e,"cover_url",Vo,u()(e)),Y()(e,"url",Ko,u()(e)),Y()(e,"chapters",Xo,u()(e)),Y()(e,"exercises",$o,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Yo.schema={},jo=Jo,Ho=Z()(jo.prototype,"textbook_id",[xo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qo=Z()(jo.prototype,"title",[Uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Go=Z()(jo.prototype,"author",[Io],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wo=Z()(jo.prototype,"isbn",[Po],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qo=Z()(jo.prototype,"edition_name",[Fo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vo=Z()(jo.prototype,"cover_url",[zo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ko=Z()(jo.prototype,"url",[Lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xo=Z()(jo.prototype,"chapters",[Mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$o=Z()(jo.prototype,"exercises",[Bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jo);function cs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var us,hs,ps,ds,fs,ms,gs,bs,vs,ys,Ss,Es,_s,ws=(ts=Q.Schema.string(),rs=Q.Schema.object({schema:function(){return ls.schema},constructor:ls}),ss=os=function(e){p()(r,e);var t=cs(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"type",is,u()(e)),Y()(e,"textbook",as,u()(e)),Object.assign(u()(e),n),e}return r}(ee),os.schema={},ns=ss,is=Z()(ns.prototype,"type",[ts],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),as=Z()(ns.prototype,"textbook",[rs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ns);function Rs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Ts,Cs=(us=Q.Schema.array({schema:function(){return Oo.schema},constructor:Oo}),hs=Q.Schema.object({schema:function(){return Qt.schema},constructor:Qt}),ps=Q.Schema.object({schema:function(){return xr.schema},constructor:xr}),ds=Q.Schema.array({schema:function(){return ye.schema},constructor:ye}),fs=Q.Schema.array({initial:function(){return[]},schema:function(){return ws.schema},constructor:ws}),_s=Es=function(e){p()(r,e);var t=Rs(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"results",gs,u()(e)),Y()(e,"meta",bs,u()(e)),Y()(e,"options",vs,u()(e)),Y()(e,"errors",ys,u()(e)),Y()(e,"callout_results",Ss,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Es.schema={},ms=_s,gs=Z()(ms.prototype,"results",[us],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bs=Z()(ms.prototype,"meta",[hs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vs=Z()(ms.prototype,"options",[ps],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ys=Z()(ms.prototype,"errors",[ds],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ss=Z()(ms.prototype,"callout_results",[fs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ms);!function(e){e.RELEVANCY="relevancy",e.VIEWS="views",e.DATE="date",e.POPULAR="popular"}(Ts||(Ts={}));var Ds,ks,As,Os,Ns,xs,Us,Is,Ps,Fs,zs,Ls,Ms,Bs=Ts;function js(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Hs,qs,Gs,Ws,Qs,Vs,Ks,Xs,$s,Ys,Js,Zs,el,tl,rl,nl,il,al,ol,sl,ll,cl,ul,hl,pl,dl,fl,ml,gl,bl,vl,yl,Sl,El,_l=(Ds=Q.Schema.string(),ks=Q.Schema.int(),As=Q.Schema.string(),Os=Q.Schema.string(),Ns=Q.Schema.int(),Ms=Ls=function(e){p()(r,e);var t=js(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"initial_query",Us,u()(e)),Y()(e,"search_suggestion_id",Is,u()(e)),Y()(e,"suggestion_source",Ps,u()(e)),Y()(e,"referrer",Fs,u()(e)),Y()(e,"suggestion_position",zs,u()(e)),Object.assign(u()(e),n),e}return r}(ee),Ls.schema={},xs=Ms,Us=Z()(xs.prototype,"initial_query",[Ds],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=Z()(xs.prototype,"search_suggestion_id",[ks],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ps=Z()(xs.prototype,"suggestion_source",[As],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fs=Z()(xs.prototype,"referrer",[Os],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zs=Z()(xs.prototype,"suggestion_position",[Ns],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xs);function wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}!function(e){e.WEB="web",e.MOBILE="mobile"}(El||(El={}));var Rl,Tl=(Hs=Q.Schema.string({initial:function(){return El.WEB}}),qs=Q.Schema.string(),Gs=Q.Schema.int(),Ws=Q.Schema.int(),Qs=Q.Schema.string(),Vs=Q.Schema.string(),Ks=Q.Schema.string(),Xs=Q.Schema.string(),$s=Q.Schema.object({schema:function(){return Nt.schema},constructor:Nt}),Ys=Q.Schema.object({schema:function(){return it.schema},initial:function(){return{}},constructor:it}),Js=Q.Schema.string({initial:function(){return Bs.RELEVANCY}}),Zs=Q.Schema.int({initial:function(){return 20}}),el=Q.Schema.int({initial:function(){return 0}}),tl=Q.Schema.object({schema:function(){return _l.schema},constructor:_l}),rl=Q.Schema.array({schema:null,initial:function(){return[]}}),Sl=yl=function(e){p()(r,e);var t=wl(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"client",il,u()(e)),Y()(e,"query",al,u()(e)),Y()(e,"previous_search_id",ol,u()(e)),Y()(e,"search_id",sl,u()(e)),Y()(e,"search_key",ll,u()(e)),Y()(e,"trigger",cl,u()(e)),Y()(e,"view",ul,u()(e)),Y()(e,"source",hl,u()(e)),Y()(e,"location",pl,u()(e)),Y()(e,"filters",dl,u()(e)),Y()(e,"sort",fl,u()(e)),Y()(e,"limit",ml,u()(e)),Y()(e,"offset",gl,u()(e)),Y()(e,"suggestion",bl,u()(e)),Y()(e,"callout_types",vl,u()(e)),Object.assign(u()(e),n),e}return r}(ee),yl.schema={},nl=Sl,il=Z()(nl.prototype,"client",[Hs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),al=Z()(nl.prototype,"query",[qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ol=Z()(nl.prototype,"previous_search_id",[Gs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sl=Z()(nl.prototype,"search_id",[Ws],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ll=Z()(nl.prototype,"search_key",[Qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cl=Z()(nl.prototype,"trigger",[Vs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ul=Z()(nl.prototype,"view",[Ks],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hl=Z()(nl.prototype,"source",[Xs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pl=Z()(nl.prototype,"location",[$s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dl=Z()(nl.prototype,"filters",[Ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fl=Z()(nl.prototype,"sort",[Js],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ml=Z()(nl.prototype,"limit",[Zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gl=Z()(nl.prototype,"offset",[el],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bl=Z()(nl.prototype,"suggestion",[tl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vl=Z()(nl.prototype,"callout_types",[rl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nl);!function(e){e.DOCUMENT="document",e.QUESTION="question",e.COURSE="course",e.COURSE_STUDY_GUIDE="course_studyguide",e.LIT_STUDY_GUIDE="lit_studyguide",e.COMBINED_STUDY_GUIDE="combined_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.VIDEO="video",e.EDUCATOR_CONTENT="educator_content",e.TEXTBOOK="textbook",e.TEXTBOOK_EXERCISE="textbook_exercise"}(Rl||(Rl={}));var Cl=Rl;function Dl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var kl,Al,Ol,Nl,xl,Ul,Il,Pl,Fl,zl,Ll,Ml=new(function(e){p()(r,e);var t=Dl(r);function r(){var e;return o()(this,r),(e=t.call(this)).state={lastResponse:null,trigger:null},Q.Actions.register(R()({},K,e.onReceiveSearchResponse.bind(u()(e))),u()(e)),e.sanitizeSearchResponse=e.sanitizeSearchResponse.bind(u()(e)),e}return l()(r,[{key:"sanitizeSearchResponse",value:function(e){var t=this.sanitize(e,Cs.schema),r=t.meta&&t.meta.filters?t.meta.filters.type:[];return-1!==r.indexOf(Cl.COURSE_STUDY_GUIDE)&&-1!==r.indexOf(Cl.LIT_STUDY_GUIDE)&&(t.meta.filters.type=[].concat(_()(r.filter(function(e){return e!==Cl.COURSE_STUDY_GUIDE&&e!==Cl.LIT_STUDY_GUIDE})),[Cl.COMBINED_STUDY_GUIDE])),new Cs(t)}},{key:"sanitizeFilterData",value:function(e){return new it(this.sanitize(e,it.schema))}},{key:"sanitizeSuggestionData",value:function(e){return new _l(this.sanitize(e,_l.schema))}},{key:"sanitizeSearchRequest",value:function(e){var t=this.sanitize(e,Tl.schema),r=t.filters?t.filters.type:[];return-1!==r.indexOf(Cl.COMBINED_STUDY_GUIDE)&&(t.filters.type=[].concat(_()(r.filter(function(e){return e!==Cl.COMBINED_STUDY_GUIDE})),[Cl.COURSE_STUDY_GUIDE,Cl.LIT_STUDY_GUIDE])),new Tl(t)}},{key:"onReceiveSearchResponse",value:function(e){var t=this.nextState();return t.lastResponse=this.sanitizeSearchResponse(e[0]),t.trigger=e[1],t}}]),r}(Q.Store));function Bl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var jl=(kl=Q.Schema.int(),Al=Q.Schema.string(),Ol=Q.Schema.int(),Nl=Q.Schema.string(),Ll=zl=function(e){p()(r,e);var t=Bl(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"id",Ul,u()(e)),Y()(e,"text",Il,u()(e)),Y()(e,"position",Pl,u()(e)),Y()(e,"source",Fl,u()(e)),Object.assign(u()(e),n),e}return r}(ee),zl.schema={},xl=Ll,Ul=Z()(xl.prototype,"id",[kl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Il=Z()(xl.prototype,"text",[Al],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pl=Z()(xl.prototype,"position",[Ol],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fl=Z()(xl.prototype,"source",[Nl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xl);function Hl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var ql=new(function(e){p()(r,e);var t=Hl(r);function r(){var e;return o()(this,r),(e=t.call(this)).state={defaultSuggestions:[]},Q.Actions.register(R()({},V,e.setDefaultSuggestions.bind(u()(e))),u()(e)),e}return l()(r,[{key:"sanitizeJSONSuggestions",value:function(e){var t=this,r=JSON.parse(e);return Array.isArray(r)?r.map(function(e,r){return t.sanitizeSuggestion({id:r,text:e})}):[]}},{key:"sanitizeAutocompleteSuggestions",value:function(e){var t=this;return Array.isArray(e)?e.map(function(e,r){return t.sanitizeSuggestion({id:e.search_suggestion_id,text:e.suggestion,position:r,source:e.source})}):[]}},{key:"sanitizeSuggestion",value:function(e){return new jl(this.sanitize(e,jl.schema))}},{key:"getDefaultSuggestions",value:function(){return this.state.defaultSuggestions}},{key:"setDefaultSuggestions",value:function(e){var t=this,r=this.nextState();return e.forEach(function(e){var n=t.sanitize(e,jl.schema);t.upsertItem(r.defaultSuggestions,n.id,n)}),r}}]),r}(Q.Store)),Gl=window,Wl=Gl.Action,Ql=Gl.Actions,Vl=Gl.ApiService,Kl=Gl.Beef,Xl=(Gl.Dispatcher,Gl.RoutingService,Gl.Store);function $l(){return Kl.start(),Kl.service(Vl.SERVICE_ID)}var Yl,Jl,Zl=function(e){return function(t,r){var n,i,a,o,s,l=t[r];return t[r]=(n=l,(i=e)||(i=250),function(){var e=a||this,t=+new Date,r=arguments;o&&t<o+i?(clearTimeout(s),s=setTimeout(function(){o=t,n.apply(e,r)},i)):(o=t,n.apply(e,r))}),t}},ec=(Yl=Zl(250),Jl=function(){function e(){o()(this,e)}return l()(e,null,[{key:"fetchAutocompleteSuggestions",value:function(e,t,r){return $l().get("/api/v1/search/suggest/",{query:e}).then(function(e){t&&t(e)},function(e){r&&r(e)})}}]),e}(),Z()(Jl,"fetchAutocompleteSuggestions",[Yl],Object.getOwnPropertyDescriptor(Jl,"fetchAutocompleteSuggestions"),Jl),Jl),tc=r(12),rc=r.n(tc),nc=function(e){var t,r,i=e.disabledClass?e.disabledClass:"disabled",a=e.className,o=e.href,s=e.icon,l=e.id,c=e.label,u=e.onClick,h=e.tooltipText,p=e.tooltipClass,d=e.isHodorTooltip,f=e.disabled,m=e.iconPosition,g=e.onBlur;a+=f?" ".concat(i):"",s&&(t=n.createElement("i",{className:s,"aria-hidden":"true"})),h&&(r=d?n.createElement("span",{className:p||"","data-tooltip":h}):n.createElement("span",{className:p||""},h));return n.createElement("a",rc()({id:l,href:o||"javascript:void(0)",className:a,onClick:function(e){u&&!f&&u(e)},onBlur:g},e.chAnalyticsData),m&&"left"!==m?null:t,c,m&&"right"===m?t:null,r)},ic=function(){function e(){o()(this,e)}return l()(e,null,[{key:"define",value:function(e,t){var r="__CHG_"+e;return void 0!==window[r]?window[r]:window[r]=t()}}]),e}();function ac(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var oc,sc,lc,cc=function(e){p()(r,e);var t=ac(r);function r(){var e;o()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).selectedFilters=function(e){return e},e.setActiveFilter=function(e){return e},e.receiveFilters=function(e){return e},e.receiveInMeta=function(e){return e},e.resetActive=function(e){return e},e.resetAll=function(){},e.clearSelectedSchoolFilter=function(){},e.clearSelectedProfessorFilter=function(){},e.clearSelectedCourseTitleFilter=function(){},e.clearSelectedCourseNumberFilter=function(){},e.clearSelectedDepartmentFilter=function(){},e.clearSelectedCourseFilter=function(){},e.clearSelectedSubjectFilter=function(){},e.doSearch=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return[e,t]},e.loadDefaultSchools=function(e){return e},e}return r}(Wl),uc=ic.define("FilterActions",function(){return Ql.create(new cc)});!function(e){e[e.PageCount=1]="PageCount",e[e.DocDate=2]="DocDate",e[e.QADateAsked=3]="QADateAsked",e[e.FSCreated=4]="FSCreated"}(lc||(lc={}));oc={},R()(oc,lc.DocDate,{type:"daterange"}),R()(oc,lc.PageCount,{type:"number"}),R()(oc,lc.QADateAsked,{type:"daterange"}),R()(oc,lc.FSCreated,{type:"daterange"});var hc=(sc={},R()(sc,lc.PageCount,"page_count"),R()(sc,lc.DocDate,"doc_date"),R()(sc,lc.QADateAsked,"date_asked"),R()(sc,lc.FSCreated,"created"),R()(sc,"page_count",lc.PageCount),R()(sc,"doc_date",lc.DocDate),R()(sc,"date_asked",lc.QADateAsked),R()(sc,"created",lc.FSCreated),sc),pc=function(){function e(){o()(this,e)}return l()(e,[{key:"log",value:function(e){console.error("You must not modify the resource type definitions. Especially if you tried to change it to '".concat(e,"'.\n            \n That would be the worst possible thing to change it to.\n            "))}},{key:"DOCUMENT",get:function(){return e._documentType},set:function(e){this.log(e)}},{key:"QUESTION",get:function(){return e._questionType},set:function(e){this.log(e)}},{key:"FLASHCARD",get:function(){return e._flashcardType},set:function(e){this.log(e)}},{key:"TUTOR",get:function(){return e._tutorType},set:function(e){this.log(e)}}]),e}();pc._documentType="document",pc._questionType="question",pc._flashcardType="flashcard",pc._tutorType="expert";var dc=new pc;function fc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}Object.freeze(dc);var mc,gc=function(e){p()(r,e);var t=fc(r);function r(){var e;return o()(this,r),(e=t.call(this)).PROFESSOR="professor",e.COURSE_TITLE="courseTitle",e.COURSE_NUMBER="courseNumber",e.DEPARTMENT="department",e.COURSE="course",e.SCHOOL="school",e.SUBJECT="subject",e.SELECTED_SCHOOL="selected_school",e.events={UPDATE:"FilterStore.events.UPDATE",UPDATE_IN_META:"FilterStore.events.UPDATE_IN_META"},e.schema={Professor:{id:Xl.int(),label:Xl.string()},CourseTitle:{id:Xl.int(),label:Xl.string()},CourseNumber:{id:Xl.int(),label:Xl.string()},Department:{id:Xl.int(),label:Xl.string()},Course:{course_id:Xl.int(),course_num:Xl.string(),course_name:Xl.string(),dept_acro:Xl.string(),total_doc_count:Xl.int()},School:{id:Xl.int(),label:Xl.string(),state:Xl.string(),country:Xl.string()},Subject:{id:Xl.int(),label:Xl.string()}},e.PROFESSOR_API_URL="/ajax/autocomplete_resultset.php",e.COURSE_TITLE_API_URL="/ajax/autocomplete_resultset.php",e.COURSE_NUMBER_API_URL="/ajax/autocomplete_resultset.php",e.DEPARTMENT_API_URL="/ajax/autocomplete_resultset.php",e.COURSES_API_URL="/api/v1/courses/search/",e.SCHOOLS_API_URL="/ajax/autocomplete_resultset.php",e.SUBJECT_API_URL="/ajax/autocomplete_resultset.php",e.currentSearch=void 0,e.defaultSchoolOptions=void 0,e.currentSearch=null,e.defaultSchoolOptions=null,uc._register({setActiveFilter:uc.setActiveFilter,receiveActiveFilters:uc.receiveFilters,resetActive:uc.resetActive,clearSelectedSchoolFilter:uc.clearSelectedSchoolFilter,clearSelectedProfessorFilter:uc.clearSelectedProfessorFilter,clearSelectedCourseTitleFilter:uc.clearSelectedCourseTitleFilter,clearSelectedCourseNumberFilter:uc.clearSelectedCourseNumberFilter,clearSelectedDepartmentFilter:uc.clearSelectedDepartmentFilter,clearSelectedCourseFilter:uc.clearSelectedCourseFilter,clearSelectedSubjectFilter:uc.clearSelectedSubjectFilter,doSearch:uc.doSearch,receiveInMeta:uc.receiveInMeta,loadDefaultSchools:uc.loadDefaultSchools,resetAll:uc.resetAll},u()(e)),e.getInMetaFilters=e.getInMetaFilters.bind(u()(e)),e}return l()(r,[{key:"getProfessorFilters",value:function(){return this.getFilters(this.PROFESSOR)}},{key:"getCourseTitleFilters",value:function(){return this.getFilters(this.COURSE_TITLE)}},{key:"getCourseNumberFilters",value:function(){return this.getFilters(this.COURSE_NUMBER)}},{key:"getDepartmentFilters",value:function(){return this.getFilters(this.DEPARTMENT)}},{key:"getCourseFilters",value:function(){return this.getFilters(this.COURSE)}},{key:"getSchoolFilters",value:function(){return this.getFilters(this.SCHOOL)}},{key:"getSubjectFilters",value:function(){return this.getFilters(this.SUBJECT)}},{key:"getFilters",value:function(e){return this.getRows(e)}},{key:"clearSelectedSchoolFilter",value:function(){this.clearAll(this.SELECTED_SCHOOL),this.resetActive(this.COURSE,!0),this.emit(this.events.UPDATE)}},{key:"clearSelectedProfessorFilter",value:function(){this.resetActive(this.PROFESSOR)}},{key:"clearSelectedCourseTitleFilter",value:function(){this.resetActive(this.COURSE_TITLE)}},{key:"clearSelectedCourseNumberFilter",value:function(){this.resetActive(this.COURSE_NUMBER)}},{key:"clearSelectedDepartmentFilter",value:function(){this.clearAll(this.DEPARTMENT),this.resetActive(this.COURSE_NUMBER,!0),this.emit(this.events.UPDATE)}},{key:"clearSelectedCourseFilter",value:function(){this.resetActive(this.COURSE)}},{key:"clearSelectedSubjectFilter",value:function(){this.resetActive(this.SUBJECT)}},{key:"resetAll",value:function(){this.clearAll(this.SELECTED_SCHOOL),this.resetActive(this.SCHOOL,!0),this.resetActive(this.PROFESSOR,!0),this.resetActive(this.COURSE_TITLE,!0),this.resetActive(this.COURSE_NUMBER,!0),this.resetActive(this.DEPARTMENT,!0),this.resetActive(this.COURSE,!0),this.resetActive(this.SUBJECT,!0),this.emit(this.events.UPDATE)}},{key:"setActiveFilter",value:function(e){this.resetActive(e.type),e.type===this.SCHOOL&&(this.clearAll(this.COURSE),this.emit(this.events.UPDATE,this.COURSE),this.clearSelectedSchoolFilter(),this.upsertRow(this.SELECTED_SCHOOL,"id",e.id,e)),e.active=!0,this.upsertRow(e.type,"id",e.id,e),this.emit(this.events.UPDATE,e.type),uc.selectedFilters(this.getActiveFilterIds())}},{key:"resetActive",value:function(e,t){var r=this;this.getRows(e).forEach(function(e){e.active=!1,r.upsertRow(e.type,"id",e.id,e)}),t||(this.emit(this.events.UPDATE,e),uc.selectedFilters(this.getActiveFilterIds()))}},{key:"getActiveProfessorFilter",value:function(){return this.getActiveFilter(this.PROFESSOR)}},{key:"getActiveCourseTitleFilter",value:function(){return this.getActiveFilter(this.COURSE_TITLE)}},{key:"getActiveCourseNumberFilter",value:function(){return this.getActiveFilter(this.COURSE_NUMBER)}},{key:"getActiveDepartmentFilter",value:function(){return this.getActiveFilter(this.DEPARTMENT)}},{key:"getActiveCourseFilter",value:function(){return this.getActiveFilter(this.COURSE)}},{key:"getActiveSchoolFilter",value:function(){return this.getActiveFilter(this.SCHOOL)}},{key:"getActiveSubjectFilter",value:function(){return this.getActiveFilter(this.SUBJECT)}},{key:"getActiveFilter",value:function(e){if(e===this.SCHOOL)return this.getRows(this.SELECTED_SCHOOL)[0];var t=this.getFilters(e).filter(function(e){return e.active});return 0===t.length?null:t[0]}},{key:"getActiveFilters",value:function(){return{professor:this.getActiveProfessorFilter(),courseTitle:this.getActiveCourseTitleFilter(),courseNumber:this.getActiveCourseNumberFilter(),department:this.getActiveDepartmentFilter(),course:this.getActiveCourseFilter(),school:this.getActiveSchoolFilter(),subject:this.getActiveSubjectFilter()}}},{key:"getActiveFilterIds",value:function(){var e=this.getActiveFilters();return{professor:e.professor?e.professor.id:null,courseTitle:e.courseTitle?e.courseTitle.id:null,courseNumber:e.courseNumber?e.courseNumber.id:null,department:e.department?e.department.id:null,course:e.course?e.course.id:null,school:e.school?e.school.id:null,subject:e.subject?e.subject.id:null}}},{key:"getDefaultSchoolFilter",value:function(){return{id:0,type:bc.SCHOOL,mainText:"Enter your School"}}},{key:"receiveProfessorFilters",value:function(e){this.receiveFilters(e,this.PROFESSOR)}},{key:"receiveCourseTitleFilters",value:function(e){this.receiveFilters(e,this.COURSE_TITLE)}},{key:"receiveCourseNumberFilters",value:function(e){this.receiveFilters(e,this.COURSE_NUMBER)}},{key:"receiveDepartmentFilters",value:function(e){this.receiveFilters(e,this.DEPARTMENT)}},{key:"receiveCourseFilters",value:function(e){this.receiveFilters(e,this.COURSE)}},{key:"receiveSchoolFilters",value:function(e){this.receiveFilters(e,this.SCHOOL)}},{key:"receiveSubjectFilters",value:function(e){this.receiveFilters(e,this.SUBJECT)}},{key:"receiveFilters",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.forEach(function(e){t.upsertRow(e.type,"id",e.id,e)}),this.emit(this.events.UPDATE,r)}},{key:"receiveActiveFilters",value:function(e){for(var t in e){var r=e[t];this.upsertRow(r.type,"id",r.id,r),this.emit(this.events.UPDATE,r.type)}}},{key:"doSearch",value:function(e){null!==this.currentSearch&&this.currentSearch.abort(),e[1]&&this.clearAll(e[0].type);var t={value:e[0].value};switch("limit"in e[0]&&(t.limit=e[0].limit),e[0].type){case this.PROFESSOR:this.doProfessorSearch(e[0]);break;case this.COURSE_TITLE:this.doCourseTitleSearch(e[0]);break;case this.COURSE_NUMBER:this.doCourseNumberSearch(e[0]);break;case this.DEPARTMENT:this.doDepartmentSearch(e[0]);break;case this.COURSE:this.doCourseSearch(e[0].value);break;case this.SCHOOL:this.doSchoolSearch(t);break;case this.SUBJECT:this.doSubjectSearch(e[0].value)}}},{key:"doProfessorSearch",value:function(e){var t=this,r=this.getActiveSchoolFilter().id,n=this.getActiveDepartmentFilter()?this.getActiveDepartmentFilter().id:0,i=this.getActiveDepartmentFilter()?this.getActiveDepartmentFilter().mainText:"",a={school:r,dept:n>0?n:i,term:e.value,type:"school_dept_professor"};e.limit&&(a.limit=e.limit),this.currentSearch=$l().get(this.PROFESSOR_API_URL,a).done(function(e){var r=t.sanitizeRawProfessorFilters(e);t.receiveProfessorFilters(r)})}},{key:"sanitizeRawProfessorFilters",value:function(e){var t=this;return e.map(function(e){return{id:parseInt(e.id?e.id:"0"),active:!1,type:t.PROFESSOR,mainText:e.label,subText:null}})}},{key:"doCourseTitleSearch",value:function(e){var t=this,r={school:this.getActiveSchoolFilter().id,dept:this.getActiveDepartmentFilter().mainText,term:e.value,type:"school_dept_course_title"};e.limit&&(r.limit=e.limit),this.currentSearch=$l().get(this.COURSE_TITLE_API_URL,r).done(function(e){var r=t.sanitizeRawCourseTitleFilters(e);t.receiveCourseTitleFilters(r)})}},{key:"sanitizeRawCourseTitleFilters",value:function(e){var t=this;return e.map(function(e){return{id:parseInt(e.id?e.id:"0"),active:!1,type:t.COURSE_TITLE,mainText:e.label,subText:null}})}},{key:"doCourseNumberSearch",value:function(e){var t=this,r={term:this.getActiveDepartmentFilter().mainText+e.value,type:"course"};e.limit&&(r.limit=e.limit),this.currentSearch=$l().get(this.COURSE_NUMBER_API_URL,r).done(function(e){var r=t.sanitizeRawCourseNumberFilters(e);t.receiveCourseNumberFilters(r)})}},{key:"sanitizeRawCourseNumberFilters",value:function(e){var t=this,r=this.getActiveDepartmentFilter().mainText.length;return e.filter(function(e){return e&&e.id>0&&e.label}).map(function(e){return{id:parseInt(e.id),active:!1,type:t.COURSE_NUMBER,mainText:e.label.substring(r).trim(),subText:null}})}},{key:"doDepartmentSearch",value:function(e){var t=this,r={term:e.value,type:this.DEPARTMENT};e.limit&&(r.limit=e.limit),this.currentSearch=$l().get(this.DEPARTMENT_API_URL,r).done(function(e){var r=t.sanitizeRawDepartmentFilters(e);t.receiveDepartmentFilters(r)})}},{key:"sanitizeRawDepartmentFilters",value:function(e){var t=this;return e.filter(function(e){return e&&e.id>0}).map(function(e){return{id:parseInt(e.id?e.id:"0"),active:!1,type:t.DEPARTMENT,mainText:e.label,subText:null}})}},{key:"doCourseSearch",value:function(e){var t=this,r=this.COURSES_API_URL;this.currentSearch=$l().get(r,{q:e,schoolId:this.getActiveSchoolFilter().id}).done(function(e){if(e.results){var r=e.results.filter(function(e){return e.course_id>0}).map(function(e){return e=t.sanitize(e,t.schema.Course,!0),{id:parseInt(e.course_id),active:!1,type:t.COURSE,mainText:e.dept_acro+" "+e.course_num,subText:e.course_name,extraText:e.dept_acro,extraSubText:e.course_num,aside:e.total_doc_count+" Document"+(e.total_doc_count>1?"s":"")}});t.receiveCourseFilters(r)}else t.receiveCourseFilters([])})}},{key:"sanitizeRawSchoolFilters",value:function(e){var t=this;return e.filter(function(e){return e&&(e.id>0||e.school_id>0)}).map(function(e){return{id:parseInt(e.id?e.id:e.school_id),active:!1,type:t.SCHOOL,mainText:e.label?e.label:e.school_name,subText:e.state?e.state:e.location&&e.location.subdivision?e.location.subdivision:null}})}},{key:"doSchoolSearch",value:function(e){var t=this,r={term:e.value,type:this.SCHOOL};e.limit&&(r.limit=e.limit),this.currentSearch=$l().get(this.SCHOOLS_API_URL,r).done(function(e){var r=t.sanitizeRawSchoolFilters(e);t.receiveSchoolFilters(r)})}},{key:"doSubjectSearch",value:function(e){var t=this;this.currentSearch=$l().get(this.SUBJECT_API_URL,{term:e,type:this.SUBJECT}).done(function(e){var r=e.filter(function(e){return e.id>0}).map(function(e){return e=t.sanitize(e,t.schema.Subject,!0),{id:parseInt(e.id),active:!1,type:t.SUBJECT,mainText:e.label,subText:""}});t.receiveSubjectFilters(r)})}},{key:"receiveInMeta",value:function(e){var t=this;e.forEach(function(e){t.upsertRow("inmeta","type",e.type,e,!0)}),this.emit(this.events.UPDATE_IN_META)}},{key:"getInMetaFilters",value:function(){return this.getRows("inmeta")}},{key:"getInMetaName",value:function(e){return hc[e]}},{key:"constructInMetaTag",value:function(e){var t=e.constraints,r=t.lower,n=t.upper;if(!r&&!n)return"";r=r||"",n=n||"";var i=this.getInMetaName(e.type);return i?"".concat(i,":").concat(e.constraints.lower,"..").concat(e.constraints.upper):""}},{key:"getAppliedInMetaFilters",value:function(e){var t=[];return e===dc.QUESTION&&t.push(lc.QADateAsked),e===dc.FLASHCARD&&t.push(lc.FSCreated),e===dc.DOCUMENT&&(t.push(lc.DocDate),t.push(lc.PageCount)),t}},{key:"buildInMetaQuery",value:function(e){var t=this,r=this.getAppliedInMetaFilters(e);return this.getRows("inmeta").filter(function(e){var n=r.indexOf(e.type)>-1,i=t.constructInMetaTag(e);return n&&i&&i.length>0}).map(function(e){var r=t.constructInMetaTag(e);return"inmeta:".concat(r)}).join(" ")}},{key:"loadDefaultSchools",value:function(e){e&&(this.defaultSchoolOptions=this.sanitizeRawSchoolFilters(e)),this.emit(this.events.UPDATE,this.SCHOOL)}}]),r}(Xl),bc=ic.define("FilterStore",function(){return new gc});!function(e){e[e.ENTER=13]="ENTER",e[e.ESC=27]="ESC",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.UP_ARROW=38]="UP_ARROW",e[e.DOWN_ARROW=40]="DOWN_ARROW",e[e.DEL=46]="DEL"}(mc||(mc={}));var vc=mc;function yc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Sc=function(e){p()(r,e);var t=yc(r);function r(){return o()(this,r),t.apply(this,arguments)}return l()(r,[{key:"render",value:function(){var e=this;if(0==this.props.items.length)return null;var t=this.props.items.map(function(t){var r=t.id+t.mainText+t.subText;if(t.selected)var i="selected";else i="";var a=e.props.showSubText?n.createElement("div",{className:"ct_subText_text"},t.subText):null,o=e.props.showAside?n.createElement("div",{className:"ct_subText_aside"},n.createElement("span",null,t.aside)):null;return n.createElement("li",{key:r,className:i,onMouseOver:e.props.handleHover.bind(null,t)},n.createElement("a",{onClick:e.props.handleClick.bind(null,t.id)},n.createElement("div",{className:"ct_mainText_text"},t.mainText),a,o))}),r=this.props.className?this.props.className:"ct_autocompleteList_container",i=null,a=null;return this.props.showTitle&&this.props.titleText&&t.length>1&&(i=t[0],a=n.createElement("li",{className:"ct_autocomplete_list_title"},this.props.titleText),t=t.slice(1)),n.createElement("div",{className:r},n.createElement("ul",{className:"ct_autocompleteList_bundle"},i,a,t))}}]),r}(n.Component);function Ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var _c=function(e){p()(r,e);var t=Ec(r);function r(e){var n;o()(this,r),n=t.call(this,e);var i=e.dropdownLimit?e.dropdownLimit:10;return n.state={showDropdown:!1,tempSelect:0,oldValue:"",dropdownItems:e.dropdownItems.slice(0,i)},n.handleChange=n.handleChange.bind(u()(n)),n.handleClick=n.handleClick.bind(u()(n)),n.handleKeyDown=n.handleKeyDown.bind(u()(n)),n.handleHover=n.handleHover.bind(u()(n)),n.handleBlur=n.handleBlur.bind(u()(n)),n.handleFocus=n.handleFocus.bind(u()(n)),n}return l()(r,[{key:"componentDidMount",value:function(){$(document).on("click",this.handleBlur)}},{key:"componentWillUnmount",value:function(){$(document).off("click",this.handleBlur)}},{key:"componentDidUpdate",value:function(e){if(this.props.showDropdownControl!==e.showDropdownControl||this.props.dropdownItems!==e.dropdownItems){var t={};!1===this.props.showDropdownControl&&(t.showDropdown=!1),this.props.dropdownItems&&(t.tempSelect=0);var r=this.props.dropdownLimit||10;t.dropdownItems=(this.props.dropdownItems||[]).slice(0,r),this.setState(t)}}},{key:"handleChange",value:function(e,t){var r="string"==typeof t?t:e.target.value;this.setState({showDropdown:!this.props.disabled}),this.props.handleChange(this.props.type,r)}},{key:"handleClick",value:function(e){if(!(e<0&&-100!=e)){var t=0,r=this.state.dropdownItems.filter(function(r,n){if(r.id===e)return t=n,r.itemIndex=n+1,!0})[0];this.setState({showDropdown:!1,tempSelect:t}),this.props.handleClick(this.props.type,r)}}},{key:"handleHover",value:function(e){var t=this.state.tempSelect;this.state.dropdownItems.forEach(function(r,n){r.id===e.id&&(t=n)}),this.setState({tempSelect:t})}},{key:"handleKeyDown",value:function(e){switch(e.keyCode||e.which){case vc.TAB:this.setState({showDropdown:!1});break;case vc.RIGHT_ARROW:case vc.ENTER:this.state.dropdownItems.length>0&&this.handleClick(this.state.dropdownItems[this.state.tempSelect].id);break;case vc.UP_ARROW:this.state.tempSelect>0&&this.setState({tempSelect:this.state.tempSelect-1});break;case vc.DOWN_ARROW:this.state.tempSelect<this.state.dropdownItems.length-1&&this.setState({tempSelect:this.state.tempSelect+1});break;case vc.ESC:this.props.value?this.handleChange(null,""):this.props.onEscapeSearch&&this.props.onEscapeSearch()}}},{key:"handleBlur",value:function(e){this.props.handleBlurEventTarget&&!$(e.target).is("fieldset."+this.props.handleBlurEventTarget+" *")&&this.setState({showDropdown:!1}),$(e.target).is(".ct_autocompleteList_container, .ct_autocompleteList_container *, .autocompleteFilter_input")||(this.setState({showDropdown:!1}),this.props.onBlur&&this.props.onBlur())}},{key:"handleFocus",value:function(e){this.props.type==bc.SCHOOL&&bc.getActiveSchoolFilter()&&bc.getActiveSchoolFilter().id>0||(this.setState({showDropdown:!0}),this.props.onFocus&&this.props.onFocus())}},{key:"render",value:function(){var e=this,t=this.state.dropdownItems.map(function(t,r){return{key:t.mainText+t.id,id:t.id,mainText:t.mainText,subText:t.subText,selected:e.state.tempSelect===r,aside:t.aside}}),r=this.state.showDropdown?n.createElement(Sc,{items:t,handleClick:this.handleClick,handleHover:this.handleHover,className:this.props.listClass,showTitle:this.props.showDropdownTitle,showSubText:!this.props.hideListSubText,titleText:this.props.dropdownTitleText}):null,i=this.props.disabled&&this.props.placeholder?this.props.placeholder:this.props.value,a=this.props.iconLeft?this.props.iconLeft:null,o=this.props.iconRight?this.props.iconRight:null;return n.createElement(n.Fragment,null,n.createElement("div",{className:"ct_autocomplete_wrapper"},a,n.createElement("input",{className:"autocompleteFilter_input",type:"search",value:i,onChange:this.handleChange,onFocus:this.handleFocus,placeholder:this.props.placeholder,disabled:this.props.disabled,onKeyDown:this.handleKeyDown}),o,a||o?null:r),a||o?r:null)}}]),r}(n.Component);function wc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Rc,Tc,Cc,Dc=function(e){p()(r,e);var t=wc(r);function r(){return o()(this,r),t.apply(this,arguments)}return l()(r,[{key:"handleBlur",value:function(e){this.props.handleBlurEventTarget&&!$(e.target).is("fieldset."+this.props.handleBlurEventTarget+" *")&&this.setState({showDropdown:!1}),$(e.target).is(".ct_autocompleteList_container, .ct_autocompleteList_container *, .autocompleteFilter_input")||this.setState({showDropdown:!1})}},{key:"render",value:function(){var e,t=this,r=this.props.dropdownItems.map(function(e,r){return{key:e.mainText+e.id,id:e.id,mainText:e.mainText,subText:e.subText,selected:t.state.tempSelect===r,aside:e.aside}}).slice(0,10),i=null;this.props.dropdownAlternative&&1==r.length&&-1==r[0].id?i=this.props.dropdownAlternative:this.state.showDropdown&&(i=n.createElement(Sc,{items:r.slice(0,this.props.dropdownLimit?this.props.dropdownLimit:10),handleClick:this.handleClick,handleHover:this.handleHover,className:this.props.listClass,showAside:!this.props.hideListAside,showSubText:!this.props.hideListSubText}));var a=this.props.fieldSetAndLabelConfig&&this.props.fieldSetAndLabelConfig.inputClass?this.props.fieldSetAndLabelConfig.inputClass:"autocompleteFilter_input";this.props.error&&(e=n.createElement("span",{className:"txt-red"},this.props.error),a+=" error");var o,s=this.props.fieldSetAndLabelConfig.dontRememberOldValue?n.createElement("input",{type:"search",onChange:this.handleChange,placeholder:this.props.placeholder,disabled:this.props.disabled,onKeyDown:this.handleKeyDown,className:a,onFocus:this.props.onFocus,onBlur:this.props.onBlur}):n.createElement("input",{type:"search",value:this.props.value,onChange:this.handleChange,placeholder:this.props.placeholder,disabled:this.props.disabled,onKeyDown:this.handleKeyDown,className:a,onFocus:this.props.onFocus,onBlur:this.props.onBlur});if(this.props.fieldSetAndLabelConfig.useLabel){var l=this.props.fieldSetAndLabelConfig.labelContent;o=n.createElement("label",{className:this.props.fieldSetAndLabelConfig.labelClass},l)}return this.props.fieldSetAndLabelConfig.useFieldSet?n.createElement("div",{className:this.props.fieldSetAndLabelConfig.fieldSetContainerClass},n.createElement("fieldset",{id:this.props.fieldSetAndLabelConfig.fieldSetId,className:this.props.fieldSetAndLabelConfig.fieldSetClass,disabled:this.props.disabled},o,n.createElement("div",{className:"search_input_dropdown"},s,i)),e):this.props.fieldSetAndLabelConfig.noWrapper?n.createElement(n.Fragment,null,n.createElement("div",{className:"search_input_dropdown"},s,i),e):n.createElement("div",{className:this.props.fieldSetAndLabelConfig.fieldSetContainerClass},n.createElement("div",{className:"search_input_dropdown"},s,i),e)}}]),r}(_c),kc=(Rc=Zl(250),Tc=Zl(250),Cc=function(){function e(){o()(this,e)}return l()(e,null,[{key:"loadTrendingSchools",value:function(){$l().get("/api/v1/schools/trending/",{}).done(function(e){uc.loadDefaultSchools(e)})}},{key:"loadNearbySchools",value:function(e,t){$l().get("/api/v1/autocomplete/schools/",{}).then(function(t){e&&e(t)},function(){t&&t()})}}]),e}(),Z()(Cc,"loadTrendingSchools",[Rc],Object.getOwnPropertyDescriptor(Cc,"loadTrendingSchools"),Cc),Z()(Cc,"loadNearbySchools",[Tc],Object.getOwnPropertyDescriptor(Cc,"loadNearbySchools"),Cc),Cc);function Ac(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Oc=function(e){p()(r,e);var t=Ac(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).searchUrl="",n.state={school:{id:0,type:"school"},schoolOptions:[],defaultSchoolOptions:[],searchQuery:"",loading:!1,showDropdownTitle:!0,placeholder:n.props.placeholder,dropdownTitleText:""},n.getSchoolSearch=n.getSchoolSearch.bind(u()(n)),n.handleSearchChange=n.handleSearchChange.bind(u()(n)),n.handleSearchClick=n.handleSearchClick.bind(u()(n)),n.onFilterStoreUpdate=n.onFilterStoreUpdate.bind(u()(n)),n.handleInputFocus=n.handleInputFocus.bind(u()(n)),n.handleInputBlur=n.handleInputBlur.bind(u()(n)),n}return l()(r,[{key:"componentDidMount",value:function(){this.props.defaultSchoolFilter&&this.props.defaultSchoolFilter.id&&(this.props.defaultSchoolFilter.mainText&&this.setState({searchQuery:this.props.defaultSchoolFilter.mainText}),this.setState({school:this.props.defaultSchoolFilter}),this.getSchoolSearch()),bc.listen(bc.events.UPDATE,this.onFilterStoreUpdate);var e=bc.getActiveSchoolFilter();e&&this.setState({school:e}),this.loadDefaultSchools()}},{key:"componentWillUnmount",value:function(){bc.ignore(bc.events.UPDATE,this.onFilterStoreUpdate)}},{key:"componentDidUpdate",value:function(e){this.props.value!==e.value&&this.setState({searchQuery:this.props.value})}},{key:"handleSearchChange",value:function(e,t){var r=this,n={searchQuery:t};""===t.trim()&&(n.school=null,n.schoolOptions=[]),this.setState(n,function(){if(""===t.trim())r.props.showDefaultInDropdown&&uc.loadDefaultSchools(null),uc.resetActive(e),uc.clearSelectedSchoolFilter(),r.props.handleUpdate&&r.props.handleUpdate(null);else{var n={type:e,value:t};r.props.dropdownLimit&&(n.limit=r.props.dropdownLimit),uc.doSearch(n,!0)}r.props.handleChange&&r.props.handleChange(t)})}},{key:"handleSearchClick",value:function(e,t){0===t.id&&(uc.resetActive(e),uc.clearSelectedSchoolFilter(),this.setState({placeholder:this.props.placeholder})),this.props.disabled||(this.props.updateWithFullFilter?this.props.handleUpdate(t):this.props.handleUpdate(t.mainText),this.setState({searchQuery:t.mainText,school:t}),uc.setActiveFilter(t),this.getSchoolSearch())}},{key:"handleInputFocus",value:function(){this.props.activePlaceholder&&this.setState({placeholder:this.props.activePlaceholder}),this.props.onFocus&&this.props.onFocus()}},{key:"handleInputBlur",value:function(){this.props.activePlaceholder&&this.setState({placeholder:this.props.placeholder}),this.props.onBlur&&this.props.onBlur()}},{key:"onFilterStoreUpdate",value:function(e,t){var r=bc.defaultSchoolOptions,n={showDropdownTitle:!1};n.school=bc.getActiveSchoolFilter()?bc.getActiveSchoolFilter():null;var i=[];this.state.searchQuery.trim()?i=bc.getFilters(t).slice():r&&r.length>0&&(i=r.slice()),i=i.slice(0,5),this.state.searchQuery.trim()?0===i.length&&i.push({id:-1,type:t,mainText:"No results found"}):this.props.showDefaultInDropdown&&(n.showDropdownTitle=i.length>0,i.unshift({id:0,type:t,mainText:"All Schools"})),n.schoolOptions=i,this.setState(n)}},{key:"getSchoolSearch",value:function(){var e=this;this.setState({loading:!0}),$l().get("/ajax/autocomplete_resultset.php?type=school",{term:""}).done(function(t){t&&e.setState({loading:!1})})}},{key:"loadDefaultSchools",value:function(){this.props.showDefaultInDropdown&&(this.props.shouldFindNearbySchools?this.loadNearbySchools():this.loadTrendingSchools())}},{key:"loadTrendingSchools",value:function(){kc.loadTrendingSchools(),this.setState({dropdownTitleText:"Trending Schools"})}},{key:"loadNearbySchools",value:function(){var e=this;kc.loadNearbySchools(function(t){t&&t.hasOwnProperty("results")&&t.results.hasOwnProperty("length")&&0!==t.results.length?e.setState({dropdownTitleText:"Nearby Schools"},function(){uc.loadDefaultSchools(t.results)}):e.loadTrendingSchools()}.bind(this),function(){e.loadTrendingSchools()}.bind(this))}},{key:"render",value:function(){var e=this.state.searchQuery;0===e.length&&this.state.school&&(e=this.state.school.mainText);var t="";this.props.showDefaultInDropdown&&this.state.showDropdownTitle&&(t=this.state.dropdownTitleText);var r={iconLeft:null,iconRight:null};return r.iconLeft=this.props.iconLeft?this.props.iconLeft:null,r.iconRight=this.props.iconRight?this.props.iconRight:null,this.props.useAutoCompleteIcon?n.createElement(Dc,rc()({showDropdownControl:this.props.showDropdown,activeFilter:this.state.school,dropdownItems:this.state.schoolOptions,value:e,disabled:!!this.props.disabled,placeholder:this.props.placeholder,type:bc.SCHOOL,handleChange:this.handleSearchChange,handleClick:this.handleSearchClick,listClass:"ct_autocompleteList_container",fieldSetAndLabelConfig:this.props.autocompleteFilterFieldSetAndLabel,error:this.props.error,showDropdownTitle:this.state.showDropdownTitle,dropdownTitleText:t},r)):n.createElement(_c,rc()({showDropdownControl:this.props.showDropdown,activeFilter:this.state.school,dropdownItems:this.state.schoolOptions,value:e,disabled:!!this.props.disabled,placeholder:this.state.placeholder,type:bc.SCHOOL,handleChange:this.handleSearchChange,handleClick:this.handleSearchClick,listClass:"ct_autocompleteList_container",error:this.props.error,showDropdownTitle:this.state.showDropdownTitle,dropdownTitleText:t,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onEscapeSearch:this.props.onEscapeSearch},r))}}]),r}(y),Nc=function(){function e(){o()(this,e)}return l()(e,null,[{key:"pluralize",value:function(e,t){return Array.isArray(t)?1===e?t[0]:t[1]:t+(1===e?"":"s")}},{key:"boldWord",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"strong",n=new RegExp("("+this.escapeRegExp(t)+")","gi");return e.replace(n,"<"+r+">$1</"+r+">")}},{key:"formatNumber",value:function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"escapeRegExp",value:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"removeSpaces",value:function(e){return e.replace(/\s+/g,"")}},{key:"decodeHtmlEntities",value:function(e){return e.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")}}]),e}(),xc=function(e){var t=e.suggestions.map(function(t){var r=Nc.boldWord(t.text,e.queryString),i='<i class="chi-search"></i> '.concat(r);return n.createElement("li",{key:t.id,className:e.selectedSuggestion&&t.id===e.selectedSuggestion.id?"suggestion active":"suggestion",onClick:e.onClick.bind(null,t),dangerouslySetInnerHTML:{__html:i}})});return e.suggestions.length>0?n.createElement("ul",null,t):null},Uc=function(e){return n.createElement("div",{className:"sw_suggestions_container"},e.suggestionHeader,n.createElement(xc,{suggestions:e.suggestions,onClick:e.onSuggestionSelect,selectedSuggestion:e.selectedSuggestion,queryString:e.queryString}))},Ic=function(e){var t="sw_search_bar ".concat(e.searchBarClassName),r=e.isExpanded?null:n.createElement("i",{className:"chi-search-alt sw_icon sw_search_icon"}),i=e.suggestions.length>0&&e.areSuggestionsVisible?n.createElement("div",{className:"sw_suggestions_dropdown"},n.createElement(Uc,{userId:e.userId,onSuggestionSelect:e.onSuggestionSelect,suggestions:e.suggestions,selectedSuggestion:e.selectedSuggestion,suggestionHeader:e.suggestionHeader,queryString:e.queryString}),e.suggestionFooter):null;return n.createElement("div",{className:t},n.createElement("input",{type:"search",ref:e.inputRef,className:e.inputClassName,placeholder:e.placeholderText,"aria-label":e.placeholderText,onChange:e.onTextChange,onFocus:e.onFocus,onBlur:e.onBlur,onKeyDown:e.onKeyDown,value:e.queryString}),r,i)},Pc=function(e){var t=void 0!==e.title?e.title:"Can't find what you're looking for?",r=void 0!==e.tagline?e.tagline:"Ask our tutors a study question, on us.",i=void 0!==e.buttonUrl?e.buttonUrl:"/tutors/homework-help/",a=void 0!==e.buttonText?e.buttonText:"Get Free Homework Help",o=void 0!==e.buttonTarget?e.buttonTarget:"_blank",s=void 0!==e.finePrint?e.finePrint:"",l="panel isUpsell1 isBordered askQuestionCta";l+=void 0!==e.wrapperClass?" ".concat(e.wrapperClass):"";var c=e.iconUrl||"/assets/img/search/qa-icon.svg";if(e.isEducator)return null;return n.createElement("div",{className:l},n.createElement("div",{className:"grid _noBottom"},n.createElement("div",{className:"column8 tablet6 phone12"},n.createElement("img",{src:c,className:"qaIcon hideWhenSmushesText",alt:r}),n.createElement("div",{className:"details"},n.createElement("p",{className:"banner_help_title"},t),n.createElement("p",null,r))),n.createElement("div",{className:"column4 tablet6 phone12 isMiddleAligned"},n.createElement("a",{onClick:function(){j({actionType:D.BANNER,text:a,intent:"Navigate to homework help page",destinationURL:i,xpath:"get_homework_help_button"})},href:i,target:o,className:"tertiaryButton1 isSmall","data-cha-target-name":"get_homework_help_button","data-cha-action-type":"visit"},a))),n.createElement("span",{className:"finePrint"},s))},Fc=function(e){var t=e.title||"This page could not load.",r=e.message||"We're sorry for the inconvenience";return n.createElement("div",{className:"error-page"},n.createElement("h1",{className:"error-page-title"},t),n.createElement("p",{className:"error-page-message"},r))};function zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Lc=function(e){p()(r,e);var t=zc(r);function r(){var e;o()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).el=void 0,e}return l()(r,[{key:"componentDidMount",value:function(){this.el&&(this.el.indeterminate=this.props.indeterminate)}},{key:"componentDidUpdate",value:function(e){this.el&&e.indeterminate!==this.props.indeterminate&&(this.el.indeterminate=this.props.indeterminate)}},{key:"render",value:function(){var e=this;return n.createElement("input",rc()({},this.props,{type:"checkbox",ref:function(t){return e.el=t}}))}}]),r}(n.Component);function Mc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Bc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(r),!0).forEach(function(t){R()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Hc=function(e){p()(r,e);var t=jc(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).childrenAreHomogenous=function(e,t){var r=e[t.children[0].value].isActive;return t.children.slice(1).every(function(t){return e[t.value].isActive===r})},n.toggleMultiSelect=function(e){var t,r,i=Bc({},n.state.filterHash),a=i[e.value],o=e.children,s=a.parent;if(a){if(r=o&&o.length>0&&!n.childrenAreHomogenous(n.state.filterHash,e),a.isActive=!!r||!a.isActive,o&&o.length>0&&o.forEach(function(e){i[e.value].isActive=a.isActive}),s){var l=!n.childrenAreHomogenous(i,s);i[s.value].isActive=!!l||i[e.value].isActive}t=Object.keys(i).filter(function(e){return i[e].isActive}),n.props.onChange(t)}},n.createFilterHash=n.createFilterHash.bind(u()(n)),n.toggleMultiSelect=n.toggleMultiSelect.bind(u()(n)),n.renderSelectItem=n.renderSelectItem.bind(u()(n)),n.state={filterHash:n.createFilterHash(n.props.options)},n}return l()(r,[{key:"componentDidUpdate",value:function(e){this.props.value===e.value&&this.props.options===e.options||this.setState({filterHash:this.createFilterHash(this.props.options)})}},{key:"createFilterHash",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.reduce(function(e,n){var i=n.value,a=n.children,o=-1!==t.props.value.indexOf(i);if(a&&a.length>0){var s=t.createFilterHash(a,n,o);e=Bc(Bc({},e),s)}return e[i]={isActive:o,parent:r},e},{})}},{key:"renderSelectItem",value:function(e){var t,r,i,a,o,s=e.value,l=this.state.filterHash,c=this.props.showTooltips?n.createElement(n.Fragment,null,""):null;l&&l[s]&&(t=l[s].isActive),e.children&&e.children.length>0&&(r=n.createElement("ul",{className:"multiSelectChildList"},e.children.map(this.renderSelectItem,"multiSelectChildItem")),i=(i=!this.childrenAreHomogenous(this.state.filterHash,e))?"true":null),a=(this.props.chaTargetPrefix?"".concat(this.props.chaTargetPrefix,"_"):"")+"checkbox_".concat(e.display),this.props.showTooltips&&e.description&&(c=n.createElement("span",{className:"tooltip"},n.createElement("span",{className:"text",dangerouslySetInnerHTML:{__html:e.description}}))),o=this.props.showCount&&e.count?"(".concat(e.count,")"):"";var u={};return this.props.chaAmplitudeName&&(u["data-cha-amplitude-name"]=this.props.chaAmplitudeName),n.createElement("li",{className:"multiSelectItem msi-"+e.value,key:e.value},n.createElement("label",{className:"checkBox"},n.createElement(Lc,rc()({type:"checkbox",className:i?"checkBoxIndeterminate":"",checked:t,indeterminate:i,onChange:this.toggleMultiSelect.bind(null,e),"data-cha-target-name":a,"data-cha-action-type":"click","cha-js-event-type":"change"},u))," ",n.createElement("span",{className:"multiSelectLabel"},e.display,c,o)),r)}},{key:"render",value:function(){if(this.props.options){var e=this.props.options.map(this.renderSelectItem);return n.createElement("ul",{className:"multiSelectList"},e)}}}]),r}(n.Component),qc=function(e){var t=function(t,r){r.preventDefault(),e.onChange(t)},r=e.items.map(function(r){var i="pill";return r.id===e.selected&&(i+=" isActive"),n.createElement("a",{href:"#",key:r.id,onClick:t.bind(null,r),className:i},r.name)});return n.createElement("div",{className:"pillGroup"},r)};function Gc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Wc=function(e){p()(r,e);var t=Gc(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).searchUrl=void 0,n.type=void 0,n.state={school:{id:0,type:n.type},schoolOptions:[],searchQuery:"",loading:!1},n.getSearch=n.getSearch.bind(u()(n)),n.handleSearchChange=n.handleSearchChange.bind(u()(n)),n.handleSearchClick=n.handleSearchClick.bind(u()(n)),n.onFilterStoreUpdate=n.onFilterStoreUpdate.bind(u()(n)),n.searchUrl="",n}return l()(r,[{key:"componentDidMount",value:function(){var e=bc.getActiveFilter(this.type);!e&&this.props.defaultSchoolFilter&&this.props.defaultSchoolFilter.id&&(e=this.props.defaultSchoolFilter),this.setState({school:e}),this.getSearch(),bc.listen(bc.events.UPDATE,this.onFilterStoreUpdate)}},{key:"componentDidUpdate",value:function(e,t){t.school&&!this.state.school&&this.setState({searchQuery:""})}},{key:"componentWillUnmount",value:function(){bc.ignore(bc.events.UPDATE,this.onFilterStoreUpdate)}},{key:"handleSearchChange",value:function(e,t){this.props.onSearchChange&&this.props.onSearchChange(t),this.setState({searchQuery:t}),""===t.trim()?(uc.resetActive(e),e==bc.COURSE?uc.clearSelectedCourseFilter():e==bc.SUBJECT?uc.clearSelectedSubjectFilter():e==bc.DEPARTMENT?uc.clearSelectedDepartmentFilter():e==bc.COURSE_NUMBER?uc.clearSelectedCourseNumberFilter():e==bc.COURSE_TITLE?uc.clearSelectedCourseTitleFilter():e==bc.PROFESSOR&&uc.clearSelectedProfessorFilter(),this.props.handleUpdate&&this.props.handleUpdate(null)):uc.doSearch({type:e,value:t},!0)}},{key:"handleSearchClick",value:function(e,t){this.props.disabled||(this.props.handleUpdate({name:t.mainText,id:t.id,extraText:t.extraText,extraSubText:t.extraSubText}),this.setState({searchQuery:t.mainText,school:t}),uc.setActiveFilter(t),this.getSearch())}},{key:"onFilterStoreUpdate",value:function(e,t){var r=bc.getFilters(t);0===r.length&&r.push({id:-1,type:t,mainText:"No results found"}),this.setState({schoolOptions:r})}},{key:"getSearch",value:function(){var e=this;this.setState({loading:!0}),$l().get("/ajax/autocomplete_resultset.php?type=subject",{term:""}).done(function(t){t&&e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.props.disabled&&this.props.value?this.props.value:this.state.searchQuery;!this.props.dropdownAlternative&&0===e.length&&this.state.school&&(e=this.state.school.mainText);var t=this.props.dropdownAlternative;return t&&(t=n.createElement(this.props.dropdownAlternative,{value:this.state.searchQuery,onClickHandler:this.props.dropdownAlternativeOnClick},[])),n.createElement(Dc,{showDropdownControl:this.props.showDropdown,activeFilter:this.state.school,dropdownItems:this.state.schoolOptions,value:e,disabled:this.props.disabled,placeholder:this.props.placeholder,type:this.type,handleChange:this.handleSearchChange,handleClick:this.handleSearchClick,listClass:"ct_autocompleteList_container",error:this.props.error,fieldSetAndLabelConfig:this.props.autocompleteFilterFieldSetAndLabel,dropdownLimit:this.props.dropdownLimit,hideListAside:this.props.hideDetails,dropdownAlternative:t,handleBlurEventTarget:this.props.handleBlurEventTarget})}}]),r}(y);function Qc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Vc=function(e){p()(r,e);var t=Qc(r);function r(){var e;o()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).type=bc.COURSE,e}return l()(r,[{key:"componentDidMount",value:function(){bc.listen(bc.events.UPDATE,this.onFilterStoreUpdate)}},{key:"onFilterStoreUpdate",value:function(e,t){var r=bc.getActiveCourseFilter(),n=bc.getFilters(bc.COURSE);0===n.length&&n.push({id:-1,type:t,mainText:"No results found"}),this.setState({schoolOptions:n,school:r})}}]),r}(Wc);function Kc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Xc,$c=function(e){p()(r,e);var t=Kc(r);function r(){var e;o()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).type=bc.SUBJECT,e}return l()(r,[{key:"onFilterStoreUpdate",value:function(e,t){var r=bc.getActiveSubjectFilter(),n=bc.getFilters(bc.SUBJECT);0===n.length&&n.push({id:-1,type:t,mainText:"No results found"}),this.setState({schoolOptions:n,school:r})}}]),r}(Wc);!function(e){e.MULTI="multi",e.COURSE="course",e.SORT="sort",e.SUBJECT="subject"}(Xc||(Xc={}));var Yc=Xc;function Jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Zc=function(e){p()(r,e);var t=Jc(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).preventClose=!1,n.state={activeMenuElement:null},n.toggleFilter=n.toggleFilter.bind(u()(n)),n.closeDropdown=n.closeDropdown.bind(u()(n)),n}return l()(r,[{key:"toggleFilter",value:function(e){var t=this,r=$(e.target).closest(".filterDropdownWrapper");e.preventDefault(),r.is(this.state.activeMenuElement)?this.closeDropdown(e,!0):(document.removeEventListener("click",this.closeDropdown),this.setState(function(e,t){return{activeMenuElement:r}},function(){t.props.isMobile||(document.addEventListener("click",t.closeDropdown),$("body").addClass("testGrid2Overlay"))}))}},{key:"closeDropdown",value:function(e,t){var r=this,n=$(e.target).closest(".isHighlighted").is(this.state.activeMenuElement);e.target.classList.contains("ct_mainText_text");t||!this.preventClose&&!n?this.setState({activeMenuElement:null},function(){0===$(".filterDropdownWrapper.isHighlighted").length&&$("body").removeClass("testGrid2Overlay"),document.removeEventListener("click",r.closeDropdown)}):this.preventClose=!1}},{key:"componentWillUnmount",value:function(){$("body").removeClass("testGrid2Overlay"),document.removeEventListener("click",this.closeDropdown)}},{key:"render",value:function(){var e=this,t=function(t,r){var n=Ml.sanitize(e.props.value,ke.schema);switch(t){case"school":r?(n.school_id=r.id,n.school_name=r.mainText,n.course_id=null,n.course_name="",n.course_num=""):n=null,e.preventClose=!0;break;case"course":r?(n.course_id=r.id,n.course_name=r.mainText):(n.course_id=null,n.course_name="",n.course_num="")}e.props.onChange(n)},r=function(t){t?e.props.onChange({subject_id:t.id,subject_name:t.name}):e.props.onChange(null)},i=null;return this.props.tooltip&&(i=n.createElement("span",{className:"tooltip"},n.createElement("span",{className:"text",dangerouslySetInnerHTML:{__html:this.props.tooltip}}),this.props.isMobile?null:" What are these?")),n.createElement("div",{className:"filterDropdownWrapper"+(this.state.activeMenuElement?" isHighlighted":"")},n.createElement("div",{className:this.props.isMobile?"filterByMobile filterBlock":"filterByDropdown buttonDropdown"},this.props.label?n.createElement("span",{className:this.props.isMobile?"blockTitle":"filterDropdownLabel"},this.props.label," ",this.props.isMobile?i:null):null,n.createElement("button",{className:"filterByChosenContainer hideInPhone",type:"button",onClick:this.toggleFilter,"data-cha-target-name":"study_materials_filters_dropdown","data-cha-action-type":"click"},n.createElement("span",{className:"filterByChosenLabel"},this.props.title),n.createElement("i",{className:"chi-triangle-down"})),n.createElement("div",{className:"filterOptions buttonDropdownMenu"+(this.state.activeMenuElement?" isShown":"")},function(){var i=e.props.filter;switch(i.type){case Yc.MULTI:return n.createElement(Hc,{options:i.options,value:e.props.value,onChange:e.props.onChange});case Yc.COURSE:var a=e.props.value&&e.props.value.school_id?{id:e.props.value.school_id,type:"school",mainText:e.props.value.school_name}:null,o=e.props.value&&e.props.value.course_id?{id:e.props.value.course_id,type:"course",mainText:e.props.value.course_name}:null;return n.createElement(n.Fragment,null,n.createElement(Oc,{defaultSchoolFilter:null,value:a?a.mainText:"",handleUpdate:t.bind(null,"school"),placeholder:"School Name",updateWithFullFilter:!0,dropdownLimit:5}),n.createElement(Vc,{defaultSchoolFilter:null,handleUpdate:t.bind(null,"course"),placeholder:"Course Name",autocompleteFilterFieldSetAndLabel:{noWrapper:!0},value:o?o.mainText:"",disabled:!a,dropdownLimit:5,hideDetails:!0}));case Yc.SORT:if(e.props.isMobile)return n.createElement(qc,{items:i.options.map(function(e){return{name:e.display,id:e.value}}),selected:e.props.value,onChange:e.props.onChange});var s=e.props.filter.options.filter(function(t){return t.value===e.props.value})[0]||e.props.filter.options[0];return i.options.map(function(t){return n.createElement("button",{className:"sortByOption"+(t===s?" isActive":""),onClick:function(r){r.preventDefault(),e.props.onChange({name:t.display,id:t.value})},key:t.value,"data-cha-target-name":"sort_by_"+t.value,"data-cha-action-type":"click"},t.display)});case Yc.SUBJECT:var l=e.props.value?e.props.value.subject_name:"";return n.createElement($c,{defaultSchoolFilter:null,value:l,handleUpdate:r,placeholder:"Subject Name",dropdownLimit:5,autocompleteFilterFieldSetAndLabel:{}});default:console.error("No valid type for filter",i)}}(),this.props.isMobile?null:i)))}}]),r}(n.Component);function eu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var tu,ru=function(e){p()(r,e);var t=eu(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={viewAll:!1},n.onFilterChange=n.onFilterChange.bind(u()(n)),n.onSortChange=n.onSortChange.bind(u()(n)),n.toggleViewAll=n.toggleViewAll.bind(u()(n)),n.resetFilters=n.resetFilters.bind(u()(n)),n}return l()(r,[{key:"componentDidUpdate",value:function(e){!this.props.isMobile&&e.isMobile?this.adjustMobileScrolling(!0):this.props.isMobile&&!e.isMobile&&this.state.viewAll&&this.adjustMobileScrolling(!1)}},{key:"onFilterChange",value:function(e,t){this.props.updateFilter(t,e)}},{key:"onSortChange",value:function(e){this.props.updateSortBy("".concat(e.id))}},{key:"resetFilters",value:function(e){e.preventDefault(),this.props.resetFilters()}},{key:"toggleViewAll",value:function(e){var t=this;e&&e.preventDefault(),this.setState({viewAll:!this.state.viewAll},function(){t.props.isMobile&&t.adjustMobileScrolling(!t.state.viewAll)})}},{key:"adjustMobileScrolling",value:function(e){if(e)$("body").removeClass("searchFilterIsActive"),$("#ch-body").css("height","auto");else{var t=$(".filterList").css("height");$("body").addClass("searchFilterIsActive"),$("#ch-body").css("height",t)}this.props.onCanScrollResultsChange(e)}},{key:"componentDidMount",value:function(){$(window).on("_ch.search.filter.toggle_view",this.toggleViewAll);var e=this.props.selectedFilters;if(this.props.selectedFilters&&this.props.selectedFilters.course&&(uc.setActiveFilter({type:"school",id:e.course.school_id,mainText:e.course.school_name}),e.course.course_id)){var t=e.course.dept_acro?e.course.dept_acro:"",r="".concat(t," ").concat(e.course.course_num);uc.setActiveFilter({type:"course",id:e.course.course_id,mainText:r})}if(this.props.selectedFilters&&this.props.selectedFilters.subject){var n=this.props.selectedFilters.subject;uc.setActiveFilter({type:"subject",id:n.subject_id,mainText:n.subject_name})}}},{key:"componentWillUnmount",value:function(){$(window).off("_ch.search.filter.toggle_view",this.toggleViewAll)}},{key:"render",value:function(){var e=this,t=[],r=null,i="";this.props.availableFilters.forEach(function(i){var a=e.props.selectedFilters[i.field],o=(i.display,null),s=null;if("type"===i.field&&i.options){"Resource Type";var l=i.options.map(function(e){var t=e.display,r=e.description;return t&&r?"<b>".concat(t,"</b> ").concat(r):null}).filter(function(e){return null!=e}).join("<br /><br />");l&&(o=l),s="Filter by"}var c=n.createElement(Zc,{title:i.display,label:s,tooltip:o,filter:i,onChange:e.onFilterChange.bind(null,i.field),value:a,isMobile:e.props.isMobile});"type"!==i.field?!e.state.viewAll&&e.props.isMobile||t.push(c):r=c});var a=this.props.availableSortBy.filter(function(t){return t.value===e.props.selectedSortBy})[0].display,o=n.createElement(Zc,{title:a,label:"Sort By",tooltip:null,filter:new mr({type:Yc.SORT,options:this.props.availableSortBy}),onChange:this.onSortChange,value:this.props.selectedSortBy,isMobile:this.props.isMobile}),s="panel isBordered filterList";return this.props.isMobile?s+=" filterPanelMobile":(i+=" column12 grid_center",s="filtersContainer container grid"),this.state.viewAll&&(s+=" isActive"),n.createElement("div",{className:"topFilters"+i},n.createElement("form",{className:s},n.createElement("div",{className:"panelTitle hideInTablet hideInDesktop"},n.createElement("button",{onClick:this.toggleViewAll,type:"button",className:"filterBackButton linkButton1"},n.createElement("i",{className:"chi-arrow-left"})," Filter")),r,o,t,n.createElement("a",{className:"resetFilter",href:"#",onClick:this.resetFilters},"Reset filter")))}}]),r}(y),nu=function(e){var t=e.location;if(!t)return null;var r=[t.zip,t.city,t.state].filter(function(e){return null!=e}).join(", ");return r?(e.details&&(r+=" - ".concat(e.details)),n.createElement("div",{className:"geoInfo"},n.createElement("i",{className:"chi-map-marker"})," ",r)):null},iu=function(e){var t,r,i,a,o;return a=e.resultsSingular||"result",o=e.resultsPlural||"results",t=1===e.numResults?a:o,e.isMobile&&!e.loading&&(i=n.createElement("button",{className:"filterButton ghostButton1 isSmall",onClick:e.onFilterClick,"data-cha-target-name":"mobile_link_to_filters","data-cha-action-type":"click"},"Filter")),r=e.loading||e.isMobile&&e.numResults<1?null:n.createElement(n.Fragment,null,e.numResults.toLocaleString()+" "+t+" ",n.createElement("span",{className:"hideInPhone"},'for "',n.createElement("strong",null,e.query),'"')),n.createElement("div",{className:"resultDetails resultDetailsLoader"},i,r)},au=r(15),ou=r.n(au),su=function(e){var t=n.createElement(n.Fragment,null,"your search"),r=e.className?"no-results "+e.className:"no-results";return e.query&&(t=n.createElement("span",{className:"no-results-query"},e.query)),n.createElement("div",{className:r},n.createElement("h1",{className:"no-results-header"},"No results found for ",t),n.createElement("p",{className:"no-results-message"},"You can try:"),n.createElement("ul",{className:"no-results-suggestions dottedList"},n.createElement("li",{className:"no-results-suggestions-item"},"Using more general terms (exam prep, notes, essay, etc)"),n.createElement("li",{className:"no-results-suggestions-item"},"Checking your spelling"),n.createElement("li",{className:"no-results-suggestions-item"},"Adding or removing filters")))},lu=function(e){var t=[];for(var r in e)e[r]&&t.push(r);return t.join(" ")},cu=function(e){var t=e.className,r=void 0===t?"":t,i=e.width,a=void 0===i?"":i,o=e.noGutter,s=void 0!==o&&o,l=e.isTopAligned,c=void 0!==l&&l,u=e.isMiddleAligned,h=void 0!==u&&u,p=e.isFirstColumn,d=void 0!==p&&p,f=e.isLastColumn,m=void 0!==f&&f,g=e.noGrow,b=void 0!==g&&g,v=e.isCenterAligned,y=void 0!==v&&v,S=e.isRightAligned,E=void 0!==S&&S,_=e.children,w="column".concat(a).concat(0!=r.length?" "+r:"");return w+=" "+lu({_noGutter:s,isTopAligned:c,isMiddleAligned:h,isFirstColumn:d,isLastColumn:m,noGrow:b,isCenterAligned:y,isRightAligned:E}),n.createElement("div",{className:w},_)},uu=function(e){var t=e.center,r=void 0!==t&&t,i=e.left,a=void 0!==i&&i,o=e.right,s=void 0!==o&&o,l=e.top,c=void 0!==l&&l,u=e.reverse,h=void 0!==u&&u,p=e.column,d=void 0!==p&&p,f=e.columnReverse,m=void 0!==f&&f,g=e.spaceBetween,b=void 0!==g&&g,v=e.spaceAround,y=void 0!==v&&v,S=e.noBottom,E=void 0!==S&&S,_=e.noSideMargin,w=void 0!==_&&_,R=e.children,T=e.numColumns,C="grid".concat(T||"");return C+=" ".concat(lu({_center:r,_left:a,_right:s,_top:c,_reverse:h,_column:d,_columnReverse:m,_spaceBetween:b,_spaceAround:y,_noBottom:E,_noSideMargin:w})),n.createElement("div",{className:C},R)},hu=function(e){var t=e.children,r=e.className,i=void 0===r?"":r,a="well".concat(i.length>0?" "+i:"");return n.createElement("div",{className:a},t)},pu=function(){return n.createElement("div",{className:"textbookThumbnailCopyright",onClick:function(e){e.preventDefault(),e.stopPropagation()}},n.createElement("span",{className:"tooltip customTooltip popDown"},n.createElement("span",{className:"text textCenter"},"This textbook can be purchased at www.amazon.com"),n.createElement("span",{className:"textbookThumbnailCopyrightSymbol"},"")))},du=function(e){var t=e.textbook,r=e.isMobile,i=void 0!==r&&r,a=t.title,o=t.cover_url?t.cover_url:"http://images.amazon.com/images/P/1337408336.jpg",s=n.createElement("a",{href:t.url,title:a,className:"textbookTitle"},n.createElement("strong",{dangerouslySetInnerHTML:{__html:a}})),l=n.createElement("div",{className:"textbookPhotoCopyrightContainer"},n.createElement("a",{href:t.url,title:a},n.createElement("img",{src:o,className:"textbookPhoto",alt:a})),n.createElement(pu,null)),c=(t.exercises||[]).map(function(e){var t="Chapter ".concat(e.chapter.num,", Section ").concat(e.section.num,", ").concat(e.section.title,", Exercise ").concat(e.exercise_num);return n.createElement("a",{className:"panel textbookExerciseLink",href:e.url},n.createElement("span",null,t),n.createElement("i",{className:"chi-pointer-circle-right"}))});if(i)return n.createElement(hu,{className:"textbookSnippet"},n.createElement(uu,null,n.createElement(cu,{className:"textbookPhotoContainer"},l),n.createElement(cu,{width:"8",className:"textbookTitleContainer"},n.createElement(uu,null,n.createElement(cu,{width:"12"},s),n.createElement(cu,{width:"12"},n.createElement("a",{className:"chapterListLink isLarge",href:t.url},"View all chapters ",n.createElement("i",{className:"chi-pointer-right"})))))),n.createElement(uu,{noBottom:!0},c.slice(0,1).map(function(e){return n.createElement(cu,{width:"12"},e)})));var u="textbookSnippetContainer",h=6;return 0==c.length&&(u+=" isCollapsed",h=12),n.createElement("section",{className:u},n.createElement(hu,{className:"textbookSnippet"},n.createElement(uu,{noBottom:!0},n.createElement(cu,{width:"3",className:"textbookPhotoContainer"},l),n.createElement(cu,null,n.createElement(uu,{noBottom:!0},n.createElement(cu,{width:"12",className:"textbookTitleContainer"},s),n.createElement(cu,{width:h},n.createElement("p",{className:"textbookDetails"},t.edition_name&&"".concat(t.edition_name,".")," ",t.author,n.createElement("br",null),"ISBN: ",t.isbn)),n.createElement(cu,{width:h},n.createElement("ul",{className:"chapterList"},t.chapters&&t.chapters.map(function(e){return n.createElement("li",{key:e.url,className:"chapterListItem"},n.createElement("a",{href:e.url},e.name))}),n.createElement("li",{className:"chapterListItem"},n.createElement("a",{href:t.url},"View all chapters ",n.createElement("i",{className:"chi-arrow-right"})))))),n.createElement(uu,{noBottom:!0},c.slice(0,2).map(function(e){return n.createElement(cu,null,e)}))))))};!function(e){e.CONVERSION_QUEUE="conversionQueue",e.JOB="job",e.DOCUMENT="document",e.QUESTION="question",e.QA_THREAD="qa_thread",e.FLASHCARD="flashcard",e.FLASHCARDS="flashcards",e.BOOK="book",e.SOCIAL_SHARE="social_share",e.STUDY_GUIDE="study_guide",e.INFOGRAPHIC="infographic",e.EDU_INFOGRAPHIC="edu-infographic",e.BEST_LESSONS="best_lesson",e.PROFILE="profile",e.TUTOR="expert",e.ECOURSE_TYPE="e-course",e.ANSWER="answers",e.COURSE="course",e.COURSE_STUDYGUIDE="course_studyguide",e.LIT_STUDYGUIDE="lit_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.BOOKMARK="bookmark",e.ALL="all",e.TEXTBOOK_EXERCISE="textbook_exercise",e.TEXTBOOK="textbook"}(tu||(tu={}));var fu=tu,mu=function(e){var t=e.callout;e.isMobile;switch(t.type){case fu.TEXTBOOK:return n.createElement(du,{textbook:t.textbook,isMobile:e.isMobile})}return null},gu=r(13),bu=function(e){var t=e.items.map(function(t,r){var i=t.label?n.createElement("span",{className:e.labelClassName},t.label):null,a=t.icon?n.createElement("i",{className:e.iconClassName+" "+t.icon}):null,o=n.createElement("span",{className:e.valueClassName},t.value),s=n.createElement(n.Fragment,null,a,i,o);return t.url&&(s=n.createElement("a",{href:t.url},s)),n.createElement("li",{className:"listItem",key:r},s)});return t&&t.length?n.createElement("ul",{className:e.className},t):null},vu=r(18),yu=function(e){var t=e.className,r=void 0===t?"":t;return n.createElement("div",{className:"".concat(vu.newMarker," ").concat(r)})},Su={DEFAULT_CONTENT_THUMBNAIL:"/assets/img/default_content_thumbnail.svg",DEFAULT_COURSE_THUMBNAIL:"/assets/img/courses/icons-standardized/Generic_Blue.svg"};function Eu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var _u,wu=function(e){p()(r,e);var t=Eu(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={src:e.src},n.handleError=n.handleError.bind(u()(n)),n}return l()(r,[{key:"handleError",value:function(){var e=this.props.fallbackUrl||Su.DEFAULT_CONTENT_THUMBNAIL;this.state.src!=e&&this.setState({src:e})}},{key:"componentDidUpdate",value:function(e){e.src!==this.props.src&&this.setState({src:this.props.src})}},{key:"render",value:function(){var e=null;if(this.props.overlayText&&"0"!==this.props.overlayText){var t=Nc.pluralize(parseInt(this.props.overlayText),["page","pages"]);e=n.createElement("span",{className:"thumbnailOverlayText"},this.props.overlayText,n.createElement("span",{className:"thumbnailOverlayTextDescription"},t))}return n.createElement("div",{className:"thumbnail"},n.createElement("img",{className:"thumbnailImg",src:this.state.src,alt:this.props.alt,onError:this.handleError}),e)}}]),r}(y),Ru=/\w/,Tu=/<[^\/>]+>/,Cu=/<\/[^>]+>/,Du=/\b\S+\b/,ku=/\s|\d/,Au=/\s*(<[^\/\s>]+>\s*<\/[^\s<]+>)+\s*$/,Ou=function(){function e(){o()(this,e)}return l()(e,null,[{key:"parseTag",value:function(e,t){var r;return e?e.length>t&&ku.exec(e[t+1])?"<":(r=e.indexOf(">",t),e.slice(t,r+1)):null}},{key:"insertClosingTag",value:function(e,t,r){var n="</".concat(t,">");return{updatedString:e.slice(0,r)+n+e.slice(r),insertedString:n}}},{key:"closeTagsFromStack",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i="",a=t.slice();if(!e||!a||!a.length)return{updatedString:e,insertedString:i};for(r=e;a.length>0;){var o=this.insertClosingTag(r,a.shift(),n);i+=o.insertedString,r=o.updatedString}return{updatedString:r,insertedString:i}}},{key:"truncate",value:function(e){var t,r,n,i,a=0,o=[];if(t=(e=e||{}).source,r=e.maxChar,n=!0===e.isHTML,i=!1!==e.stripEmpty,!t||!t.length||!r||r>=t.length)return t;for(;a<r&&a<t.length;)if("<"===t[a]&&n){var s=this.parseTag(t,a),l=s.length;if(!s)break;if(Tu.exec(s))o.push(s.match(Du)[0]);else if(Cu.exec(s)){var c,u=s.match(Du)&&s.match(Du)[0],h=o.indexOf(u),p=void 0;-1===h?(p=o,o=[]):(p=o.slice(h+1),o=o.slice(0,h)),t=(c=this.closeTagsFromStack(t,p,a)).updatedString,c.insertedString.length}a+=l,r+=l}else a+=1;if(Ru.exec(t[a]))for(;Ru.exec(t[a])&&a>0;)a-=1;return">"===t[a]&&(a+=1),t=t.slice(0,a),t=this.closeTagsFromStack(t,o,a).updatedString,n&&i&&(t=t.replace(Au,"")),t+"..."}}]),e}(),Nu=function(e){var t,r;!function(e){e.PENDING_SMS="Awaiting SMS Verification",e.PENDING_SUBMIT="Awaiting Submit",e.PENDING_PAYMENT="Awaiting Payment"}(r||(r={}));var i,a=(t={},R()(t,r.PENDING_SMS,"Continue Verification"),R()(t,r.PENDING_SUBMIT,"Continue Submit"),R()(t,r.PENDING_PAYMENT,"Continue Payment"),t),o=e.contentType,s=e.isNew,l=void 0!==s&&s,c=e.status,u=e.title,h=e.text,p=e.thumbnailUrl,d=e.thumbnailText,f=e.useDangerouslySetInnerHTML,m=void 0!==f&&f,g=null,b=null,v=null,y=null,S=e.url,E=null,_=null,w=a[c]||"View";if(i="regularSnippet"+(e.className?" ".concat(e.className):""),u)if(o!==fu.QUESTION)g=m?n.createElement("p",{className:"title",dangerouslySetInnerHTML:{__html:u}}):n.createElement("p",{className:"title"}," ",u," ");else if(p){var T=Ou.truncate({source:h?"Q: "+h:u,maxChar:170,isHTML:!0});g=m?n.createElement("p",{className:"title",dangerouslySetInnerHTML:{__html:T}}):n.createElement("p",{className:"title"}," ",T)}h&&o!==fu.QUESTION&&(y=m?n.createElement("p",{className:"contentItemText",dangerouslySetInnerHTML:{__html:h}}):n.createElement("p",{className:"contentItemText"},h));var C;if(p)C=n.createElement(wu,{src:p,alt:"",overlayText:d,fallbackUrl:e.thumbnailFallbackUrl}),b=-1!==[fu.TEXTBOOK,fu.TEXTBOOK_EXERCISE].indexOf("".concat(o))?n.createElement("div",{className:"textbookThumbnailContainer"},C,n.createElement(pu,null)):C;else if(u){var D=Ou.truncate({source:u,maxChar:"question"===o?170:80,isHTML:!0});b=m?n.createElement("div",{className:"thumbnailAlternative",dangerouslySetInnerHTML:{__html:D}}):n.createElement("div",{className:"thumbnailAlternative"},D)}if(e.status){var k="label status"+(e.statusClassName?" ".concat(e.statusClassName):"");v=n.createElement("div",{className:k},e.status)}e.header&&e.header.length>0&&(E=n.createElement(bu,{items:e.header,className:"taxonomy"})),e.footer&&e.footer.length>0&&(_=n.createElement(bu,{items:e.footer,className:"question"==o&&p?"stats questionThumbnail":"stats",labelClassName:"statTitle",valueClassName:"statValue",iconClassName:"statIcon"}));var A=null;S&&(A=n.createElement("a",{className:"viewButton secondaryButton1 isSmall"},w),e.isGranite&&(A=n.createElement("a",{href:"#",className:"btn btn-primary viewButton secondaryButton1 isSmall"},w)));var O={"data-cha-action-type":"none","data-cha-action-target-type":e.contentType,"data-cha-action-target-id":e.contentId,"data-cha-target-name":e.chaTargetNamePrefix?"".concat(e.chaTargetNamePrefix,"_content_item"):"content_item","data-cha-interaction-type":"viewed","data-cha-js-event-type":"scroll","data-cha-tracking-viewed-interaction":!0},N={"data-cha-target-name":e.chaTargetNamePrefix?"".concat(e.chaTargetNamePrefix,"_content_item"):"content_item","data-cha-action-type":"visit","data-cha-action-target-type":e.contentType,"data-cha-action-target-id":e.contentId};return e.chaAmplitudeName&&(N["data-cha-amplitude-name"]=e.chaAmplitudeName),e.chaTrackImpression&&(O["data-cha-impression"]="true"),n.createElement("div",rc()({className:i},O),n.createElement("div",{className:"overlay"}),e.actionDropdown,n.createElement("a",rc()({href:S,onClick:e.onClick,className:"snippetLink"},N)),E,g,A,n.createElement("div",{className:"details"},b,n.createElement("div",{className:"excerpt"},y,_),n.createElement("div",{className:"clear"})),l&&n.createElement(yu,null),v,e.children)};!function(e){e[e.MAX_CHARS_WITH_THUMBNAIL=70]="MAX_CHARS_WITH_THUMBNAIL",e[e.MAX_CHARS_NO_THUMBNAIL=200]="MAX_CHARS_NO_THUMBNAIL"}(_u||(_u={}));var xu,Uu=_u,Iu=function(){function e(){o()(this,e)}return l()(e,null,[{key:"doesThumbnailExist",value:function(e){return!!e.thumbnailUrl}},{key:"getThumbnailOverlayText",value:function(t){return e.doesThumbnailExist(t)&&t.type!=fu.COURSE_STUDYGUIDE&&t.type!=fu.LIT_STUDYGUIDE&&t.type!=fu.STUDYGUIDE_VIDEO?t.thumbnailText:null}},{key:"getFixedContentTitleAndText",value:function(t){var r=t.title||"",n=t.text||"",i=e.doesThumbnailExist(t),a="";switch(t.type){case fu.QUESTION:a="Q: ";break;case fu.DOCUMENT:case fu.CONVERSION_QUEUE:t.subType&&t.subType.length&&(a=t.subType[0].toUpperCase()+t.subType.substr(1)+" - ")}if(i){if(r.trim()||(r="Please reference attachment."),!n.trim()){var o=this.getPrettyType(t.type);o&&(n="Please reference attachment (description for this ".concat(o.toLowerCase()," is unavailable)."))}}else-1===[fu.TEXTBOOK_EXERCISE].indexOf(t.type||"")&&n&&(r=n,n="");return r=a+r,{title:r=Ou.truncate({source:r,maxChar:i?Uu.MAX_CHARS_WITH_THUMBNAIL:Uu.MAX_CHARS_NO_THUMBNAIL,isHTML:!0}),text:n}}},{key:"getPrettyType",value:function(e){switch(e){case fu.QUESTION:return"Question & Explanation";case fu.DOCUMENT:case fu.CONVERSION_QUEUE:case fu.BOOKMARK:return"Study Document";case fu.COURSE:return"Course";case fu.COURSE_STUDYGUIDE:return"Subject Study Guide";case fu.LIT_STUDYGUIDE:return"Literature Study Guide";case fu.STUDYGUIDE_VIDEO:return"Study Guide Video";case fu.TEXTBOOK_EXERCISE:return"Solution";case fu.TEXTBOOK:return"Textbook"}return null}}]),e}();!function(e){e.ANSWERED="Solved",e.PENDING="Solution Pending"}(xu||(xu={}));var Pu=xu;function Fu(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return zu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zu(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function zu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lu,Mu=function(e){var t=e.content,r=[],i=e.content.isUserArchived?"Archived":e.status,a=e.content.isUserArchived?"isProcessing":e.statusClassName,o=function(e){var t=[];switch(e.type){case fu.TEXTBOOK_EXERCISE:e.textbook_exercise&&(t.push({value:"".concat(e.textbook_exercise.textbook.title," (").concat(e.textbook_exercise.textbook.edition_name,")")}),t.push({value:e.textbook_exercise.section.title}),t.push({value:"Page ".concat(e.textbook_exercise.page)}));break;case fu.TEXTBOOK:e.textbook&&(t.push({value:"".concat(e.textbook.edition_name,". ").concat(e.textbook.author,".")}),t.push({value:"ISBN: ".concat(e.textbook.isbn)}));break;default:var r=Iu.getPrettyType(e.type);r&&t.push({value:r})}return t}(t);if(t.type!==fu.COURSE&&(t.taxonomy&&t.taxonomy.school&&t.taxonomy.school.school_name&&t.taxonomy.school.school_url&&t.taxonomy.course&&t.taxonomy.course.course_num&&t.taxonomy.course.course_url&&t.taxonomy.department&&t.taxonomy.department.dept_acro?(o.push({url:e.dontShowTaxonomyUrl?null:t.taxonomy.school.school_url,value:t.taxonomy.school.school_name}),o.push({url:e.dontShowTaxonomyUrl?null:t.taxonomy.course.course_url,value:t.taxonomy.department.dept_acro.toUpperCase()+" "+t.taxonomy.course.course_num})):t.taxonomy&&t.taxonomy.subject&&t.taxonomy.subject.subject_name&&o.push({value:t.taxonomy.subject.subject_name})),t.courseResourceData)for(var s,l=Fu(t.courseResourceData);!(s=l()).done;){var c=s.value;r.push({label:c.title,value:c.count.toString()})}else{if(t.type===fu.TEXTBOOK_EXERCISE&&(t.textbook_exercise.solved?r.push({value:"Solved",icon:"chi-check-circle"}):r.push({value:""})),t.type===fu.TEXTBOOK&&t.textbook.num_solutions>0&&r.push({value:"".concat(t.textbook.num_solutions," Solutions"),icon:"chi-check-circle"}),t.date&&-1===[fu.TEXTBOOK,fu.TEXTBOOK_EXERCISE].indexOf(t.type)){var u=gu(t.date);r.push({value:u.format("MM/YYYY"),icon:"chi-time"})}if(t.numViews&&r.push({value:t.numViews.toString(),icon:"chi-view"}),t.status&&!e.status){var h,p=t.status,d=null;p===Pu.ANSWERED?d="chi-check-circle":p===Pu.PENDING&&(d="chi-hourglass"),h={value:p,icon:d},r.unshift(h)}}var f=Iu.getFixedContentTitleAndText(t),m=Iu.doesThumbnailExist(t)?t.thumbnailUrl:void 0,g=Iu.getThumbnailOverlayText(t)||void 0;return n.createElement(Nu,{contentId:t.id,contentType:t.type,header:o,isNew:t.isNew,title:f.title,text:f.text,footer:r,thumbnailUrl:m,thumbnailText:g,thumbnailFallbackUrl:t.thumbnailFallbackUrl,url:t.url,className:t.type+(t.isUserArchived?" isUserArchived":""),status:i,statusClassName:a,actionDropdown:e.actionDropdown,chaAmplitudeName:e.chaAmplitudeName,chaTargetNamePrefix:e.chaTargetNamePrefix,chaTrackImpression:e.chaTrackImpression,onClick:e.onClick,isGranite:e.isGranite,useDangerouslySetInnerHTML:e.useDangerouslySetInnerHTML})},Bu=function(e){var t=e.results.map(function(t,r){if("object"===ou()(t)){var i=t.taxonomy&&t.taxonomy.course&&t.taxonomy.course.course_id&&e.coursesToHideTaxonomyLink.includes(t.taxonomy.course.course_id);return n.createElement("div",{className:"resultsItemContainer",key:r},n.createElement(Mu,{content:t,chaTrackImpression:!0,dontShowTaxonomyUrl:i,useDangerouslySetInnerHTML:!0,onClick:function(){return e.onItemClick(t,r)}}),!e.isMobile&&-1!==[fu.TEXTBOOK,fu.TEXTBOOK_EXERCISE].indexOf(t.type)&&n.createElement(pu,null))}return"function"==typeof t?t():t});if(0===t.length&&!e.loadingResults)return n.createElement(su,{className:"column9 tablet8 phone10",query:e.query});var r=e.callouts?e.callouts.map(function(t){return n.createElement(mu,{callout:t,isMobile:e.isMobile})}):null;return n.createElement(n.Fragment,null,r,t)},ju=function(e){var t=function(t,r){r.preventDefault(),"function"==typeof e.onPage&&e.onPage(t)},r=e.seoLinks?"?page="+(e.currentPage-1):"#",i=e.seoLinks?"?page="+(e.currentPage+1):"#";if(0===e.numPages)return null;var a=1;e.numPages>9&&(e.currentPage+5>=e.numPages?a=e.numPages-8:e.currentPage>5&&(a=e.currentPage-4));var o=Math.min(e.numPages-a+1,9),s=[],l={};if(e.chaAmplitudeName&&(l["data-cha-amplitude-name"]=e.chaAmplitudeName),!e.noPageNums)for(var c=0;c<o;c++){var u=c+a,h=u===e.currentPage?"isActive":"";s.push(n.createElement("li",{key:u},n.createElement("a",rc()({href:"#",onClick:t.bind(null,u),className:h,"data-cha-target-name":"page_link","data-cha-amp-pagination-number":u,"data-cha-action-type":"visit"},l),u)))}var p=e.currentPage>1?n.createElement("li",null,n.createElement("a",rc()({href:r,onClick:function(t){t.preventDefault(),"function"==typeof e.onPrev&&e.onPrev()},className:"prev changed","data-cha-target-name":"page_link_prev","data-cha-action-type":"visit"},l),n.createElement("i",{className:"chi-pointer-left-bold"}),"Prev")):null,d=e.currentPage<e.numPages?n.createElement("li",null,n.createElement("a",rc()({href:i,onClick:function(t){t.preventDefault(),"function"==typeof e.onNext&&e.onNext()},className:"next","data-cha-target-name":"page_link_next","data-cha-action-type":"visit"},l),"Next ",n.createElement("i",{className:"chi-pointer-right-bold"}))):null;return n.createElement("ul",{className:"pagination"},p,s,d)};!function(e){e.HOMEPAGE="homepage",e.HEADER="header",e.IOS="ios_app",e.ANDROID="android_app",e.RELOAD="reload",e.FILTER="filter",e.SORT="sort",e.PAGINATION="pagination",e.INSTAPAGE="instapage",e.COURSE_PAGE="course_page",e.EDUCATOR_LANDING="educator_landing"}(Lu||(Lu={}));var Hu,qu=Lu;!function(e){e.WEB="list_w",e.MOBILE="list_m"}(Hu||(Hu={}));var Gu,Wu,Qu,Vu,Ku,Xu,$u,Yu,Ju,Zu,eh,th,rh,nh,ih,ah=Hu,oh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ph.bind(null,Xl.int.bind(null,e))},sh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ph.bind(null,Xl.string.bind(null,e))},lh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ph.bind(null,Xl.bool.bind(null,e))},ch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ph.bind(null,Xl.float.bind(null,e))},uh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ph.bind(null,Xl.array.bind(null,e))},hh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ph.bind(null,Xl.object.bind(null,e))},ph=function(e,t,r,n){t.constructor.schema[r]=e()},dh=(Gu=oh(),Wu=sh(),Qu=oh(),Vu=lh(),Ku=oh(),Xu=oh(),ih=nh=function e(t,r,n,i,a,s){o()(this,e),Y()(this,"userId",Yu,this),Y()(this,"username",Ju,this),Y()(this,"email",Zu,this),Y()(this,"disabledAccount",eh,this),Y()(this,"tutorQuestions",th,this),Y()(this,"numberOfUnlocks",rh,this),this.userId=t,this.username=r,this.email=n,this.disabledAccount=i,this.tutorQuestions=a,this.numberOfUnlocks=s},nh.MODEL_NAME="user",nh.schema={},$u=ih,Yu=Z()($u.prototype,"userId",[Gu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ju=Z()($u.prototype,"username",[Wu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zu=Z()($u.prototype,"email",[Qu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eh=Z()($u.prototype,"disabledAccount",[Vu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),th=Z()($u.prototype,"tutorQuestions",[Ku],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rh=Z()($u.prototype,"numberOfUnlocks",[Xu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$u);function fh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var mh=function(e){p()(r,e);var t=fh(r);function r(){var e;o()(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).receiveUsers=function(e){return e},e.receiveUserDetails=function(e){return e},e}return r}(Wl),gh=Ql.create(new mh);function bh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var vh=function(e){p()(r,e);var t=bh(r);function r(){var e;return o()(this,r),(e=t.call(this)).userDetails=void 0,gh._register({receiveUsers:gh.receiveUsers,receiveUserDetails:gh.receiveUserDetails},u()(e)),e}return l()(r,[{key:"getUsers",value:function(){return this.getRows(dh.MODEL_NAME)}},{key:"getUserDetails",value:function(){return this.userDetails}},{key:"getUserById",value:function(e){return this.getUsers().filter(function(t){return t.userId===e})[0]}},{key:"receiveUsers",value:function(e){var t=this;e.forEach(function(e){t.upsertRow(dh.MODEL_NAME,"userId",e.userId,t.sanitize(e,dh.schema))}),this.onUpdate()}},{key:"receiveUserDetails",value:function(e){this.userDetails=e,this.onUpdate()}},{key:"self",value:function(){return r}},{key:"onUpdate",value:function(){this.emit(this.self().events.UPDATE)}}]),r}(Xl);vh.events={UPDATE:"UserStoreClass.events.UPDATE"};var yh,Sh,Eh=new vh;(Sh=yh||(yh={}))[Sh.TEXTBOOK=fu.TEXTBOOK]="TEXTBOOK";var _h,wh,Rh,Th,Ch,Dh,kh,Ah,Oh,Nh,xh,Uh,Ih,Ph,Fh,zh,Lh,Mh,Bh,jh,Hh,qh,Gh,Wh,Qh,Vh,Kh,Xh,$h,Yh,Jh,Zh,ep,tp,rp,np,ip,ap,op,sp,lp,cp,up,hp,pp,dp,fp,mp,gp,bp,vp,yp,Sp,Ep,_p,wp,Rp,Tp,Cp,Dp,kp,Ap,Op,Np,xp,Up,Ip,Pp,Fp,zp,Lp,Mp,Bp,jp,Hp,qp,Gp,Wp,Qp,Vp,Kp,Xp,$p,Yp,Jp,Zp,ed,td,rd,nd,id,ad,od,sd,ld,cd,ud,hd,pd,dd,fd,md,gd,bd,vd,yd,Sd,Ed,_d,wd,Rd,Td,Cd,Dd,kd,Ad,Od,Nd,xd,Ud,Id,Pd,Fd,zd,Ld,Md,Bd,jd,Hd,qd,Gd,Wd,Qd,Vd,Kd,Xd,$d,Yd=yh,Jd=function(){function e(){o()(this,e)}return l()(e,null,[{key:"search",value:function(e,t){return Q.ApiService.post("/api/v2/search/",e).then(function(e){K([e,t])})}}]),e}(),Zd=(_h=oh(),wh=sh(),Rh=sh(),Th=sh(),Ch=lh(),Dh=sh(),kh=sh(),Ah=sh(),Oh=oh(),Nh=sh(),xh=lh(),Uh=hh(),Ih=hh(),Ph=lh(),Fh=lh(),zh=lh(),Lh=oh(),Mh=oh(),Bh=oh(),jh=oh(),Hh=ch(),qh=hh(),Gh=oh(),Wh=sh(),Qh=oh(),Vh=sh(),Kh=sh(),Xh=sh(),$h=oh(),Yh=oh(),Jh=lh(),Zh=lh(),ep=sh(),tp=sh(),rp=sh(),np=sh(),ip=lh(),ap=sh(),op=lh(),sp=sh(),lp=sh(),cp=lh(),up=lh(),hp=oh(),pp=oh(),dp=oh(),fp=oh(),mp=oh(),gp=lh(),bp=oh(),vp=lh(),yp=lh(),Sp=lh(),Ep=oh(),_p=uh(),wp=lh(),Rp=lh(),Tp=lh(),Cp=sh(),Dp=lh(),kp=lh(),Ap=lh(),Op=lh(),Np=lh(),xp=sh(),Up=sh(),Kd=Vd=function e(t,r,n,i,a,s,l,c,u,h,p,d,f,m,g,b,v,y,S,E,_,w,R,T,C,D,k,A,O,N,x,U,I,P,F,z,L,M,B,j,H,q,G,W,Q,V,K,X,$,J,Z,ee,te,re,ne,ie,ae,oe,se,le,ce,ue,he,pe,de,fe){o()(this,e),Y()(this,"userId",Pp,this),Y()(this,"username",Fp,this),Y()(this,"displayName",zp,this),Y()(this,"profileUrl",Lp,this),Y()(this,"isModerator",Mp,this),Y()(this,"canChangeName",Bp,this),Y()(this,"email",jp,this),Y()(this,"expirationDate",Hp,this),Y()(this,"daysLeft",qp,this),Y()(this,"lastLogin",Gp,this),Y()(this,"disabledAccount",Wp,this),Y()(this,"iosSubscription",Qp,this),Y()(this,"litleSubscription",Vp,this),Y()(this,"premier",Kp,this),Y()(this,"isRememberMe",Xp,this),Y()(this,"createdContent",$p,this),Y()(this,"numDocumentsUploaded",Yp,this),Y()(this,"numQuestionsAsked",Jp,this),Y()(this,"numQuestionsAnswered",Zp,this),Y()(this,"numFlashcardsCreated",ed,this),Y()(this,"profilePercentComplete",td,this),Y()(this,"profileErrors",rd,this),Y()(this,"tutorQuestions",nd,this),Y()(this,"school",id,this),Y()(this,"schoolId",ad,this),Y()(this,"schoolLocation",od,this),Y()(this,"studentType",sd,this),Y()(this,"fullName",ld,this),Y()(this,"graduationYear",cd,this),Y()(this,"graduationMonth",ud,this),Y()(this,"isPaused",hd,this),Y()(this,"canPause",pd,this),Y()(this,"lastPausedOn",dd,this),Y()(this,"nextPauseDate",fd,this),Y()(this,"resumeDate",md,this),Y()(this,"autoRenewDate",gd,this),Y()(this,"canUpgrade",bd,this),Y()(this,"phoneNumber",vd,this),Y()(this,"smsNotificationEnabled",yd,this),Y()(this,"profilePhoto",Sd,this),Y()(this,"defaultAvatar",Ed,this),Y()(this,"isUnlock",_d,this),Y()(this,"stopDashboardAlerts",wd,this),Y()(this,"totalDownloadCount",Rd,this),Y()(this,"monthlyAvailableDownloads",Td,this),Y()(this,"monthlyUnlocksRemaining",Cd,this),Y()(this,"todaysDownloadCount",Dd,this),Y()(this,"monthlyDownloadLimit",kd,this),Y()(this,"nonMarketplaceDocsApproved",Ad,this),Y()(this,"numDocsToRetag",Od,this),Y()(this,"expertDashboardAvailable",Nd,this),Y()(this,"canAccessInternEmailPage",xd,this),Y()(this,"fcPremierRecurring",Ud,this),Y()(this,"unlocksRemaining",Id,this),Y()(this,"userRights",Pd,this),Y()(this,"canAnswerQuestions",Fd,this),Y()(this,"isTeacher",zd,this),Y()(this,"needRealUsername",Ld,this),Y()(this,"nextPaymentDateDisplay",Md,this),Y()(this,"isPaypalUser",Bd,this),Y()(this,"isGooglePlaySubscriber",jd,this),Y()(this,"isIOSSubscriber",Hd,this),Y()(this,"hasValidCreditCard",qd,this),Y()(this,"isPinpoint",Gd,this),Y()(this,"department",Wd,this),Y()(this,"educatorName",Qd,this),this.userId=t,this.username=r,this.displayName=n,this.profileUrl=i,this.isModerator=a,this.canChangeName=s,this.email=l,this.expirationDate=c,this.daysLeft=u,this.lastLogin=h,this.disabledAccount=p,this.iosSubscription=d,this.litleSubscription=f,this.premier=m,this.isRememberMe=g,this.createdContent=b,this.numDocumentsUploaded=v,this.numQuestionsAsked=y,this.numQuestionsAnswered=S,this.numFlashcardsCreated=E,this.profilePercentComplete=_,this.profileErrors=w,this.tutorQuestions=R,this.school=T,this.schoolId=C,this.schoolLocation=D,this.studentType=k,this.fullName=A,this.graduationYear=O,this.graduationMonth=N,this.isPaused=x,this.canPause=U,this.lastPausedOn=I,this.nextPauseDate=P,this.resumeDate=F,this.autoRenewDate=z,this.canUpgrade=L,this.phoneNumber=M,this.smsNotificationEnabled=B,this.profilePhoto=j,this.defaultAvatar=H,this.isUnlock=q,this.stopDashboardAlerts=G,this.totalDownloadCount=W,this.monthlyAvailableDownloads=Q,this.monthlyUnlocksRemaining=V,this.todaysDownloadCount=K,this.monthlyDownloadLimit=X,this.nonMarketplaceDocsApproved=$,this.numDocsToRetag=J,this.expertDashboardAvailable=Z,this.canAccessInternEmailPage=ee,this.fcPremierRecurring=te,this.unlocksRemaining=re,this.userRights=ne,this.canAnswerQuestions=ie,this.isTeacher=ae,this.needRealUsername=oe,this.nextPaymentDateDisplay=se,this.isPaypalUser=le,this.isGooglePlaySubscriber=ce,this.isIOSSubscriber=ue,this.hasValidCreditCard=he,this.isPinpoint=pe,this.department=de,this.educatorName=fe},Vd.MODEL_NAME="userDetails",Vd.schema={},Ip=Kd,Pp=Z()(Ip.prototype,"userId",[_h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fp=Z()(Ip.prototype,"username",[wh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zp=Z()(Ip.prototype,"displayName",[Rh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lp=Z()(Ip.prototype,"profileUrl",[Th],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mp=Z()(Ip.prototype,"isModerator",[Ch],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bp=Z()(Ip.prototype,"canChangeName",[Dh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jp=Z()(Ip.prototype,"email",[kh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hp=Z()(Ip.prototype,"expirationDate",[Ah],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qp=Z()(Ip.prototype,"daysLeft",[Oh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gp=Z()(Ip.prototype,"lastLogin",[Nh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=Z()(Ip.prototype,"disabledAccount",[xh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=Z()(Ip.prototype,"iosSubscription",[Uh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=Z()(Ip.prototype,"litleSubscription",[Ih],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kp=Z()(Ip.prototype,"premier",[Ph],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xp=Z()(Ip.prototype,"isRememberMe",[Fh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$p=Z()(Ip.prototype,"createdContent",[zh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yp=Z()(Ip.prototype,"numDocumentsUploaded",[Lh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jp=Z()(Ip.prototype,"numQuestionsAsked",[Mh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zp=Z()(Ip.prototype,"numQuestionsAnswered",[Bh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ed=Z()(Ip.prototype,"numFlashcardsCreated",[jh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),td=Z()(Ip.prototype,"profilePercentComplete",[Hh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rd=Z()(Ip.prototype,"profileErrors",[qh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nd=Z()(Ip.prototype,"tutorQuestions",[Gh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),id=Z()(Ip.prototype,"school",[Wh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ad=Z()(Ip.prototype,"schoolId",[Qh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),od=Z()(Ip.prototype,"schoolLocation",[Vh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sd=Z()(Ip.prototype,"studentType",[Kh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ld=Z()(Ip.prototype,"fullName",[Xh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cd=Z()(Ip.prototype,"graduationYear",[$h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ud=Z()(Ip.prototype,"graduationMonth",[Yh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hd=Z()(Ip.prototype,"isPaused",[Jh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pd=Z()(Ip.prototype,"canPause",[Zh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dd=Z()(Ip.prototype,"lastPausedOn",[ep],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fd=Z()(Ip.prototype,"nextPauseDate",[tp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),md=Z()(Ip.prototype,"resumeDate",[rp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gd=Z()(Ip.prototype,"autoRenewDate",[np],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bd=Z()(Ip.prototype,"canUpgrade",[ip],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vd=Z()(Ip.prototype,"phoneNumber",[ap],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yd=Z()(Ip.prototype,"smsNotificationEnabled",[op],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sd=Z()(Ip.prototype,"profilePhoto",[sp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ed=Z()(Ip.prototype,"defaultAvatar",[lp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_d=Z()(Ip.prototype,"isUnlock",[cp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wd=Z()(Ip.prototype,"stopDashboardAlerts",[up],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rd=Z()(Ip.prototype,"totalDownloadCount",[hp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Td=Z()(Ip.prototype,"monthlyAvailableDownloads",[pp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cd=Z()(Ip.prototype,"monthlyUnlocksRemaining",[dp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dd=Z()(Ip.prototype,"todaysDownloadCount",[fp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kd=Z()(Ip.prototype,"monthlyDownloadLimit",[mp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ad=Z()(Ip.prototype,"nonMarketplaceDocsApproved",[gp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Od=Z()(Ip.prototype,"numDocsToRetag",[bp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nd=Z()(Ip.prototype,"expertDashboardAvailable",[vp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xd=Z()(Ip.prototype,"canAccessInternEmailPage",[yp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ud=Z()(Ip.prototype,"fcPremierRecurring",[Sp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Id=Z()(Ip.prototype,"unlocksRemaining",[Ep],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pd=Z()(Ip.prototype,"userRights",[_p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fd=Z()(Ip.prototype,"canAnswerQuestions",[wp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zd=Z()(Ip.prototype,"isTeacher",[Rp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ld=Z()(Ip.prototype,"needRealUsername",[Tp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Md=Z()(Ip.prototype,"nextPaymentDateDisplay",[Cp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bd=Z()(Ip.prototype,"isPaypalUser",[Dp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jd=Z()(Ip.prototype,"isGooglePlaySubscriber",[kp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hd=Z()(Ip.prototype,"isIOSSubscriber",[Ap],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qd=Z()(Ip.prototype,"hasValidCreditCard",[Op],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gd=Z()(Ip.prototype,"isPinpoint",[Np],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wd=Z()(Ip.prototype,"department",[xp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qd=Z()(Ip.prototype,"educatorName",[Up],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip),ef=function(){function e(){o()(this,e)}return l()(e,null,[{key:"getUserDetails",value:function(e){return $l().get("/api/v1/users/details/",{}).then(function(t){if(t){var r=new Zd(t.user_id,t.username,t.display_name,t.profile_url,t.is_moderator,t.can_change_name,t.email,t.expiration_date,t.days_left,t.last_login,t.disabled_account,t.ios_subscription,t.litle_subcsription,t.premier,t.is_remember_me,t.created_content,t.num_documents_uploaded,t.num_questions_asked,t.num_questions_answered,t.num_flashcards_created,t.profile_percent_complete,t.profile_errors,t.tutor_questions_remaining,t.school,t.school_id,t.school_location,t.student_type,t.full_name,t.graduation_year,t.graduation_month,t.is_paused,t.can_pause,t.last_paused_on,t.next_pause_date,t.resume_date,t.auto_renew_date,t.can_upgrade,t.phone_number,t.sms_notification_enabled,t.profile_photo,t.default_avatar,t.is_unlock,t.stop_dashboard_alerts,t.total_download_count,t.monthly_available_downloads,t.monthly_unlocks_remaining,t.todays_download_count,t.monthly_download_limit,t.non_marketplace_docs_approved,t.num_docs_to_retag,t.expert_dashboard_available,t.can_access_intern_email_page,t.fc_premier_recurring,t.unlocks_remaining,t.user_rights,t.can_answer_questions,t.is_teacher,t.need_real_username,t.next_payment_date_display,t.is_paypal_user,t.is_google_play_subscriber,t.is_ios_subscriber,t.has_valid_credit_card,t.is_pinpoint,t.department,t.educatorName);gh.receiveUserDetails(r),e&&e(t)}})}}]),e}(),tf=ic.define("RECEIVE_COURSES",function(){return Q.Actions.define("RECEIVE_COURSES",function(e){return e})}),rf=ic.define("ADD_COURSE",function(){return Q.Actions.define("ADD_COURSE",function(e){return e.isNew=!0,e})}),nf=ic.define("TOGGLE_ARCHIVE_COURSE",function(){return Q.Actions.define("TOGGLE_ARCHIVE_COURSE",function(e){return e})}),af=ic.define("REMOVE_COURSE",function(){return Q.Actions.define("REMOVE_COURSE",function(e){return e})});!function(e){e.ACCEPTED="accepted",e.DENIED="denied",e.RETAG_REQUIRED="retagRequired",e.UNDER_REVIEW="underReview",e.RETITLE_REQUIRED="retitleRequired",e.PROCESSING="processing"}(Xd||(Xd={})),function(e){e.GENERIC="generic",e.COPYRIGHT="copyright",e.PAGE_LENGTH="pageLength",e.SCAN_QUALITY="scanQuality",e.SPLIT_DOCS="splitDocs",e.DUPLICATE="duplicate"}($d||($d={}));Xd.ACCEPTED,Xd.ACCEPTED,Xd.DENIED,Xd.DENIED,Xd.DENIED,Xd.DENIED,Xd.RETAG_REQUIRED,Xd.RETITLE_REQUIRED;var of,sf,lf,cf,uf,hf,pf,df,ff,mf,gf,bf,vf,yf,Sf,Ef,_f,wf,Rf,Tf,Cf,Df,kf,Af,Of,Nf,xf,Uf,If,Pf,Ff,zf,Lf,Mf,Bf,jf,Hf,qf,Gf,Wf,Qf,Vf,Kf,Xf,$f,Yf={1:Xd.PROCESSING,18:Xd.ACCEPTED,19:Xd.ACCEPTED,2:Xd.DENIED,7:Xd.DENIED,8:Xd.DENIED,20:Xd.DENIED,23:Xd.DENIED},Jf={201:$d.GENERIC,202:$d.COPYRIGHT,203:$d.PAGE_LENGTH,204:$d.SCAN_QUALITY,205:$d.SPLIT_DOCS,206:$d.DUPLICATE,207:Xd.DENIED,209:Xd.DENIED,210:Xd.DENIED},Zf=(Xd.PROCESSING,Xd.PROCESSING,Xd.PROCESSING,Xd.PROCESSING,Xd.PROCESSING,Xd.PROCESSING,Xd.PROCESSING,Xd.PROCESSING,Xd.PROCESSING,{accepted:{status:"Processed",className:"isSuccess"},denied:{status:"Denied",className:"isError"},generic:{status:"Denied: Generic",className:"isError"},copyright:{status:"Denied: Copyright",className:"isError"},pageLength:{status:"Denied: Page Length",className:"isError"},scanQuality:{status:"Denied: Scan Quality",className:"isError"},splitDocs:{status:"Denied: Split Docs",className:"isError"},duplicate:{status:"Denied: Duplicate",className:"isError"},retagRequired:{status:"Retag Required",className:"isWarning"},retitleRequired:{status:"Retitle Required",className:"isWarning"},underReview:{status:"Processing",className:"isWarning"}});function em(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var tm=(of=Q.Schema.int(),sf=Q.Schema.string(),lf=Q.Schema.string(),cf=Q.Schema.string(),uf=Q.Schema.int(),hf=Q.Schema.int(),pf=Q.Schema.string(),df=Q.Schema.string(),ff=Q.Schema.string(),mf=Q.Schema.string(),gf=Q.Schema.bool(),bf=Q.Schema.bool(),vf=Q.Schema.int(),yf=Q.Schema.string(),Sf=Q.Schema.object(),Ef=Q.Schema.datetime(),_f=Q.Schema.string(),wf=Q.Schema.string(),Rf=Q.Schema.array({schema:function(){return zn.schema},constructor:zn}),Tf=Q.Schema.object({schema:function(){return la.schema},constructor:la}),Cf=Q.Schema.object({schema:function(){return Eo.schema},constructor:Eo}),$f=Xf=function(e){p()(r,e);var t=em(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,r),e=t.call(this,n),Y()(e,"id",kf,u()(e)),Y()(e,"type",Af,u()(e)),Y()(e,"title",Of,u()(e)),Y()(e,"url",Nf,u()(e)),Y()(e,"folderId",xf,u()(e)),Y()(e,"bookmarkId",Uf,u()(e)),Y()(e,"text",If,u()(e)),Y()(e,"thumbnailUrl",Pf,u()(e)),Y()(e,"thumbnailText",Ff,u()(e)),Y()(e,"thumbnailFallbackUrl",zf,u()(e)),Y()(e,"isUserArchived",Lf,u()(e)),Y()(e,"isNew",Mf,u()(e)),Y()(e,"numViews",Bf,u()(e)),Y()(e,"status",jf,u()(e)),Y()(e,"taxonomy",Hf,u()(e)),Y()(e,"date",qf,u()(e)),Y()(e,"subType",Gf,u()(e)),Y()(e,"pendingUserAction",Wf,u()(e)),Y()(e,"courseResourceData",Qf,u()(e)),Y()(e,"textbook",Vf,u()(e)),Y()(e,"textbook_exercise",Kf,u()(e)),Object.assign(u()(e),n),e}return l()(r,[{key:"getUniqueId",value:function(){return this.type+"-"+this.id}}]),r}(ee),Xf.schema={},Df=$f,kf=Z()(Df.prototype,"id",[of],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Af=Z()(Df.prototype,"type",[sf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Of=Z()(Df.prototype,"title",[lf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nf=Z()(Df.prototype,"url",[cf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xf=Z()(Df.prototype,"folderId",[uf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uf=Z()(Df.prototype,"bookmarkId",[hf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),If=Z()(Df.prototype,"text",[pf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pf=Z()(Df.prototype,"thumbnailUrl",[df],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ff=Z()(Df.prototype,"thumbnailText",[ff],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zf=Z()(Df.prototype,"thumbnailFallbackUrl",[mf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lf=Z()(Df.prototype,"isUserArchived",[gf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mf=Z()(Df.prototype,"isNew",[bf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bf=Z()(Df.prototype,"numViews",[vf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jf=Z()(Df.prototype,"status",[yf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hf=Z()(Df.prototype,"taxonomy",[Sf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qf=Z()(Df.prototype,"date",[Ef],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gf=Z()(Df.prototype,"subType",[_f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wf=Z()(Df.prototype,"pendingUserAction",[wf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qf=Z()(Df.prototype,"courseResourceData",[Rf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vf=Z()(Df.prototype,"textbook",[Tf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kf=Z()(Df.prototype,"textbook_exercise",[Cf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Df),rm={BOOK:"book",COURSE:"course",DEPT:"dept",DOCUMENT:"document",DOCUMENT_TEXT:"document-text",DOCUMENT_IOS:"document_ios",ECOURSE:"ecourse",FLASHCARD:"flashcard",QUESTION:"question",SCHOOL:"school",SEARCH:"search",SPLIT:"split",SPLIT_ASSOCIATION:"split_assoc",STANDARDIZED_TEST:"standardized-test",LIT_STUDY_GUIDE:"study-guide",SUBJECT:"subject"},nm=function(){function e(){o()(this,e)}return l()(e,null,[{key:"determineDocumentStatus",value:function(e,t){if(!e)return null;var r=Yf[e];if(r==Xd.DENIED){if(t)return Zf[Jf[t]]?Zf[Jf[t]]:Zf[Xd.DENIED]}else if(void 0===r)return Zf[Xd.UNDER_REVIEW];return Zf[r]}},{key:"determineDocumentStatusFromStatusString",value:function(e){for(var t in Zf)if(Zf[t].status===e)return Zf[t];return null}}]),e}();function im(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?im(Object(r),!0).forEach(function(t){R()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):im(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function om(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var sm=function(e){p()(r,e);var t=om(r);function r(){var e,n;return o()(this,r),(n=t.call(this)).state={courses:[]},Q.Actions.register((e={},R()(e,rf,n.onAddCourse.bind(u()(n))),R()(e,tf,n.onReceiveCourses.bind(u()(n))),R()(e,nf,n.onToggleArchiveCourse.bind(u()(n))),R()(e,af,n.onRemoveCourse.bind(u()(n))),e),u()(n)),n}return l()(r,[{key:"getCourses",value:function(){return this.state.courses}},{key:"sanitizeDocumentArray",value:function(e){var t=this;if(!e||!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var r=[];return e.forEach(function(e){var n;n=t.sanitizeDocument(e),r.push(new tm(t.sanitize(n,tm.schema)))}),{contentArr:r,numContents:r.length}}},{key:"sanitizeUnlockedContent",value:function(e){var t=this;if(!e||!e.unlocked_content||!e.num_unlocks)return{contentArr:[],numContents:0};var r=e.unlocked_content;if(!Array.isArray(r)||0===r.length)return{contentArr:[],numContents:0};var n=[];return r.forEach(function(e){var r={};switch(e.content_type){case fu.QUESTION:r=t.sanitizeUnlockedQuestion(e);break;case fu.DOCUMENT:r=t.sanitizeUnlockedDocument(e);break;default:return}n.push(new tm(t.sanitize(r,tm.schema)))}),{contentArr:n,numContents:parseInt(e.num_unlocks)}}},{key:"sanitizeUploadedContent",value:function(e){var t,r,n=this,i=[];if(!e||!e.uploads||!e.total)return{contentArr:[],numContents:0};var a=e.uploads;return Array.isArray(a)&&0!==a.length?(a.forEach(function(e){t=n.sanitizeDocument(e.doc_info),r=nm.determineDocumentStatus(e.upload_state,e.deny_reason),t=am(am({},t),{},{date:gu(e.doc_date),status:r?r.status:"",isUserArchived:e.is_archived,id:e.jobid,type:fu.CONVERSION_QUEUE,title:e.title}),e.deny_reason&&Jf[e.deny_reason]===$d.COPYRIGHT&&(t.thumbnailUrl="",t.thumbnailText="0"),i.push(n.sanitize(t,tm.schema))}),{contentArr:i,numContents:parseInt(e.total)}):{contentArr:[],numContents:0}}},{key:"sanitizeSearchResponseResults",value:function(e){return e.map(function(e){var t=0,r="",n=null;switch(e.core.type){case Cl.QUESTION:t=e.question.question_id,r=e.question.answered?Pu.ANSWERED:Pu.PENDING;break;case Cl.DOCUMENT:t=e.document.db_filename;break;case Cl.COURSE:t=e.taxonomy.course.course_id,n=Su.DEFAULT_COURSE_THUMBNAIL;break;case Cl.COURSE_STUDY_GUIDE:t=e.course_studyguide.cms_item_id;break;case Cl.LIT_STUDY_GUIDE:t=e.lit_studyguide.book_section_id;break;case Cl.STUDYGUIDE_VIDEO:t=e.studyguide_video.video_id;break;case Cl.TEXTBOOK:t=e.textbook.textbook_id;break;case Cl.TEXTBOOK_EXERCISE:t=e.textbook_exercise.exercise_id}return new tm({id:t,type:e.core.type,subType:e.document?e.document.type:null,title:e.core.title,url:e.core.url,text:e.core.text,thumbnailUrl:e.thumbnail?e.thumbnail.url:null,thumbnailText:e.thumbnail?e.thumbnail.overlay_text:null,thumbnailFallbackUrl:n,numViews:e.core.views,status:r,taxonomy:e.taxonomy,date:e.core.date,courseResourceData:e.sub_resources,textbook:e.textbook,textbook_exercise:e.textbook_exercise})})}},{key:"sanitizeNewCourse",value:function(e){return new tm({id:e.folder_type_id,folderId:e.library_folder_id,type:fu.COURSE,title:e.name,url:e.folder_url,text:e.subtitle,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}},{key:"sanitizeRecentlyViewedContent",value:function(e){var t=this;if(!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var r=[];return e.forEach(function(e){var n={};switch(e.contentType){case fu.QUESTION:n=t.sanitizeQuestion(e[fu.QUESTION]);break;case fu.DOCUMENT:n=t.sanitizeDocument(e[fu.DOCUMENT]);break;case fu.TEXTBOOK_EXERCISE:n=t.sanitizeTextbookExercise(e[fu.TEXTBOOK_EXERCISE]);break;case rm.LIT_STUDY_GUIDE:var i=e[rm.LIT_STUDY_GUIDE];n={id:e.contentId,type:fu.LIT_STUDYGUIDE,title:i.title,url:i.url,thumbnailUrl:i.thumbnailUrl};break;case fu.BEST_LESSONS:n=t.sanitizeBestLesson(e);break;default:return}n=am(am({},n),{},{date:gu(e.recentDate)}),r.push(new tm(t.sanitize(n,tm.schema)))}),{contentArr:r,numContents:e.length}}},{key:"sanitizeQuestionResults",value:function(e){if(!e||!e.questions||!e.total)return{contentArr:[],numContents:0};var t=e.questions;return Array.isArray(t)&&0!==t.length?{contentArr:t.map(function(e){return new tm({id:e.question_id,type:fu.QUESTION,title:e.question,url:"/qa_redirect.php?question_id="+e.question_id,thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,status:e.derived_question_status,taxonomy:new Di({subject:new je({subject_id:e.category.category_id,subject_name:e.category.subject})}),isUserArchived:e.is_user_archived,date:gu(e.deadline),pendingUserAction:e.pending_user_action})}),numContents:parseInt(e.total)}:{contentArr:[],numContents:0}}},{key:"sanitizeBookmarkedContent",value:function(e){var t=this;if(!e||!e.documents||!Array.isArray(e.documents)||0===e.documents.length)return{contentArr:[],numContents:0};var r=[];return e.documents.forEach(function(e){var n=am(am({},t.sanitizeDocument(e.document)),{},{date:gu(e.date),type:fu.BOOKMARK,bookmarkId:e.document.bookmark_id,isUserArchived:e.document.is_archived});r.push(t.sanitize(n,tm.schema))}),{contentArr:r,numContents:e.documents.length}}},{key:"sanitizeUnlockedQuestion",value:function(e){var t=e[fu.QUESTION];return(t=this.sanitizeQuestion(t)).isUserArchived=e.is_archived,t.date=gu(e.unlock_date),t}},{key:"sanitizeUnlockedDocument",value:function(e){var t=e[fu.DOCUMENT];return(t=this.sanitizeDocument(t)).isUserArchived=e.is_archived,t.date=gu(e.unlock_date),t}},{key:"sanitizeQuestion",value:function(e){var t={type:fu.QUESTION,id:e.question_id,title:e.question,url:e.resource_url,status:e.derived_question_status,numViews:e.view_count,taxonomy:this.sanitizeContentTaxonomy(e,fu.QUESTION),thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,pendingUserAction:e.pending_user_action};return this.sanitize(t,tm.schema)}},{key:"sanitizeDocument",value:function(e){var t={type:fu.DOCUMENT,subType:e.type,id:e.db_filename,title:e.title,url:e.resource_url,thumbnailUrl:e.thumbnail_url,thumbnailText:e.meta_data?e.meta_data.page_count:null,text:e.text,numViews:e.views,taxonomy:this.sanitizeContentTaxonomy(e,fu.DOCUMENT),isNew:e.is_new||!1};return this.sanitize(t,tm.schema)}},{key:"sanitizeTextbook",value:function(e){var t={textbook_id:e.textbook_id,title:e.title,author:e.author,edition_name:e.edition_name,isbn:e.isbn,publisher:e.publisher,cover_url:e.cover_url};return this.sanitize(t,la.schema)}},{key:"sanitizeTextbookChapter",value:function(e){var t={num:e?e.abbreviation:""};return this.sanitize(t,ba.schema)}},{key:"sanitizeTextbookSection",value:function(e){var t={num:e?e.abbreviation:"",title:e?e.title:""};return this.sanitize(t,Ra.schema)}},{key:"sanitizeTextbookHeading",value:function(e){var t={title:e?e.title:""};return this.sanitize(t,Va.schema)}},{key:"sanitizeTextbookExercise",value:function(e){var t=e,r=t.sections[0]||void 0,n=r?r.sections[0]:void 0,i=n?n.sections[0]:void 0,a=i&&i.exercises.length>0?i.exercises[0]:n&&n.exercise.length>0?n.exercises[0]:r&&r.exercises.length>0?r.exercises[0]:void 0;if(a){var o=this.sanitizeTextbook(t),s=this.sanitizeTextbookChapter(r),l=this.sanitizeTextbookSection(n),c=this.sanitizeTextbookHeading(i),u={exercise_id:a.exercise_id,exercise_num:a.identifier,page:a.page,url:a.url,textbook:o,chapter:s,section:l,heading:c,solved:a.solved};u=this.sanitize(u,Eo.schema);var h={type:fu.TEXTBOOK_EXERCISE,id:u.exercise_id,title:"Ch ".concat(u.chapter.num,", Sec ").concat(u.section.num,", Ex ").concat(u.exercise_num," - ").concat(u.heading.title),url:u.url,thumbnailUrl:o.cover_url,textbook_exercise:u};return this.sanitize(h,tm.schema)}}},{key:"sanitizeBestLesson",value:function(e){var t={type:fu.BEST_LESSONS,id:e.id,isNew:e.isNew,title:e.title,url:e.url,thumbnailUrl:e.imageUrl};return this.sanitize(t,tm.schema)}},{key:"sanitizeContentTaxonomy",value:function(e,t){var r,n,i,a;switch(t){case fu.QUESTION:e.category&&(r={subject_id:e.category.category_id,subject_name:e.category.subject}),e.course&&(n={school_id:e.course.schoolId,school_name:e.course.schoolName,school_url:e.course.schoolUrl},i={dept_id:e.course.deptId,dept_acro:e.course.dept},a={course_id:e.course.courseId,course_name:e.course.courseName,course_url:e.course.courseUrl,course_num:e.course.courseNum});break;case fu.DOCUMENT:e.subject&&(r={subject_id:e.subject.subject_id,subject_name:e.subject.subject_name}),e.course&&(n={school_id:e.course.school_id,school_name:e.course.school_name,school_url:e.course.school_url},i={dept_id:e.course.dept_id,dept_acro:e.course.dept_acro},a={course_id:e.course.course_id,course_name:e.course.course_name,course_num:e.course.course_num,course_url:e.course.course_url})}return{subject:r,school:n,department:i,course:a}}},{key:"sanitizeCourseResults",value:function(e){return e&&e.rows&&Array.isArray(e.rows)?e.rows.map(function(e){return new tm({id:e.folder_type_id,folderId:e.library_folder_id,type:e.folder_type,title:e.name,text:e.subtitle,url:e.folder_url,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}):[]}},{key:"onReceiveCourses",value:function(e){var t=this,r=this.nextState();return e.forEach(function(e){t.upsertItem(r.courses,e.getUniqueId(),e)}),r}},{key:"onAddCourse",value:function(e){var t=this.nextState();return this.upsertItem(t.courses,e.getUniqueId(),e),t}},{key:"onToggleArchiveCourse",value:function(e){var t=this.nextState(),r=this.getItem(t.courses,e.getUniqueId());if(!r)throw Error("Course not found in store");return r.isUserArchived=!r.isUserArchived,t}},{key:"onRemoveCourse",value:function(e){var t=this.nextState();return t.courses=t.courses.filter(function(t){return t.getUniqueId()!==e.getUniqueId()}),t}}]),r}(Q.Store),lm=ic.define("ContentStore",function(){return new sm}),cm=function e(){o()(this,e)};cm.scrollToTop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;$&&$.fn.animate?$("html, body").animate({scrollTop:0},e):document.body.scrollTop=0};var um=cm,hm=function(e){for(var t=[],r="resultsLoaderContainer"+(e.className?" "+e.className:""),i=e.numLoaders?e.numLoaders:5,a=0;a<i;a++)t.push(n.createElement("div",{className:r,key:a},n.createElement("div",{className:"resultsLoader"})));return n.createElement(n.Fragment,null,t)},pm="default";function dm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pm;return window.CHAnalytics.v(e)}var fm,mm,gm,bm;function vm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var ym,Sm=dm(),Em=(fm=Zl(200),bm=gm=function(e){p()(r,e);var t=vm(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).currentRequest=void 0,n.state={isMobile:!1,results:[],searchResponse:Ml.sanitizeSearchResponse({meta:{user_query:e.query,search_id:e.searchId,search_key:e.searchKey}}),loadingResults:!1,loadingAll:!0,error:!1,selectedFilters:Ml.sanitize(e.selectedFilters,it.schema),sortBy:Bs.RELEVANCY,numPages:0,currentPage:1,query:e.query,userDetails:Eh.getUserDetails(),suggestion:e.suggestion,canScrollResults:!0,callouts:[]},n.doSearch=n.doSearch.bind(u()(n)),n.onSearchStoreUpdate=n.onSearchStoreUpdate.bind(u()(n)),n.onUserStoreUpdate=n.onUserStoreUpdate.bind(u()(n)),n.onFilterToggle=n.onFilterToggle.bind(u()(n)),n.onUpdateFilter=n.onUpdateFilter.bind(u()(n)),n.onUpdateSortBy=n.onUpdateSortBy.bind(u()(n)),n.onNext=n.onNext.bind(u()(n)),n.onPrev=n.onPrev.bind(u()(n)),n.onPage=n.onPage.bind(u()(n)),n.onQueryUpdate=n.onQueryUpdate.bind(u()(n)),n.onResetFilters=n.onResetFilters.bind(u()(n)),n.onBrowserHistory=n.onBrowserHistory.bind(u()(n)),n.onResize=n.onResize.bind(u()(n)),n.onScroll=n.onScroll.bind(u()(n)),n.onResultsScrollableChange=n.onResultsScrollableChange.bind(u()(n)),n}return l()(r,[{key:"allowFilteringByTextbook",value:function(){return this.props.isTextbooksEnabled}},{key:"allowGeolocationSearching",value:function(){return!0}},{key:"getAllSupportedTypes",value:function(){var e=[Cl.DOCUMENT,Cl.QUESTION,Cl.COURSE,Cl.COMBINED_STUDY_GUIDE,Cl.STUDYGUIDE_VIDEO];return this.allowFilteringByTextbook()&&e.push(Cl.TEXTBOOK),e}},{key:"doSearch",value:function(e,t,r){var n=this;this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null);var i={loadingResults:!0};this.state.error&&(i.loadingAll=!0,i.error=!1),this.setState(i);var a=e!==qu.HEADER&&this.state.searchResponse&&this.state.searchResponse.meta?this.state.searchResponse.meta.search_id:null,o=Ml.sanitize(this.state.selectedFilters,it.schema);o.type&&0!==o.type.length||(o.type=this.getAllSupportedTypes());var s=[];this.allowFilteringByTextbook()&&s.push(Yd.TEXTBOOK);var l={previous_search_id:a,query:this.state.query,offset:20*(this.state.currentPage-1),limit:20,sort:this.state.sortBy,filters:o,view:this.state.isMobile?ah.MOBILE:ah.WEB,trigger:e,suggestion:this.state.suggestion,callout_types:s};this.allowGeolocationSearching()&&(l.location={auto:!0});var c=t?Ml.sanitizeSearchRequest({search_id:t,search_key:r,callout_types:s}):Ml.sanitizeSearchRequest(l);this.currentRequest=Jd.search(c,e).fail(function(e){if(0!==e.status){var t;try{t=JSON.parse(e.response)}catch(e){}t||(t=n.state.searchResponse),n.setState({error:!0,searchResponse:t})}}).always(function(){n.currentRequest=null,n.setState({loadingAll:!1,loadingResults:!1})})}},{key:"onBrowserHistory",value:function(e){var t=e.state;this.doSearch(qu.RELOAD,t.search_id,t.search_key)}},{key:"onResetFilters",value:function(){var e=this;this.setState({selectedFilters:Ml.sanitizeFilterData({type:this.getAllSupportedTypes()}),currentPage:1,sortBy:Bs.RELEVANCY},function(){uc.resetAll(),e.dispatchSearchParamsChangedEvent(e.state.query,e.state.selectedFilters),e.doSearch(qu.FILTER)})}},{key:"onQueryUpdate",value:function(e,t){var r=this,n=this.state.selectedFilters,i=t.school,a=t.suggestion;i&&i.id?n.course&&n.course.school_id==i.id||(n.course={school_id:i.id,school_name:i.mainText,course_id:null,course_num:null,course_name:null,dept_id:null,dept_acro:null},n=Ml.sanitize(n,it.schema)):n.course=null,this.setState({query:t.queryString,selectedFilters:n,suggestion:a,currentPage:1,results:[]},function(){return r.doSearch(qu.HEADER)})}},{key:"onSearchStoreUpdate",value:function(e){var t=e.lastResponse,r=lm.sanitizeSearchResponseResults(t.results),n=this.state.isMobile&&0!==t.meta.offset?this.state.results.concat(r):r;this.state.isMobile&&20==t.results.length&&this.state.currentPage!=t.meta.total_results%20&&n.push(this.getAskAQuestionCalloutJSX.bind(this,"mimicRegularSnippet hideInTablet hideInDesktop")),e.trigger==qu.RELOAD&&this.syncFilterStoreState(t.meta.filters);var i=[];null!==t&&(i=this.state.isMobile&&this.state.searchResponse.meta.parent_search_id===t.meta.parent_search_id?t.callout_results instanceof Array&&t.callout_results.length>0?t.callout_results:this.state.callouts:t.callout_results),this.setState({query:t.meta.user_query,results:n,searchResponse:t,callouts:i,selectedFilters:t.meta.filters,sortBy:t.meta.sort,numPages:Math.min(Math.ceil(t.meta.total_results/t.meta.limit),100),currentPage:Math.max(1,Math.ceil(t.meta.offset/t.meta.limit)+1)}),this.dispatchSearchParamsChangedEvent(t.meta.user_query,t.meta.filters),e.trigger!=qu.RELOAD&&this.changeHistoryState(t.meta.search_id,t.meta.search_key,window.history.state&&window.history.state.search_id)}},{key:"onUserStoreUpdate",value:function(){this.setState({userDetails:Eh.getUserDetails()})}},{key:"onFilterToggle",value:function(e){e.preventDefault(),$(window).trigger("_ch.search.filter.toggle_view")}},{key:"onUpdateFilter",value:function(e,t){var r=this,n=this.state.selectedFilters;n[t]=e,this.setState({selectedFilters:n,currentPage:1},function(){r.dispatchSearchParamsChangedEvent(r.state.query,n),r.doSearch(qu.FILTER)})}},{key:"onUpdateSortBy",value:function(e){var t=this;this.setState({sortBy:e,currentPage:1},function(){return t.doSearch(qu.SORT)})}},{key:"onPrev",value:function(){this.onPage(this.state.currentPage-1)}},{key:"onNext",value:function(){this.onPage(this.state.currentPage+1)}},{key:"onPage",value:function(e){var t=this;e>this.state.numPages||e<1||(this.setState({currentPage:e},function(){return t.doSearch(qu.PAGINATION)}),this.state.isMobile||um.scrollToTop())}},{key:"onResize",value:function(){this.setState({isMobile:window.innerWidth<=S.PHONE_MAX})}},{key:"onScroll",value:function(e){!this.currentRequest&&this.state.isMobile&&this.state.canScrollResults&&(window.scrollY+window.innerHeight>=document.body.offsetHeight-(document.getElementById("ch-footer").offsetHeight+800)&&this.onNext())}},{key:"onResultsScrollableChange",value:function(e){this.setState({canScrollResults:e})}},{key:"getAskAQuestionCalloutJSX",value:function(e){var t=this.state.userDetails,r=!t||!t.userId||t.tutorQuestions>0,i=r?"Ask our tutors a study question, on us.":"Ask our tutors a study question.",a=r?"* Expires 30 days after account creation":null,o=r?"Get Free Homework Help*":"Get Homework Help";return n.createElement(Pc,{tagline:i,finePrint:a,buttonText:o,wrapperClass:e,isEducator:this.props.isEducator})}},{key:"dispatchSearchParamsChangedEvent",value:function(e,t){$(window).trigger(r.EVENT_SEARCH_PARAMS_CHANGED,[{query:e,selectedFilters:t}])}},{key:"changeHistoryState",value:function(e,t,r){var n={search_id:e,search_key:t},i="/search/results/".concat(e,"/").concat(t,"/");r?window.history.pushState(n,"",i):window.history.replaceState(n,"",i)}},{key:"syncFilterStoreState",value:function(e){if(uc.resetAll(),e){if(e.course&&e.course.school_id&&e.course.school_name){var t={id:e.course.school_id,mainText:e.course.school_name,type:bc.SCHOOL};uc.setActiveFilter(t)}if(e.course&&e.course.course_id&&e.course.dept_acro&&e.course.course_num){var r={id:e.course.course_id,mainText:e.course.dept_acro+" "+e.course.course_num,type:bc.COURSE};uc.setActiveFilter(r)}if(e.subject&&e.subject.subject_id&&e.subject.subject_name){var n={id:e.subject.subject_id,mainText:e.subject.subject_name,type:bc.SUBJECT};uc.setActiveFilter(n)}}}},{key:"componentDidMount",value:function(){bc.getActiveFilterIds(),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),window.addEventListener("popstate",this.onBrowserHistory),$(window).on(W,this.onQueryUpdate),this.dispatchSearchParamsChangedEvent(this.state.query,this.state.selectedFilters),this.onResize(),Ml.listen(this.onSearchStoreUpdate),Eh.listen(vh.events.UPDATE,this.onUserStoreUpdate),this.props.isLoggedIn&&ef.getUserDetails();var e=this.props.searchId,t=this.props.searchKey;e?(this.setState({loadingAll:!0}),this.doSearch(qu.RELOAD,e,t),this.changeHistoryState(e,t,!1)):this.doSearch(this.props.searchTrigger)}},{key:"componentDidUpdate",value:function(e,t){var r=this;t.searchResponse.meta.search_id!==this.state.searchResponse.meta.search_id&&window.requestAnimationFrame(function(){Sm.pageView({references:{search_id:r.state.searchResponse.meta.search_id}})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("popstate",this.onBrowserHistory),window.removeEventListener("resize",this.onResize),Ml.ignore(this.onSearchStoreUpdate),Eh.ignore(vh.events.UPDATE,this.onUserStoreUpdate),$(window).off(W)}},{key:"render",value:function(){var e,t,i,a,o=this,s=this.state.searchResponse;if(s&&s.meta&&!this.state.loadingResults?(e=s.meta.user_query,t=s.meta.total_results):(e=this.state.query,t=0),this.state.error)return n.createElement("div",{className:"container"},n.createElement("div",{className:"grid"},n.createElement(Fc,{message:r.ERROR_MESSAGE})));a=this.state.loadingAll?n.createElement("div",{className:"filterLoader"},n.createElement("div",{className:"container"})):n.createElement(ru,{selectedFilters:this.state.selectedFilters,availableFilters:s.options.filters,selectedSortBy:this.state.sortBy,availableSortBy:s.options.sort,updateFilter:this.onUpdateFilter,updateSortBy:this.onUpdateSortBy,resetFilters:this.onResetFilters,isMobile:this.state.isMobile,onCanScrollResultsChange:this.onResultsScrollableChange}),i=n.createElement("div",{className:"grid _noBottom resultCount"},n.createElement("div",{className:"column12"},n.createElement(iu,{isMobile:this.state.isMobile,query:e,numResults:t,loading:this.state.loadingResults,onFilterClick:this.onFilterToggle})));var l=this.state.loadingAll||this.state.loadingResults?n.createElement(hm,{numLoaders:this.state.results.length>0?this.state.results.length:20}):null,c=this.state.loadingAll||this.state.loadingResults&&!this.state.isMobile?null:n.createElement(Bu,{results:this.state.results,callouts:this.state.callouts,isMobile:this.state.isMobile,query:e,loadingResults:this.state.loadingResults,coursesToHideTaxonomyLink:this.props.coursesToHideTaxonomyLink,onItemClick:function(e,t){var r,n,i=e.type,a=e.id,s=e.title,l=o.state,c=l.results,u={id:a,query:l.query,contentType:i,contentName:s,searchResultPosition:t,searchResultPage:l.currentPage,numberOfResults:c.length,searchProduct:"federated search"};r=u,n=G(),M("Search Result Selected",q(C(C({},r),{},{userState:n})))}}),u=this.state.isMobile?null:n.createElement(ju,{numPages:this.state.numPages,currentPage:this.state.currentPage,onPrev:this.onPrev,onNext:this.onNext,onPage:this.onPage}),h=null;this.allowGeolocationSearching()&&s&&s.meta&&s.meta.location&&(h=n.createElement(nu,{location:s.meta.location}));return" testGrid testGrid2"," squareSnippets",n.createElement("div",{className:" testGrid testGrid2"},a,n.createElement("div",{className:"container"},i,n.createElement("div",{className:"grid squareSnippets"},"",n.createElement("div",{className:"resultsContainer"},c,l)),n.createElement("div",{className:"grid _spaceAround"},n.createElement("div",{className:"column10 isCenterAligned"},this.getAskAQuestionCalloutJSX())),n.createElement("div",{className:"column6 isCenterAligned"},u,h)))}}]),r}(y),gm.ERROR_MESSAGE="We're sorry for the inconvenience. Please update your search or try again later.",gm.EVENT_SEARCH_PARAMS_CHANGED="_ch_search_params_changed",mm=bm,Z()(mm.prototype,"onScroll",[fm],Object.getOwnPropertyDescriptor(mm.prototype,"onScroll"),mm.prototype),mm);!function(e){e.NEW_HOME="new_home_sw",e.OLD_HEADER="old_header_sw",e.NEW_HEADER="new_header_sw"}(ym||(ym={}));var _m=ym;var wm=function(e){var t,r,i,a=e.queryString,o=e.onClick,s=e.tqSearchFooterTestBucket;return Object(n.useEffect)(function(){dm().interaction({interactionType:"viewed",interactionTarget:"search_widget_suggestions_footer",interactionLocation:"search_widget",action:"none"})},[]),0===s?(t=function(){var e="sw=1";a&&(e+="&stx=".concat(encodeURIComponent(a))),window.location.href="/tutors/homework-help/?".concat(e)},r="Ask our tutors a study question",i=n.createElement(n.Fragment,null,n.createElement("i",{className:"chi-message-add"}),r)):(t=function(){window.location.href="/textbook-solutions/"},r="Browse our free Textbook Solutions",i=n.createElement(n.Fragment,null,n.createElement("i",{className:"chi-books"}),r,n.createElement("span",{id:"sw_textbooks_new_badge"},"New"))),n.createElement("div",{className:"sw_suggestions_footer","data-cha-target-name":"ask_question_from_search_option","data-cha-action-target-type":"search_suggestions","data-cha-action-type":"click",onClick:function(){j({actionType:D.LINK,intent:"redirect",text:r,xpath:"search widget"}),o(),t()}},n.createElement("div",{className:"suggestion"},i))};function Rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Tm;!function(e){e.LOGGED_OUT="logged out",e.BASIC="basic",e.PREMIER="premier"}(Tm||(Tm={}));var Cm=function(e){p()(r,e);var t=Rm(r);function r(e){var i;return o()(this,r),(i=t.call(this,e)).containerRef=n.createRef(),i.inputRef=n.createRef(),i.state={queryString:"",initialQueryString:"",schoolQueryString:"",isLoading:!1,selectedSuggestion:null,selectedSchool:null,isExpanded:!!i.props.isExpanded&&i.props.isExpanded,areSuggestionsVisible:!1,containerClassName:"",searchBarClassName:"",autocompleteSuggestions:[],recentSearchSuggestions:[],suggestionHeader:null},i.onSuggestionStoreUpdate=i.onSuggestionStoreUpdate.bind(u()(i)),i.handleSearchBarChange=i.handleSearchBarChange.bind(u()(i)),i.handleSearchBarFocus=i.handleSearchBarFocus.bind(u()(i)),i.clickListener=i.clickListener.bind(u()(i)),i.onBlur=i.onBlur.bind(u()(i)),i.handleFocusChange=i.handleFocusChange.bind(u()(i)),i.collapseWidget=i.collapseWidget.bind(u()(i)),i.handleWindowResize=i.handleWindowResize.bind(u()(i)),i.handleButtonSubmit=i.handleButtonSubmit.bind(u()(i)),i.search=i.search.bind(u()(i)),i.handleKeyDown=i.handleKeyDown.bind(u()(i)),i.autocompleteWithSelectedSuggestion=i.autocompleteWithSelectedSuggestion.bind(u()(i)),i.clearQueryString=i.clearQueryString.bind(u()(i)),i.handleSchoolSearchBarChange=i.handleSchoolSearchBarChange.bind(u()(i)),i.handleSchoolSelect=i.handleSchoolSelect.bind(u()(i)),i.handleSuggestionSelect=i.handleSuggestionSelect.bind(u()(i)),i.onSearchResultsPageSearchParamsChanged=i.onSearchResultsPageSearchParamsChanged.bind(u()(i)),i}return l()(r,[{key:"componentDidMount",value:function(){var e=this;ql.listen(this.onSuggestionStoreUpdate),document.addEventListener("mousedown",this.clickListener,!0),document.addEventListener("touchstart",this.clickListener,!0),window.addEventListener("resize",this.handleWindowResize,!0),$(window).on(r.EVENT_FOCUS,function(){return e.handleSearchBarFocus(void 0,!0)}),$(window).on(Em.EVENT_SEARCH_PARAMS_CHANGED,this.onSearchResultsPageSearchParamsChanged);var t=localStorage.getItem("".concat("ch-recentSearches-").concat(this.props.userId||"loggedOut")),n=t?ql.sanitizeJSONSuggestions(t):[];n.length>0&&V(n)}},{key:"componentDidUpdate",value:function(e,t){!1===this.props.isExpanded&&!1!==e.isExpanded&&this.collapseWidget(),this.inputRef.current&&(!t.isExpanded&&this.state.isExpanded?this.inputRef.current.focus():t.isExpanded&&!this.state.isExpanded&&this.inputRef.current.blur())}},{key:"componentWillUnmount",value:function(){ql.ignore(this.onSuggestionStoreUpdate),document.removeEventListener("mousedown",this.clickListener,!0),document.removeEventListener("touchstart",this.clickListener,!0),window.removeEventListener("resize",this.handleWindowResize,!0),$(window).off(r.EVENT_FOCUS),$(window).off(Em.EVENT_SEARCH_PARAMS_CHANGED)}},{key:"getUserState",value:function(){return window.__CURRENT_USER__?window.isPremierUser?Tm.PREMIER:Tm.BASIC:Tm.LOGGED_OUT}},{key:"onSuggestionStoreUpdate",value:function(e){this.setState({recentSearchSuggestions:e.defaultSuggestions})}},{key:"handleSearchBarChange",value:function(e){var t=this,r=e.target.value,n=this.state.queryString,i={queryString:r,initialQueryString:r,selectedSuggestion:null};this.setState(i);var a=r.trim();a&&a!==n.trim()&&ec.fetchAutocompleteSuggestions(a,function(e){t.setState({autocompleteSuggestions:ql.sanitizeAutocompleteSuggestions(e)})},function(){})}},{key:"handleSchoolSearchBarChange",value:function(e){this.setState({schoolQueryString:e})}},{key:"handleSearchBarFocus",value:function(e,t){if($(window).width()<=S.PHONE_MAX&&this.props.className==_m.NEW_HOME)t||$(window).trigger(r.EVENT_FOCUS);else{var n={areSuggestionsVisible:!0};this.state.isExpanded?this.setState(n):(n.isExpanded=!0,n.containerClassName="shouldExpand",n.searchBarClassName="shouldShrink",this.setState(n),this.track("Expanded"),this.props.onExpand&&this.props.onExpand())}}},{key:"clickListener",value:function(e){this.handleFocusChange(e.target)}},{key:"onBlur",value:function(e){this.handleFocusChange(e.relatedTarget)}},{key:"handleFocusChange",value:function(e){this.state.isExpanded&&e&&(this.containerRef.current&&this.containerRef.current.contains(e)?0==$(e).closest(".sw_search_bar").length&&0==$(e).closest(".sw_suggestions_container").length&&this.setState({areSuggestionsVisible:!1}):this.collapseWidget())}},{key:"collapseWidget",value:function(){this.setState({isExpanded:!1,containerClassName:"",searchBarClassName:"",areSuggestionsVisible:!1,selectedSuggestion:null}),this.props.onCollapse&&this.props.onCollapse()}},{key:"handleWindowResize",value:function(e){$(window).width()<=S.PHONE_MAX&&this.props.className==_m.NEW_HOME&&this.collapseWidget(),this.props.onWindowResize&&this.props.onWindowResize(this.state.isExpanded)}},{key:"handleButtonSubmit",value:function(e){this.search(),H("Searched",{searchTrigger:"manual",query:this.state.queryString,searchProduct:this.getTrigger(),numberOfResults:this.state.autocompleteSuggestions.length,userState:this.getUserState()})}},{key:"search",value:function(e,t){var r=t||this.state.selectedSuggestion,n=e||this.state.selectedSchool,i=0===window.location.pathname.indexOf("/search/results/");if(this.state.queryString.trim()||r){var a={areSuggestionsVisible:!1,queryString:this.state.queryString,schoolQueryString:this.state.schoolQueryString};r&&(a.queryString=r.text),n&&(a.schoolQueryString=n.mainText||""),i||(a.isLoading=!0),this.setState(a);var o=this.state.queryString;if(r&&(o=r.text),this.saveRecentSearch(o),/\/payment\/success/.test(window.location.pathname)&&this.track("Payment Success Search Performed",{Query:this.state.queryString}),i){var s=null;this.state.initialQueryString.trim()&&r&&(s={initial_query:this.state.initialQueryString,search_suggestion_id:r.id,suggestion_source:r.source,suggestion_position:r.position,referrer:window.location.pathname},s=Ml.sanitizeSuggestionData(s)),$(window).trigger(W,[{queryString:a.queryString,school:n,suggestion:s}]),this.collapseWidget()}else window.location.href=this.getSearchUrl(o,n,r)}}},{key:"saveRecentSearch",value:function(e){var t=e.trim(),r=[t].concat(_()(this.state.recentSearchSuggestions.filter(function(e){return e.text!==t}).map(function(e){return e.text}).slice(0,5))),n=JSON.stringify(r),i="".concat("ch-recentSearches-").concat(this.props.userId||"loggedOut");localStorage.setItem(i,n),V(r.map(function(e,t){return ql.sanitizeSuggestion({id:t,text:e})}))}},{key:"getTrigger",value:function(){return this.props.className===_m.NEW_HOME?qu.HOMEPAGE:qu.HEADER}},{key:"getSearchUrl",value:function(e,t,r){var n="all",i=document.location.pathname;-1===i.indexOf("/homework-help/")&&-1===i.indexOf("/tutor-problems/")||(n="question"),-1!==i.indexOf("/file/")&&(n="document");var a=this.getTrigger(),o="/search/results/?stx="+encodeURIComponent(e)+"&filters_product="+n+"&searchTrigger="+a;return this.state.initialQueryString.trim()&&r&&(o+="&source="+r.source+"&initial_query="+encodeURIComponent(this.state.initialQueryString)+"&search_suggestion_id="+r.id+"&position="+r.position+"&referrer="+window.location.pathname+"&is_autocomplete=1"),t&&t.id>0&&t.mainText&&(o+="&school_id=".concat(t.id,"&school_name=").concat(encodeURIComponent(t.mainText))),o}},{key:"handleKeyDown",value:function(e){switch(e.keyCode||e.which){case vc.TAB:if(this.state.selectedSuggestion&&this.state.selectedSuggestion.text!=this.state.queryString){e.preventDefault(),this.autocompleteWithSelectedSuggestion();break}this.setState({areSuggestionsVisible:!1});break;case vc.RIGHT_ARROW:this.autocompleteWithSelectedSuggestion();break;case vc.ENTER:this.search();var t=this.state.selectedSuggestion?"autocomplete":"manual";H("Searched",{searchTrigger:t,query:this.state.queryString,searchProduct:this.getTrigger(),numberOfResults:this.state.autocompleteSuggestions.length,userState:this.getUserState()});break;case vc.ESC:this.state.queryString?this.clearQueryString():this.collapseWidget();break;case vc.DOWN_ARROW:this.selectNextSuggestion();break;case vc.UP_ARROW:e.preventDefault(),this.selectPrevSuggestion()}}},{key:"autocompleteWithSelectedSuggestion",value:function(){this.state.selectedSuggestion&&this.setState({queryString:this.state.selectedSuggestion.text})}},{key:"clearQueryString",value:function(){this.setState({queryString:"",initialQueryString:"",selectedSuggestion:null})}},{key:"handleSchoolSelect",value:function(e){var t=e&&e.id>0?e:null;this.setState({selectedSchool:t}),e&&this.search(e)}},{key:"handleSuggestionSelect",value:function(e){this.setState({selectedSuggestion:e}),this.search(void 0,e),H("Searched",{searchTrigger:"autocomplete",query:e.text,searchProduct:this.getTrigger(),numberOfResults:this.state.autocompleteSuggestions.length,userState:this.getUserState()})}},{key:"onSearchResultsPageSearchParamsChanged",value:function(e,t){var r=t.selectedFilters,n=null;r&&r.course&&r.course.school_id&&r.course.school_name&&(n={id:r.course.school_id,mainText:r.course.school_name,type:bc.SCHOOL}),this.setState({queryString:t.query,selectedSchool:n})}},{key:"getSuggestions",value:function(){return 0==this.state.queryString.length?this.state.recentSearchSuggestions.length>0?this.state.recentSearchSuggestions:r.STARTING_SUGGESTIONS:this.state.autocompleteSuggestions}},{key:"getSuggestionsHeader",value:function(){var e=this.getSuggestions();return e==this.state.autocompleteSuggestions?null:e==this.state.recentSearchSuggestions?n.createElement("h6",null,"RECENT SEARCHES"):e==r.STARTING_SUGGESTIONS?n.createElement("h6",null,"EXAMPLE SEARCHES"):null}},{key:"getSuggestionsFooter",value:function(){var e=this;return this.props.isEducator?null:n.createElement(wm,{queryString:this.state.queryString,onClick:function(){return e.track("Ask Question Option Click",{query:e.state.queryString})},tqSearchFooterTestBucket:this.props.tqSearchFooterTestBucket})}},{key:"selectNextSuggestion",value:function(){var e,t,r=this.getSuggestions(),n=this.state.selectedSuggestion,i=r.map(function(e){return e.id});t=n?(e=i.indexOf(n.id))==r.length-1?n:r[e+1]:r[0],this.setState({selectedSuggestion:t})}},{key:"selectPrevSuggestion",value:function(){var e,t=this.state.selectedSuggestion,r=this.getSuggestions(),n=r.map(function(e){return e.id});e=t&&0!=r.length&&t.id!=r[0].id?r[n.indexOf(t.id)-1]:null,this.setState({selectedSuggestion:e})}},{key:"track",value:function(e,t){M("[Search Widget] ".concat(e),t)}},{key:"render",value:function(){var e,t,r,i=this,a=n.createElement("i",{className:"chi-university sw_icon sw_university_icon"});if(this.state.isExpanded){var o=this.state.isLoading?"chi-loading":"chi-search-filled";r=n.createElement(nc,{className:"mobile_sw_cancel_search_button",label:"Cancel",onClick:this.collapseWidget}),e=n.createElement("span",{className:"sw_school_dropdown"},n.createElement(Oc,{defaultSchoolFilter:this.state.selectedSchool,updateWithFullFilter:!0,placeholder:"All Schools",activePlaceholder:"Enter school name",useAutoCompleteIcon:!1,handleUpdate:this.handleSchoolSelect,handleChange:this.handleSchoolSearchBarChange,showDefaultInDropdown:!0,dropdownLimit:5,iconLeft:a,onEscapeSearch:this.collapseWidget,shouldFindNearbySchools:!0})),t=n.createElement(nc,{className:"sw_search_button",label:"",icon:o,onClick:this.handleButtonSubmit,onBlur:this.onBlur})}var s="sw_search_widget_container ".concat(this.props.className," ").concat(this.state.containerClassName);return n.createElement("div",{ref:this.containerRef,className:s},r,n.createElement("div",{className:"sw_search_bar_wrapper"},n.createElement(nc,{className:"mobile_sw_start_search_button",label:"",icon:"chi-search",onClick:function(){i.inputRef.current&&i.inputRef.current.focus()}}),n.createElement(Ic,{queryString:this.state.queryString,isLoading:this.state.isLoading,onTextChange:this.handleSearchBarChange,searchBarClassName:this.state.searchBarClassName,inputClassName:this.state.areSuggestionsVisible?"hasDropdown":"",onFocus:this.handleSearchBarFocus,onBlur:this.onBlur,onKeyDown:this.handleKeyDown,placeholderText:this.props.searchBarPlaceholder,userId:this.props.userId,onSuggestionSelect:this.handleSuggestionSelect,isExpanded:this.state.isExpanded,areSuggestionsVisible:this.state.areSuggestionsVisible,selectedSuggestion:this.state.selectedSuggestion,suggestions:this.getSuggestions(),suggestionHeader:this.getSuggestionsHeader(),suggestionFooter:this.getSuggestionsFooter(),inputRef:this.inputRef}),e,t))}}]),r}(y);Cm.STARTING_SUGGESTIONS=[{id:0,text:"BIO 101 Class Notes",position:0,source:"default"},{id:1,text:"Microeconomics Practice Questions",position:1,source:"default"},{id:2,text:"Organizational Behavior Case Study",position:2,source:"default"}],Cm.EVENT_FOCUS="search_widget:focus";var Dm=Cm;function km(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f()(this,r)}}var Am=function(e){p()(r,e);var t=km(r);function r(e){var n;return o()(this,r),(n=t.call(this,e)).state={isExpanded:!1,searchBarPlaceholder:n.determinePlaceholder(!1)},n.handleSearchWidgetExpand=n.handleSearchWidgetExpand.bind(u()(n)),n.handleSearchWidgetCollapse=n.handleSearchWidgetCollapse.bind(u()(n)),n.handleWindowResize=n.handleWindowResize.bind(u()(n)),n.handleWindowScroll=n.handleWindowScroll.bind(u()(n)),n}return l()(r,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleWindowScroll,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleWindowScroll,!0)}},{key:"handleSearchWidgetExpand",value:function(){$("#ch-header").addClass("isSearchActive"),$("body").prepend('<div class="sw_overlay"></div>').addClass("disableScroll"),this.handleWindowResize(!0)}},{key:"handleSearchWidgetCollapse",value:function(){$("#ch-header").removeClass("isSearchActive"),$("body").removeClass("disableScroll"),$(".sw_overlay").remove(),this.handleWindowResize(!1)}},{key:"handleWindowScroll",value:function(e){$(window).scrollTop()>=30?$("#ch-header").addClass("searchExpand"):$("#ch-header").removeClass("searchExpand")}},{key:"determinePlaceholder",value:function(e){return this.props.type==_m.NEW_HEADER&&$(".hp_search_wrapper").width()<=r.MIN_WIDTH_SEARCH_BAR&&!e?this.props.shortPlaceholder:this.props.longPlaceholder}},{key:"handleWindowResize",value:function(e){if(this.setState({searchBarPlaceholder:this.determinePlaceholder(e)}),this.props.type==_m.NEW_HEADER){if($(window).width()>S.PHONE_MAX&&e)return void $("#ch-header .hp_search_container").css("width",$("#ch-header").outerWidth()-$("#ch_headerLogo_action").outerWidth());$("#ch-header .hp_search_container").css("width","")}}},{key:"render",value:function(){return n.createElement(Dm,{className:this.props.type,userId:this.props.userId,onExpand:this.handleSearchWidgetExpand,onCollapse:this.handleSearchWidgetCollapse,onWindowResize:this.handleWindowResize,isExpanded:this.state.isExpanded,searchBarPlaceholder:this.state.searchBarPlaceholder,isEducator:this.props.isEducator,tqSearchFooterTestBucket:this.props.tqSearchFooterTestBucket})}}]),r}(y);Am.MIN_WIDTH_SEARCH_BAR=245;var Om,Nm=Am;function xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}for(var Um,Im=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xm(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}($("[data-search-widget]").toArray());!(Um=Im()).done;){var Pm=Um.value,Fm=Pm.dataset.type,zm=!!parseInt(Pm.dataset.isEducator),Lm=parseInt(Pm.dataset.tqSearchFooterBucket),Mm=void 0,Bm=void 0,jm=void 0,Hm=void 0;switch(Om=Pm.dataset.userId,Fm){case _m.OLD_HEADER:case _m.NEW_HEADER:jm="Search",Hm="Find study resources",Mm=n.createElement(Nm,{userId:Om,type:Fm,shortPlaceholder:jm,longPlaceholder:Hm,isEducator:zm,tqSearchFooterTestBucket:Lm});break;case _m.NEW_HOME:Bm="Find study guides, class notes and more.",Mm=n.createElement(Dm,{userId:Om,className:Fm,searchBarPlaceholder:Bm,isEducator:zm,tqSearchFooterTestBucket:Lm})}i.render(Mm,Pm)}}]);!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=100)}([function(e,t){e.exports=window.React},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=window.BeefFlux},function(e,t){e.exports=function(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},function(e,t){e.exports=function(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){e.exports=n(55)()},function(e,t,n){var r=n(45);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(46),o=n(1);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return o}),n.d(t,"__assign",function(){return i}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return c}),n.d(t,"__metadata",function(){return u}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return f}),n.d(t,"__exportStar",function(){return p}),n.d(t,"__values",function(){return d}),n.d(t,"__read",function(){return h}),n.d(t,"__spread",function(){return m}),n.d(t,"__spreadArrays",function(){return y}),n.d(t,"__await",function(){return v}),n.d(t,"__asyncGenerator",function(){return g}),n.d(t,"__asyncDelegator",function(){return b}),n.d(t,"__asyncValues",function(){return _}),n.d(t,"__makeTemplateObject",function(){return E}),n.d(t,"__importStar",function(){return w}),n.d(t,"__importDefault",function(){return O});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})}function f(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{(n=o[e](t)).value instanceof v?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,o,(t=e[n](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Box=void 0;var r=n(11),o=n(0),i=n(13),a=n(0),s=n(21);t.Box=a.forwardRef(function(e,t){var n,a,c=e.as,u=void 0===c?"div":c,l=e.display,f=void 0===l?{}:l,p=e.margin,d=void 0===p?{}:p,h=e.padding,m=void 0===h?{}:h,y=e.className,v=r.__rest(e,["as","display","margin","padding","className"]),g=u,b=[];try{for(var _=r.__values([f,d,m]),E=_.next();!E.done;E=_.next()){var w=E.value,O=s.objectToClassName(w);O&&b.push(O)}}catch(e){n={error:e}}finally{try{E&&!E.done&&(a=_.return)&&a.call(_)}finally{if(n)throw n.error}}var S=i.default(b,y);return o.createElement(g,r.__assign({},v,{ref:t,className:S}))})},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11);r.__exportStar(n(47),t),r.__exportStar(n(51),t),r.__exportStar(n(12),t),r.__exportStar(n(52),t),r.__exportStar(n(26),t),r.__exportStar(n(53),t),r.__exportStar(n(21),t),r.__exportStar(n(54),t),r.__exportStar(n(20),t),r.__exportStar(n(58),t),r.__exportStar(n(59),t),r.__exportStar(n(60),t),r.__exportStar(n(72),t),r.__exportStar(n(73),t),r.__exportStar(n(74),t),r.__exportStar(n(75),t),r.__exportStar(n(76),t),r.__exportStar(n(77),t),r.__exportStar(n(78),t)},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=window.moment},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=void 0;var r=n(11),o=n(0),i=n(13),a=n(0),s=n(12);t.Icon=a.forwardRef(function(e,t){var n=e.as,a=void 0===n?"i":n,c=e.icon,u=e.className,l=r.__rest(e,["as","icon","className"]),f=i.default("chi-"+c,u);return o.createElement(s.Box,r.__assign({},l,{ref:t,as:a,className:f}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeRefs=t.omit=t.hasFocusWithin=t.objectToClassName=void 0;var r=n(11);r.__exportStar(n(48),t),r.__exportStar(n(49),t),r.__exportStar(n(50),t),t.objectToClassName=function(e){var t,n,o=[];try{for(var i=r.__values(Object.entries(e)),a=i.next();!a.done;a=i.next()){var s=r.__read(a.value,2),c=s[0],u=s[1];void 0!==u&&o.push(c+"-"+u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o.join(" ")},t.hasFocusWithin=function(e){return!!document.activeElement&&e.contains(document.activeElement)},t.omit=function(e,t){for(var n=Object.keys(e),r={},o=0;o<n.length;o+=1){var i=n[o];-1===t.indexOf(i)&&(r[i]=e[i])}return r},t.mergeRefs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(function(e){return!!e});return n.length?1===n.length?n[0]:function(e){var t,o;try{for(var i=r.__values(n),a=i.next();!a.done;a=i.next()){var s=a.value;"function"==typeof s?s(e):s&&(s.current=e)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}}:null}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"useId",function(){return a});var r=n(0),o=0,i=function(){return++o},a=function(){var e=Object(r.useState)(null),t=e[0],n=e[1];return Object(r.useEffect)(function(){return n(i())},[]),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r=n(11),o=n(0),i=n(13),a=n(0),s=n(12),c=n(20);t.Button=a.forwardRef(function(e,t){var n,a=e.as,u=void 0===a?"button":a,l=e.type,f=void 0===l?"button"===u?"button":void 0:l,p=e.children,d=e.className,h=e.icon,m=e.iconPosition,y=void 0===m?"left":m,v=e.size,g=e.variant,b=r.__rest(e,["as","type","children","className","icon","iconPosition","size","variant"]),_=i.default("btn",{"btn-sm":"sm"===v},((n={})["btn-"+g]=g,n),d);return o.createElement(s.Box,r.__assign({},b,{ref:t,as:u,type:f,className:_}),h&&"left"===y&&o.createElement(c.Icon,{icon:h,margin:{ml:0,mr:p?2:0}}),p,h&&"right"===y&&o.createElement(c.Icon,{icon:h,margin:{ml:p?2:0,mr:0}}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,o=n(68);var i=((r=o)&&r.__esModule?r:{default:r}).default,a=i.canUseDOM?window.HTMLElement:{};t.canUseDOM=i.canUseDOM;t.default=a},function(e,t,n){"use strict";var r=n(85);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=n(87),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,c=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,n,r){var o;t in e&&("function"!=typeof(o=r)||"[object Function]"!==i.call(o)||!r())||(c?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)u(e,i[s],t[i[s]],n[i[s]])};l.supportsDescriptors=!!c,e.exports=l},function(e,t,n){"use strict";e.exports=n(57)},function(e,t,n){"use strict";(function(e){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},r))}};function i(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:c(s(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?l:10===e?f:l||f}function d(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?d(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,s,c=i.commonAncestorContainer;if(e!==c&&t!==c||r.contains(o))return"BODY"===(s=(a=c).nodeName)||"HTML"!==s&&d(a.firstElementChild)!==a?d(c):c;var u=h(e);return u.host?m(u.host,t):m(e,h(t).host)}function y(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function v(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function g(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],p(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,r=p(10)&&getComputedStyle(n);return{height:g("Height",t,n,r),width:g("Width",t,n,r)}}var _=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function S(e){return O({},e,{right:e.left+e.width,bottom:e.top+e.height})}function I(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var n=y(e,"top"),r=y(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?b(e.ownerDocument):{},s=i.width||e.clientWidth||o.width,c=i.height||e.clientHeight||o.height,u=e.offsetWidth-s,l=e.offsetHeight-c;if(u||l){var f=a(e);u-=v(f,"x"),l-=v(f,"y"),o.width-=u,o.height-=l}return S(o)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=p(10),o="HTML"===t.nodeName,i=I(e),s=I(t),u=c(e),l=a(t),f=parseFloat(l.borderTopWidth),d=parseFloat(l.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=S({top:i.top-s.top-f,left:i.left-s.left-d,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!r&&o){var m=parseFloat(l.marginTop),v=parseFloat(l.marginLeft);h.top-=f-m,h.bottom-=f-m,h.left-=d-v,h.right-=d-v,h.marginTop=m,h.marginLeft=v}return(r&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(t,"top"),o=y(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(h,t)),h}function x(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function A(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},l=o?x(e):m(e,u(t));if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=C(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:y(n),s=t?0:y(n,"left");return S({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i})}(l,o);else{var f=void 0;"scrollParent"===r?"BODY"===(f=c(s(t))).nodeName&&(f=e.ownerDocument.documentElement):f="window"===r?e.ownerDocument.documentElement:r;var p=C(f,l,o);if("HTML"!==f.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===a(t,"position"))return!0;var r=s(t);return!!r&&e(r)}(l))i=p;else{var d=b(e.ownerDocument),h=d.height,v=d.width;i.top+=p.top-p.marginTop,i.bottom=h+p.top,i.left+=p.left-p.marginLeft,i.right=v+p.left}}var g="number"==typeof(n=n||0);return i.left+=g?n:n.left||0,i.top+=g?n:n.top||0,i.right-=g?n:n.right||0,i.bottom-=g?n:n.bottom||0,i}function R(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=A(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},c=Object.keys(s).map(function(e){return O({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),u=c.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),l=u.length>0?u[0].key:c[0].key,f=e.split("-")[1];return l+(f?"-"+f:"")}function P(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(n,r?x(t):m(t,u(n)),r)}function N(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function T(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function D(e,t,n){n=n.split("-")[0];var r=N(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",c=i?"height":"width",u=i?"width":"height";return o[a]=t[a]+t[c]/2-r[c]/2,o[s]=n===s?t[s]-r[u]:t[T(s)],o}function k(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function j(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=k(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=n(t,e))}),t}function U(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=P(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=R(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=D(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=j(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function M(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function H(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function L(){return this.state.isDestroyed=!0,M(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[H("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function B(e){var t=e.ownerDocument;return t?t.defaultView:window}function F(e,t,n,r){n.updateBound=r,B(e).addEventListener("resize",n.updateBound,{passive:!0});var o=c(e);return function e(t,n,r,o){var i="BODY"===t.nodeName,a=i?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),i||e(c(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function z(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}function W(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,B(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function V(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function K(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&V(t[n])&&(r="px"),e.style[n]=t[n]+r})}var $=n&&/Firefox/i.test(navigator.userAgent);function G(e,t,n){var r=k(e,function(e){return e.name===t}),o=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Y=q.slice(3);function Q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Y.indexOf(e),r=Y.slice(n+1).concat(Y.slice(0,n));return t?r.reverse():r}var X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function J(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(k(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(c)[0]]),[a[s].split(c)[1]].concat(a.slice(s+1))]:[a];return(u=u.map(function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return S(s)[t]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(e,o,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){V(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))})}),o}var Z={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",u=s?"width":"height",l={start:w({},c,i[c]),end:w({},c,i[c]+i[u]-a[u])};e.offsets.popper=O({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],c=void 0;return c=V(+n)?[+n,0]:J(n,i,a,s),"left"===s?(i.top+=c[0],i.left-=c[1]):"right"===s?(i.top+=c[0],i.left+=c[1]):"top"===s?(i.left+=c[0],i.top-=c[1]):"bottom"===s&&(i.left+=c[0],i.top+=c[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||d(e.instance.popper);e.instance.reference===n&&(n=d(n));var r=H("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var c=A(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=c;var u=t.priority,l=e.offsets.popper,f={primary:function(e){var n=l[e];return l[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(l[e],c[e])),w({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(l[n],c[e]-("right"===e?l.width:l.height))),w({},n,r)}};return u.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=O({},l,f[t](e))}),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",c=a?"left":"top",u=a?"width":"height";return n[s]<i(r[c])&&(e.offsets.popper[c]=i(r[c])-n[u]),n[c]>i(r[s])&&(e.offsets.popper[c]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!G(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,s=i.popper,c=i.reference,u=-1!==["left","right"].indexOf(o),l=u?"height":"width",f=u?"Top":"Left",p=f.toLowerCase(),d=u?"left":"top",h=u?"bottom":"right",m=N(r)[l];c[h]-m<s[p]&&(e.offsets.popper[p]-=s[p]-(c[h]-m)),c[p]+m>s[h]&&(e.offsets.popper[p]+=c[p]+m-s[h]),e.offsets.popper=S(e.offsets.popper);var y=c[p]+c[l]/2-m/2,v=a(e.instance.popper),g=parseFloat(v["margin"+f]),b=parseFloat(v["border"+f+"Width"]),_=y-e.offsets.popper[p]-g-b;return _=Math.max(Math.min(s[l]-m,_),0),e.arrowElement=r,e.offsets.arrow=(w(n={},p,Math.round(_)),w(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(M(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=A(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=T(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case X.FLIP:a=[r,o];break;case X.CLOCKWISE:a=Q(r);break;case X.COUNTERCLOCKWISE:a=Q(r,!0);break;default:a=t.behavior}return a.forEach(function(s,c){if(r!==s||a.length===c+1)return e;r=e.placement.split("-")[0],o=T(r);var u=e.offsets.popper,l=e.offsets.reference,f=Math.floor,p="left"===r&&f(u.right)>f(l.left)||"right"===r&&f(u.left)<f(l.right)||"top"===r&&f(u.bottom)>f(l.top)||"bottom"===r&&f(u.top)<f(l.bottom),d=f(u.left)<f(n.left),h=f(u.right)>f(n.right),m=f(u.top)<f(n.top),y=f(u.bottom)>f(n.bottom),v="left"===r&&d||"right"===r&&h||"top"===r&&m||"bottom"===r&&y,g=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(g&&"start"===i&&d||g&&"end"===i&&h||!g&&"start"===i&&m||!g&&"end"===i&&y),_=!!t.flipVariationsByContent&&(g&&"start"===i&&h||g&&"end"===i&&d||!g&&"start"===i&&y||!g&&"end"===i&&m),E=b||_;(p||v||E)&&(e.flipped=!0,(p||v)&&(r=a[c+1]),E&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=O({},e.offsets.popper,D(e.instance.popper,e.offsets.reference,e.placement)),e=j(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=T(t),e.offsets.popper=S(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!G(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=k(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=k(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=d(e.instance.popper),c=I(s),u={position:o.position},l=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},c=i(o.width),u=i(r.width),l=-1!==["left","right"].indexOf(e.placement),f=-1!==e.placement.indexOf("-"),p=t?l||f||c%2==u%2?i:a:s,d=t?i:s;return{left:p(c%2==1&&u%2==1&&!f&&t?r.left-1:r.left),top:d(r.top),bottom:d(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!$),f="bottom"===n?"top":"bottom",p="right"===r?"left":"right",h=H("transform"),m=void 0,y=void 0;if(y="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-c.height+l.bottom:l.top,m="right"===p?"HTML"===s.nodeName?-s.clientWidth+l.right:-c.width+l.right:l.left,a&&h)u[h]="translate3d("+m+"px, "+y+"px, 0)",u[f]=0,u[p]=0,u.willChange="transform";else{var v="bottom"===f?-1:1,g="right"===p?-1:1;u[f]=y*v,u[p]=m*g,u.willChange=f+", "+p}var b={"x-placement":e.placement};return e.attributes=O({},b,e.attributes),e.styles=O({},u,e.styles),e.arrowStyles=O({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return K(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&K(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=P(o,t,e,n.positionFixed),a=R(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),K(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ee=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=O({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(O({},e.Defaults.modifiers,a.modifiers)).forEach(function(t){r.options.modifiers[t]=O({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return O({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&i(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return E(e,[{key:"update",value:function(){return U.call(this)}},{key:"destroy",value:function(){return L.call(this)}},{key:"enableEventListeners",value:function(){return z.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),e}();ee.Utils=("undefined"!=typeof window?window:e).PopperUtils,ee.placements=q,ee.Defaults=Z,t.a=ee}).call(this,n(22))},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(0)),o=i(n(95));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||o.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rover=t.createOnKeyDown=t.useRoverState=void 0;var r=n(11),o=n(0),i=n(25),a=n(21);function s(e,t){var n=e.stops,o=e.currentId,i=e.loop;switch(t.type){case"register":var a=t.id,c=t.ref;if(0===n.length)return r.__assign(r.__assign({},e),{stops:[{id:a,ref:c}]});if((d=n.map(function(e){return e.id===a}).indexOf(!0))>=0)return e;var u=n.map(function(e){return!(!e.ref.current||!c.current)&&Boolean(e.ref.current.compareDocumentPosition(c.current)&Node.DOCUMENT_POSITION_PRECEDING)}).indexOf(!0);return-1===u?r.__assign(r.__assign({},e),{stops:r.__spread(n,[{id:a,ref:c}])}):r.__assign(r.__assign({},e),{stops:r.__spread(n.slice(0,u),[{id:a,ref:c}],n.slice(u))});case"unregister":var l=t.id,f=n.filter(function(e){return e.id!==l});return f.length===n.length?(console.error(!0,"[reakit/RoverState]",l+" stop is not registered"),e):r.__assign(r.__assign({},e),{stops:f,currentId:o&&o===l?null:o});case"move":var p=t.id;return null===p?r.__assign(r.__assign({},e),{currentId:null}):-1===(d=n.map(function(e){return e.id===p}).indexOf(!0))?e:n[d].id===o?e:r.__assign(r.__assign({},e),{currentId:n[d].id});case"next":if(null==o)return s(e,{type:"move",id:n[0]&&n[0].id});var d=n.map(function(e){return e.id===o}).indexOf(!0),h=r.__spread(n.slice(d+1),i?n.slice(0,d):[]),m=h.map(function(e){return e.id===o}).indexOf(!0)+1;return s(e,{type:"move",id:h[m]&&h[m].id});case"previous":var y=s(r.__assign(r.__assign({},e),{stops:n.slice().reverse()}),{type:"next"}),v=(y.stops,r.__rest(y,["stops"]));return r.__assign(r.__assign({},e),v);case"first":var g=n[0];return s(e,{type:"move",id:g&&g.id});case"last":var b=n[n.length-1];return s(e,{type:"move",id:b&&b.id});default:throw new Error}}t.useRoverState=function(e){void 0===e&&(e={});var t=e.orientation,n=e.currentId,i=void 0===n?null:n,a=e.loop,c=void 0!==a&&a,u=r.__read(o.useReducer(s,{orientation:t,stops:[],currentId:i,loop:c}),2),l=u[0],f=u[1];return r.__assign(r.__assign({},l),{register:o.useCallback(function(e,t){return f({type:"register",id:e,ref:t})},[]),unregister:o.useCallback(function(e){return f({type:"unregister",id:e})},[]),move:o.useCallback(function(e){return f({type:"move",id:e})},[]),next:o.useCallback(function(){return f({type:"next"})},[]),previous:o.useCallback(function(){return f({type:"previous"})},[]),first:o.useCallback(function(){return f({type:"first"})},[]),last:o.useCallback(function(){return f({type:"last"})},[])})};var c=["orientation","stops","currentId","loop","register","unregister","move","next","previous","first","last"];function u(e){var t=void 0===e?{}:e,n=t.keyMap,r=t.onKey,o=t.stopPropagation,i=t.onKeyDown,a=t.shouldKeyDown,s=void 0===a?function(){return!0}:a,c=t.preventDefault,u=void 0===c||c;return function(e){if(n){var t="function"==typeof n?n(e):n,a="function"==typeof u?u(e):u,c="function"==typeof o?o(e):o;if(e.key in t){var l=t[e.key];if("function"==typeof l&&s(e))return a&&e.preventDefault(),c&&e.stopPropagation(),r&&r(e),void l(e)}i&&i(e)}}}t.createOnKeyDown=u,t.Rover=function(e){var t=o.Children.toArray(e.children);if(1!==t.length)throw new Error;var n=t[0];if(!o.isValidElement(n))throw new Error;var s=n.ref,l=function(e){var t=e.id,n=e.ref,s=e.tabIndex,c=e.onKeyDown,l=r.__rest(e,["id","ref","tabIndex","onKeyDown"]),f=o.useRef(null),p=i.useId(),d=t||(null!==p?"rover-"+p:null),h=e.stopId||d,m=e.disabled&&!e.focusable,y=null==e.currentId,v=null!==h&&e.currentId===h,g=null!==h&&(e.stops||[])[0]&&e.stops[0].id===h,b=v||g&&y,_=e.register,E=e.unregister;o.useEffect(function(){if(!m&&null!==h)return _&&_(h,f),function(){return E&&E(h)}},[h,m,_,E]),o.useEffect(function(){f.current?v&&!a.hasFocusWithin(f.current)&&f.current.focus():console.error("[Rover] Can't focus rover component because `ref` wasn't passed to component. See https://reakit.io/docs/rover.")},[v]);var w=e.move;o.useEffect(function(){var e=f.current;if(e){var t=function(){return w(h)};return e.addEventListener("focus",t,!0),function(){e&&e.removeEventListener("focus",t,!0)}}},[w,h]);var O=o.useMemo(function(){return u({onKeyDown:c,stopPropagation:!0,shouldKeyDown:function(e){return e.currentTarget.contains(e.target)},keyMap:{ArrowUp:"horizontal"!==e.orientation&&e.previous,ArrowRight:"vertical"!==e.orientation&&e.next,ArrowDown:"horizontal"!==e.orientation&&e.next,ArrowLeft:"vertical"!==e.orientation&&e.previous,Home:e.first,End:e.last,PageUp:e.first,PageDown:e.last}})},[c,e.orientation,e.previous,e.next,e.first,e.last]);return r.__assign({ref:a.mergeRefs(f,n),id:h,tabIndex:void 0!==s?s:b?0:-1,onKeyDown:O},l)}(r.__assign(r.__assign(r.__assign({},e.rover),n.props),{ref:s}));return o.cloneElement(n,r.__assign({},a.omit(l,c)))}},function(e,t,n){e.exports=n(63)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};var r=/input|select|textarea|button|object/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function i(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(o(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&i(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=c,t.setElement=function(e){var t=e;if("string"==typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);c(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=u,t.hide=function(e){u(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){u(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,o=n(24),i=(r=o)&&r.__esModule?r:{default:r},a=n(27);var s=null;function c(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function u(e){return!(!e&&!s)||((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach(function(n){return n(e,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==r(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,n){"use strict";var r=n(40),o=n(29).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return r}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t,n){var r=n(79),o=n(81),i=n(82),a=n(83),s=n(86),c=n(94),u=Date.prototype.getTime;function l(e,t,n){var d=n||{};return!(d.strict?!i(e,t):e!==t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?d.strict?i(e,t):e==t:function(e,t,n){var i,d;if(typeof e!=typeof t)return!1;if(f(e)||f(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e)!==o(t))return!1;var h=a(e),m=a(t);if(h!==m)return!1;if(h||m)return e.source===t.source&&s(e)===s(t);if(c(e)&&c(t))return u.call(e)===u.call(t);var y=p(e),v=p(t);if(y!==v)return!1;if(y||v){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(typeof e!=typeof t)return!1;try{var g=r(e),b=r(t)}catch(e){return!1}if(g.length!==b.length)return!1;for(g.sort(),b.sort(),i=g.length-1;i>=0;i--)if(g[i]!=b[i])return!1;for(i=g.length-1;i>=0;i--)if(d=g[i],!l(e[d],t[d],n))return!1;return!0}(e,t,d))}function f(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=l},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(22))},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccordionCardBody=t.AccordionCardHeader=t.AccordionCard=t.Accordion=void 0;var r=n(11),o=n(0),i=n(0),a=n(25),s=n(13),c=n(12),u=n(26),l=n(33);var f=i.createContext(null),p=function(){var e=i.useContext(f);if(!e)throw new Error;return e};t.Accordion=i.forwardRef(function(e,t){var n=e.selectedValue,u=e.defaultValue,p=e.onSelect,d=e.id,h=e.className,m=e.children,y=r.__rest(e,["selectedValue","defaultValue","onSelect","id","className","children"]),v=l.useRoverState({orientation:"vertical",loop:!0}),g=a.useId(),b=d||"accordion-"+g,_=r.__read(i.useState(null!=u?u:null),2),E=_[0],w=_[1],O=r.__read(void 0!==n?[n,p]:[E,function(e){w(e),p&&p(e)}],2),S=O[0],I=O[1];if(!I)throw new Error("Must provide onSelect if using Accordion as a controlled component");var C=s.default("accordion",h);return o.createElement(c.Box,r.__assign({},y,{id:b,ref:t,className:C}),o.Children.map(m,function(e,t){if(!o.isValidElement(e))return e;var n=function(e,t){return"value"in e.props?e.props.value:t}(e,t),r=S===n,i=b+"-"+t,a=i+"-header",s=i+"-body";return o.createElement(f.Provider,{value:{id:i,parentId:b,cardHeaderId:a,cardBodyId:s,onSelect:function(){return I(r?null:n)},isSelected:r,roverProps:v}},e)}))}),t.AccordionCard=i.forwardRef(function(e,t){var n=e.className,i=r.__rest(e,["className"]),a=p().id,u=s.default("accordion-card",n);return o.createElement(c.Box,r.__assign({},i,{id:a,ref:t,className:u}))}),t.AccordionCardHeader=i.forwardRef(function(e,t){var n=e.className,i=e.onClick,a=e.children,f=r.__rest(e,["className","onClick","children"]),d=p(),h=d.cardHeaderId,m=d.cardBodyId,y=d.onSelect,v=d.isSelected,g=d.roverProps,b=s.default("card-header",n);return o.createElement(c.Box,{className:b},o.createElement(l.Rover,{rover:g},o.createElement(u.Button,r.__assign({},f,{ref:t,className:s.default({collapsed:!v}),id:h,variant:"link",onClick:function(e){i&&i(e),y()},"data-toggle":"accordion","data-target":"#"+m,"aria-expanded":v,"aria-controls":m,tabIndex:0}),a)))}),t.AccordionCardBody=i.forwardRef(function(e,t){var n=e.className,i=e.children,a=r.__rest(e,["className","children"]),u=p(),l=u.parentId,f=u.cardHeaderId,d=u.cardBodyId,h=u.isSelected,m=s.default("card-body collapse",{show:h},n);return o.createElement(c.Box,r.__assign({},a,{ref:t,id:d,className:m,"aria-labelledby":f,"data-parent":"#"+l}),i)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Badge=void 0;var r=n(11),o=n(0),i=n(13),a=n(0),s=n(12);t.Badge=a.forwardRef(function(e,t){var n=e.variant,a=void 0===n?"info":n,c=e.className,u=e.as,l=void 0===u?"span":u,f=r.__rest(e,["variant","className","as"]);return o.createElement(s.Box,r.__assign({},f,{ref:t,as:l,className:i.default("badge badge-"+a,c)}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BreadcrumbItem=t.Breadcrumbs=void 0;var r=n(11),o=n(0),i=n(0),a=n(13),s=n(12),c=i.createContext(null);t.Breadcrumbs=i.forwardRef(function(e,t){var n=e.children,i=r.__rest(e,["children"]),a=o.Children.toArray(n);return o.createElement(s.Box,r.__assign({as:"nav","aria-label":"breadcrumb",ref:t},i),o.createElement("ol",{className:"breadcrumb"},a.map(function(e,t){var n=t===a.length-1;return o.createElement(c.Provider,{value:{isActive:n}},e)})))}),t.BreadcrumbItem=i.forwardRef(function(e,t){var n=e.as,u=void 0===n?"a":n,l=e.href,f=e.label,p=e.className,d=r.__rest(e,["as","href","label","className"]),h=function(){var e=i.useContext(c);if(!e)throw new Error;return e}().isActive,m=a.default("breadcrumb-item",{active:h},p);return o.createElement("li",{className:m},o.createElement(s.Box,r.__assign({},d,{ref:t,as:u,href:l}),f))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CardOverlay=t.CardSubtitle=t.CardTitle=t.CardBody=t.CardImage=t.Card=void 0;var r=n(11),o=n(0),i=n(13),a=n(0),s=n(12);t.Card=a.forwardRef(function(e,n){var a=e.title,c=e.subtitle,u=e.overlay,l=e.imageUrl,f=e.imageVariant,p=e.className,d=e.children,h=r.__rest(e,["title","subtitle","overlay","imageUrl","imageVariant","className","children"]);return o.createElement(s.Box,r.__assign({},h,{ref:n,className:i.default("card",p)}),l&&"bottom"!==f&&o.createElement(t.CardImage,{url:l,variant:f}),d||o.createElement(t.CardBody,{title:a,subtitle:c}),l&&"bottom"===f&&o.createElement(t.CardImage,{url:l,variant:f}),u&&o.createElement(t.CardOverlay,null,u))}),t.CardImage=a.forwardRef(function(e,t){var n=e.url,a=e.variant,c=void 0===a?"top":a,u=e.className,l=e.style,f=r.__rest(e,["url","variant","className","style"]);return o.createElement(s.Box,r.__assign({},f,{ref:t,className:i.default("card-image","card-image-"+c,u),style:n?r.__assign({backgroundImage:"url("+n+")"},l):l}))}),t.CardBody=a.forwardRef(function(e,n){var a=e.title,c=e.subtitle,u=e.children,l=e.className,f=r.__rest(e,["title","subtitle","children","className"]);return o.createElement(s.Box,r.__assign({},f,{ref:n,className:i.default("card-body",l)}),a&&o.createElement(t.CardTitle,null,a),c&&o.createElement(t.CardSubtitle,null,c),u)}),t.CardTitle=a.forwardRef(function(e,t){var n=e.className,a=r.__rest(e,["className"]);return o.createElement(s.Box,r.__assign({},a,{ref:t,className:i.default("card-title",n)}))}),t.CardSubtitle=a.forwardRef(function(e,t){var n=e.className,a=r.__rest(e,["className"]);return o.createElement(s.Box,r.__assign({},a,{ref:t,className:i.default("card-subtitle",n)}))}),t.CardOverlay=a.forwardRef(function(e,t){var n=e.className,a=r.__rest(e,["className"]);return o.createElement(s.Box,r.__assign({},a,{ref:t,className:i.default("card-overlay",n)}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownToggle=t.DropdownSearchItem=t.DropdownItem=t.DropdownMenu=t.DropdownInput=t.Dropdown=void 0;var r=n(11),o=n(0),i=n(13),a=n(101),s=n(0),c=n(12),u=n(21),l=n(20),f=s.createContext(null),p=function(){var e=s.useContext(f);if(!e)throw new Error;return e},d=["initialSelectedItem","initialInputValue","initialHighlightedIndex","initialIsOpen","defaultHighlightedIndex","defaultIsOpen","selectedItemChanged","getA11yStatusMessage","onSelect","onStateChange","onInputValueChange","stateReducer","itemCount","highlightedIndex","inputValue","isOpen","selectedItem","inputId","labelId","menuId","getItemId","environment","onOuterClick","onUserAction","suppressRefError"];t.Dropdown=s.forwardRef(function(e,t){var n=e.screenReaderLabel,l=e.inline,p=void 0!==l&&l,h=e.children,m=e.className,y=e.disabled,v=r.__rest(e,["screenReaderLabel","inline","children","className","disabled"]),g=r.__read(s.useState(!1),2),b=g[0],_=g[1];return o.createElement(a.default,r.__assign({itemToString:function(e){return e?e.text:""}},v,{onStateChange:function(e,t){"isOpen"in e&&!1===e.isOpen&&e.type===a.default.stateChangeTypes.keyDownEscape?_(!0):_(!1),v.onStateChange&&v.onStateChange(e,t)}}),function(e){return o.createElement(c.Box,r.__assign({ref:t},u.omit(v,d),{className:i.default("dropdown",{"ddi-inline":p},m)},e.getRootProps()),o.createElement("label",r.__assign({},e.getLabelProps({className:"sr-only"})),n),o.createElement(f.Provider,{value:r.__assign({inline:p,disabled:y,shouldFocusToggle:b},e)},h))})}),t.DropdownInput=s.forwardRef(function(e,t){var n=e.className,a=e.style,u=r.__rest(e,["className","style"]),l=s.useContext(f);if(!l)throw new Error;var p=l.disabled,d=l.inputValue,h=l.getInputProps;return o.createElement(c.Box,r.__assign({},u,{className:i.default("ddi-input",n),style:r.__assign({backgroundImage:"none"},a)},h({disabled:p}),{ref:t,as:"input",value:d||""}))}),t.DropdownMenu=s.forwardRef(function(e,t){var n=e.children,a=e.className,s=r.__rest(e,["children","className"]),u=p(),l=u.inputValue,f=u.isOpen,d=u.getMenuProps,h="function"==typeof n?n({inputValue:l}):n,m=Array.isArray(h)?h.length>0:!!h;return o.createElement(c.Box,r.__assign({},s,{ref:t,className:i.default("ddi-wrapper",a)}),o.createElement("div",r.__assign({className:i.default("dropdown-menu",{show:f&&m})},d()),h))}),t.DropdownItem=s.forwardRef(function(e,t){var n=e.icon,a=e.iconPosition,s=void 0===a?"left":a,u=e.index,f=e.item,d=e.disabled,h=e.children,m=e.className,y=r.__rest(e,["icon","iconPosition","index","item","disabled","children","className"]),v=p(),g=v.getItemProps,b=v.highlightedIndex,_=v.itemToString;return o.createElement(c.Box,r.__assign({},y,{ref:t,className:i.default("dropdown-item",{active:u===b},{disabled:d},m)},g({index:u,item:f,disabled:d}),{disabled:d}),h||o.createElement(o.Fragment,null,n&&o.createElement(l.Icon,{icon:n,className:i.default("ddi-item-icon",{"ddi-item-icon-right":"right"===s})}),_(f)))}),t.DropdownSearchItem=s.forwardRef(function(e,t){var n=p(),i=n.disabled,a=n.isOpen,u=n.inputValue,f=n.getInputProps,d=s.useRef(null);return s.useEffect(function(){a&&d.current&&d.current.focus()},[a]),o.createElement(c.Box,r.__assign({},e,{ref:t}),o.createElement(l.Icon,{icon:"search",className:"ddi-category-search-icon"}),o.createElement("input",r.__assign({ref:d,className:"ddi-category-search form-control"},f({disabled:i}),{value:u||""})))}),t.DropdownToggle=s.forwardRef(function(e,t){var n,a=e.children,l=e.className,f=e.placeholder,d=r.__rest(e,["children","className","placeholder"]),h=p(),m=h.disabled,y=h.getToggleButtonProps,v=h.inline,g=h.isOpen,b=h.selectedItem,_=h.shouldFocusToggle,E=s.useRef(null);return s.useEffect(function(){!g&&E.current&&_&&E.current.focus()},[g,_]),o.createElement(c.Box,r.__assign({},d,{ref:u.mergeRefs(t,E),as:"button",type:"button",disabled:m,className:i.default("ddi-input",(n={},n["dropdown-item "+(m?"":null===b?"dropdown-item-placeholder":"text-body")]=!a,n),{"ddi-input-btn":v},l)},y()),a||(null===b?f:b.text))})},function(e,t,n){"use strict";var r=n(56);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case a:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case y:case u:return e;default:return t}}case i:return t}}}function w(e){return E(e)===p}t.typeOf=E,t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=u,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=y,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===_)},t.isAsyncMode=function(e){return w(e)||E(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===h}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Inline=void 0;var r=n(11),o=n(0),i=n(13),a=n(0),s=n(12);t.Inline=a.forwardRef(function(e,t){var n,a=e.children,c=e.itemSpacing,u=e.justify,l=e.align,f=e.style,p=void 0===f?{}:f,d=r.__rest(e,["children","itemSpacing","justify","align","style"]),h=o.Children.toArray(a);return o.createElement(s.Box,r.__assign({},d,{ref:t,style:r.__assign({overflow:"hidden"},p)}),o.createElement("div",{className:i.default("d-flex flex-wrap",(n={},n["justify-content-"+u]=u,n["align-items-"+l]=l,n)),style:{marginRight:"-"+c+"rem",marginBottom:"-"+c+"rem"}},h.map(function(e,t){return o.isValidElement(e)?o.createElement(s.Box,{key:t,padding:{pb:c,pr:c}},e):e})))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;var r=n(11),o=n(0),i=n(13),a=n(0),s=n(12);t.Label=a.forwardRef(function(e,t){var n=e.as,a=void 0===n?"span":n,c=e.className,u=e.variant,l=void 0===u?"standard":u,f=r.__rest(e,["as","className","variant"]),p=i.default("label label-"+l,c);return o.createElement(s.Box,r.__assign({},f,{ref:t,as:a,className:p}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r=n(11),o=n(0),i=n(23),a=n(61),s=n(13),c=n(0),u=n(12);function l(e){var t=e.className;return i.createPortal(o.createElement("div",{className:s.default("modal-backdrop show",t)}),document.body)}a.setAppElement("body"),t.Modal=function(e){var t=e.overlayClassName,n=r.__rest(e,["overlayClassName"]),i=n.isOpen,f=n.closeModal,p=n.children,d=n.className,h=n.variant,m=void 0===h?"lg":h,y=n.showX,v=void 0===y||y,g=n.closeOnClickOutside,b=void 0===g||g,_=n.padding,E=r.__rest(n,["isOpen","closeModal","children","className","variant","showX","closeOnClickOutside","padding"]);return c.useEffect(function(){var e=document.body;if(i)return e.classList.contains("modal-open")||e.classList.add("modal-open"),function(){e.classList.contains("modal-open")&&e.classList.remove("modal-open")}},[i]),o.createElement(o.Fragment,null,o.createElement(a,r.__assign({isOpen:i,onRequestClose:b?f:void 0,overlayClassName:"modal d-block",className:s.default("modal-dialog modal-dialog-centered modal-"+m,d)},E),o.createElement(u.Box,{padding:_,className:"modal-content"},p,v&&o.createElement("button",{type:"button",className:"modal-close p-0 m-0 border-0 bg-transparent",onClick:f,"aria-label":"Close modal"},o.createElement("i",{className:"chi-remove"}))),o.createElement(l,{className:t})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(62),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=h(i),s=h(n(23)),c=h(n(34)),u=h(n(65)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(36)),f=n(27),p=h(f),d=n(71);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=t.portalClassName="ReactModalPortal",v=t.bodyOpenClassName="ReactModal__Body--open",g=void 0!==s.default.createPortal,b=function(){return g?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function _(e){return e()}var E=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=Array(i),l=0;l<i;l++)c[l]=arguments[l];return n=o=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.removePortal=function(){!g&&s.default.unmountComponentAtNode(o.node);var e=_(o.props.parentSelector);e?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=b()(o,a.default.createElement(u.default,r({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(g||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,_(this.props.parentSelector).appendChild(this.node),!g&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:_(e.parentSelector),nextParent:_(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,o=r.isOpen,i=r.portalClassName;e.portalClassName!==i&&(this.node.className=i);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!g&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&g?(!this.node&&g&&(this.node=document.createElement("div")),b()(a.default.createElement(u.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){l.setElement(e)}}]),t}(i.Component);E.propTypes={isOpen:c.default.bool.isRequired,style:c.default.shape({content:c.default.object,overlay:c.default.object}),portalClassName:c.default.string,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,className:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),overlayClassName:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),appElement:c.default.instanceOf(p.default),onAfterOpen:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,ariaHideApp:c.default.bool,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,parentSelector:c.default.func,aria:c.default.object,data:c.default.object,role:c.default.string,contentLabel:c.default.string,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func},E.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:v,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},E.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,d.polyfill)(E),t.default=E},function(e,t,n){"use strict";var r=n(64);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=y(a),c=y(n(34)),u=m(n(66)),l=y(n(67)),f=m(n(36)),p=m(n(69)),d=y(n(27)),h=y(n(37));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}n(70);var v={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},g=9,b=27,_=0,E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,i=e.bodyOpenClassName;i&&p.remove(document.body,i),o&&p.remove(document.getElementsByTagName("html")[0],o),r&&_>0&&0===(_-=1)&&f.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),h.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===g&&(0,l.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===b&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":o(t))?t:{base:v[e],afterOpen:v[e]+"--after-open",beforeClose:v[e]+"--before-close"},i=r.base;return n.state.afterOpen&&(i=i+" "+r.afterOpen),n.state.beforeClose&&(i=i+" "+r.beforeClose),"string"==typeof t&&t?i+" "+t:i},n.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(n,r){return n[e+"-"+r]=t[r],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&p.add(document.body,o),r&&p.add(document.getElementsByTagName("html")[0],r),n&&(_+=1,f.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,i=e.defaultStyles,a=n?{}:i.content,c=o?{}:i.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:r({},c,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({id:t,ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(a.Component);E.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},E.propTypes={isOpen:c.default.bool.isRequired,defaultStyles:c.default.shape({content:c.default.object,overlay:c.default.object}),style:c.default.shape({content:c.default.object,overlay:c.default.object}),className:c.default.oneOfType([c.default.string,c.default.object]),overlayClassName:c.default.oneOfType([c.default.string,c.default.object]),bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,ariaHideApp:c.default.bool,appElement:c.default.instanceOf(d.default),onAfterOpen:c.default.func,onAfterClose:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,role:c.default.string,contentLabel:c.default.string,aria:c.default.object,data:c.default.object,children:c.default.node,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,id:c.default.string,testId:c.default.string},t.default=E,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=u,t.handleFocus=l,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==a.length&&(e=a.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",l))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",l))};var r,o=n(35),i=(r=o)&&r.__esModule?r:{default:r};var a=[],s=null,c=!1;function u(){c=!0}function l(){if(c){if(c=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,o=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!o)return;r=s}s!==document.activeElement||o||(r=a);a===document.activeElement&&o&&(r=s);if(r)return t.preventDefault(),void r.focus();var c=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==c||"Chrome"==c[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var u=n.indexOf(document.activeElement);u>-1&&(u+=o?-1:1);if(void 0===(r=n[u]))return t.preventDefault(),void(r=o?s:a).focus();t.preventDefault(),r.focus()};var r,o=n(35),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){var r;!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},o={};t.add=function(e,t){return n=e.classList,i="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),n.add(e)});var n,i},t.remove=function(e,t){return n=e.classList,i="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&n.remove(e)});var n,i}},function(e,t,n){"use strict";var r,o=n(37),i=(r=o)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,c=[];function u(){0!==c.length&&c[c.length-1].focusContent()}i.default.subscribe(function(e,t){a&&s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",u),(s=a.cloneNode()).addEventListener("focus",u)),(c=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))})},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var c=e.displayName||e.name,u="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pagination=void 0;var r=n(11),o=n(0),i=n(0),a=n(12),s=o.createElement("span",{className:"page-more"},"...");t.Pagination=i.forwardRef(function(e,t){var n=e.totalPages,i=e.selectedPage,c=e.getPageLink,u=e.as,l=void 0===u?"nav":u,f=r.__rest(e,["totalPages","selectedPage","getPageLink","as"]);function p(e){var t,n,r=c(e);return e===i?(t="page-link active",n="Current page, page "+e):(t="page-link",n="Go to page "+e),r.props.className&&"string"==typeof r.props.className&&(t=r.props.className+" "+t),o.cloneElement(r,{className:t,"aria-label":n})}function d(e){var t,r=c("prev"===e?i-1:i+1),a="page-link",s="prev"===e?"Go to the previous page":"Go to the next page";r.props.className&&"string"==typeof r.props.className&&(a=r.props.className+" "+a);var u={className:a,"aria-label":s};return"prev"===e?(1===i&&(u.className+=" disabled",u["aria-disabled"]=!0),t=o.cloneElement(r,u,o.createElement("i",{className:"chi-pointer-left"}),o.createElement("span",{className:"page-prev"},"Previous"))):(i===n&&(u.className+=" disabled",u["aria-disabled"]=!0),t=o.cloneElement(r,u,o.createElement("span",{className:"page-next"},"Next"),o.createElement("i",{className:"chi-pointer-right"}))),t}var h,m,y=[],v=!1,g=!1;n<=7?(h=1,m=n):i<=4?(h=1,m=5,g=!0):i+3>=n?(h=n-4,m=n,v=!0):(i>997?(h=i-1,m=i+1):(h=i-2,m=i+2),v=!0,g=!0),v&&(y.push({key:1,link:p(1)}),y.push({key:-1,link:s}));for(var b=h;b<=m;b++)y.push({key:b,link:p(b)});return g&&(y.push({key:-2,link:s}),y.push({key:n,link:p(n)})),o.createElement(a.Box,r.__assign({},f,{as:l,ref:t,role:"navigation","aria-label":"Pagination Navigation",className:"pagination"}),o.createElement("ul",{className:"pages"},o.createElement("li",{className:"page"},d("prev")),y.map(function(e){return o.createElement("li",{key:e.key,className:"page"},e.link)}),o.createElement("li",{className:"page"},d("next"))))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PanelDivider=t.Panel=void 0;var r=n(11),o=n(0),i=n(13),a=n(0),s=n(12);t.Panel=a.forwardRef(function(e,t){var n=e.bordered,a=e.elevated,c=e.padding,u=void 0===c?{p:3}:c,l=e.className,f=r.__rest(e,["bordered","elevated","padding","className"]),p=i.default("panel",{"panel-bordered":n,"panel-elevated":a},l);return o.createElement(s.Box,r.__assign({},f,{ref:t,padding:u,className:p}))}),t.PanelDivider=a.forwardRef(function(e,t){var n=e.className,a=e.variant,c=e.margin,u=void 0===c?{my:3}:c,l=r.__rest(e,["className","variant","margin"]),f=i.default("panel-divider","light"===a&&"panel-divider-light",n);return o.createElement(s.Box,r.__assign({},l,{ref:t,margin:u,className:f}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromptHeading=t.PromptIcon=t.PromptClose=t.PromptCTA=t.PromptBannerText=t.Prompt=void 0;var r=n(11),o=n(13),i=n(0),a=n(0),s=n(12),c=n(26),u=n(20);t.Prompt=a.forwardRef(function(e,t){var n,a,c=e.variant,u=void 0===c?"inline":c,l=e.color,f=e.className,p=r.__rest(e,["variant","color","className"]),d=o.default("prompt",((n={})["prompt-"+u]=u,n),{"prompt-floater":"snackbar"===u},((a={})["prompt-"+l]=l,a),f);return i.createElement(s.Box,r.__assign({},p,{ref:t,className:d,role:"alert"}))}),t.PromptBannerText=a.forwardRef(function(e,t){var n=e.className,a=r.__rest(e,["className"]),c=o.default("prompt-banner-text",n);return i.createElement(s.Box,r.__assign({},a,{ref:t,className:c}))}),t.PromptCTA=a.forwardRef(function(e,t){var n=e.variant,a=void 0===n?"secondary":n,s=e.size,u=void 0===s?"sm":s,l=e.className,f=r.__rest(e,["variant","size","className"]),p=o.default("prompt-cta",l);return i.createElement(c.Button,r.__assign({},f,{ref:t,variant:a,size:u,className:p}))}),t.PromptClose=a.forwardRef(function(e,t){var n=e.className,a=e.padding,s=void 0===a?{p:1}:a,u=r.__rest(e,["className","padding"]),l=o.default("prompt-close",n);return i.createElement(c.Button,r.__assign({},u,{ref:t,variant:"tertiary",padding:s,"aria-label":"Close prompt",className:l,icon:"remove"}))}),t.PromptIcon=a.forwardRef(function(e,t){var n=e.icon,a=void 0===n?"infomation-circle-filled":n,s=e.className,c=r.__rest(e,["icon","className"]),l=o.default("prompt-icon text-primary",s);return i.createElement(u.Icon,r.__assign({},c,{icon:a,ref:t,className:l}))}),t.PromptHeading=a.forwardRef(function(e,t){var n=e.className,a=r.__rest(e,["className"]),c=o.default("prompt-heading",n);return i.createElement(s.Box,r.__assign({},a,{ref:t,className:c}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var r=n(11),o=n(0),i=n(0),a=n(12),s=n(20);t.Spinner=i.forwardRef(function(e,t){var n=e.variant,i=void 0===n?"lg":n,c=r.__rest(e,["variant"]);return o.createElement(a.Box,r.__assign({},c,{ref:t}),o.createElement(s.Icon,{icon:"simple-spinner",className:"spinner spinner-"+i}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;var r=n(11),o=n(0),i=n(13),a=n(0),s=n(12);t.Stack=a.forwardRef(function(e,t){var n,a=e.children,u=e.className,l=e.align,f=e.itemSpacing,p=r.__rest(e,["children","className","align","itemSpacing"]),d=o.Children.toArray(a);return o.createElement(s.Box,r.__assign({},p,{ref:t,className:i.default("d-flex flex-column",(n={},n["align-items-"+l]=l,n),u)}),d.map(function(e,t){if(!o.isValidElement(e))return e;var n=d.length-1===t,r=c(f);return o.createElement(s.Box,{key:t,margin:n?void 0:r},e)}))});var c=function(e){var t,n;if("object"==typeof e){var o={};try{for(var i=r.__values(Object.entries(e)),a=i.next();!a.done;a=i.next()){var s=r.__read(a.value,2),c=s[0],u=s[1];o["xs"===c?"mb":"mb-"+c]=u}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}return{mb:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabPanel=t.Tab=t.TabList=t.Tabs=void 0;var r=n(11),o=n(0),i=n(0),a=n(25),s=n(13),c=n(12),u=n(33);function l(e,t){return"value"in e.props?e.props.value:t}var f=i.createContext(null);t.Tabs=i.forwardRef(function(e,n){var s=e.selectedValue,p=e.defaultValue,d=e.onSelect,h=e.children,m=e.id,y=r.__rest(e,["selectedValue","defaultValue","onSelect","children","id"]),v=u.useRoverState({orientation:"horizontal",loop:!0}),g=a.useId(),b=m||"tabs-"+g,_=o.Children.toArray(h)[0];if(!o.isValidElement(_)||_.type!==t.TabList)throw new Error("First child of `Tabs` must be `TabList`");var E=o.Children.toArray(_.props.children),w=E.filter(o.isValidElement).filter(function(e){return e.type===t.Tab});if(w.length!==E.length)throw new Error("Children of `TabList` must be `Tab`s");var O=o.Children.toArray(h).slice(1),S=O.filter(o.isValidElement).filter(function(e){return e.type===t.TabPanel});if(S.length!==O.length)throw new Error("Children of `Tabs` must be 1 `TabList` then `TabPanel`s");if(w.length!==S.length)throw console.error("Mismatch in number of `Tab`s and number of `TabPanel`s"),new Error;var I=r.__read(i.useState(p||function(e){if(e.length<1)throw new Error;for(var t=0;t<e.length;t++){var n=e[t];if(!n.props.disabled)return l(n,t)}}(w)),2),C=I[0],x=I[1],A=r.__read(void 0!==s?[s,d]:[C,function(e){x(e),d&&d(e)}],2),R=A[0],P=A[1];if(!P)throw new Error("Must provide onSelect if using Tabs as a controlled component");var N=[];return w.forEach(function(e,t){var n=l(e,t),r=R===n,i=b+"-"+t,a=i+"-tab",s=i+"-tab-panel";N.push(o.createElement(f.Provider,{value:{parentId:b,tabId:a,tabPanelId:s,onSelect:function(){return P(n)},isSelected:r,rover:v}}))}),o.createElement(c.Box,r.__assign({},y,{id:b,ref:n}),o.cloneElement(_,{},o.Children.map(_.props.children,function(e,t){return o.isValidElement(e)?o.cloneElement(N[t],{},e):e})),o.Children.map(S,function(e,t){return o.isValidElement(e)?o.cloneElement(N[t],{},e):e}))}),t.TabList=i.forwardRef(function(e,t){var n,i=e.as,a=void 0===i?"ul":i,u=e.variant,l=e.className,f=r.__rest(e,["as","variant","className"]),p=s.default("tabs",((n={})["tabs-"+u]=u,n),l);return o.createElement(c.Box,r.__assign({},f,{as:a,ref:t,className:p}))}),t.Tab=i.forwardRef(function(e,t){var n=e.as,a=void 0===n?"li":n,l=e.className,p=e.onClick,d=e.onFocus,h=e.children,m=e.disabled,y=r.__rest(e,["as","className","onClick","onFocus","children","disabled"]),v=i.useContext(f);if(!v)throw new Error;var g=v.tabId,b=v.tabPanelId,_=v.onSelect,E=v.isSelected,w=s.default("tab",{active:E},{disabled:m},l);return o.createElement(u.Rover,{rover:v.rover},o.createElement(c.Box,r.__assign({},y,{onClick:function(e){p&&p(e),m||_()},onFocus:function(e){d&&d(e),m||_()},ref:t,as:a,id:g,"aria-disabled":m,disabled:m,className:w,"aria-selected":E,"aria-controls":b}),h))}),t.TabPanel=i.forwardRef(function(e,t){var n=e.children,a=e.className,u=r.__rest(e,["children","className"]),l=i.useContext(f);if(!l)throw new Error;var p=l.tabId,d=l.tabPanelId,h=l.isSelected;return o.createElement(c.Box,r.__assign({},u,{className:s.default("tab-panel",a),tabIndex:0,hidden:!h,ref:t,id:d,"aria-labelledby":p}),n)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;var r=n(11),o=n(0),i=n(13),a=n(102);t.Tooltip=function(e){var t=e.position,n=void 0===t?"bottom":t,s=e.variant,c=e.children,u=e.tooltipContent,l=e.showArrow,f=void 0===l||l,p=e.isOpen,d=r.__read(o.useState(!1),2),h=d[0],m=d[1],y=void 0!==p,v=y?void 0:function(){return m(!0)},g=y?void 0:function(){return m(!1)},b=y?i.default({show:p}):i.default({show:h});return o.createElement(a.Manager,null,o.createElement(a.Reference,null,function(e){var t=e.ref;return o.Children.map(c,function(e,n){return 0===n?o.cloneElement(e,{ref:t,onMouseEnter:v,onMouseLeave:g}):o.cloneElement(e)})}),o.createElement(a.Popper,{placement:n},function(e){var t,n=e.ref,r=e.style,a=e.placement,c=e.arrowProps;return o.createElement("div",{className:i.default("tooltip tooltip-"+a,(t={},t["tooltip-"+s]=s,t),b),ref:n,style:r,"data-placement":a},f?o.createElement("div",{className:"tooltip-arrow",ref:c.ref}):null,o.createElement("div",{className:"tooltip-inner"},u))}))}},function(e,t,n){"use strict";var r=Array.prototype.slice,o=n(38),i=Object.keys,a=i?function(e){return i(e)}:n(80),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(38),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=u&&n;if(s&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(r&&e.length>0)for(var y=0;y<e.length;++y)p.push(String(y));else for(var v in e)h&&"prototype"===v||!o.call(e,v)||p.push(String(v));if(c)for(var g=function(e){if("undefined"==typeof window||!d)return f(e);try{return f(e)}catch(e){return!1}}(e),b=0;b<l.length;++b)g&&"constructor"===l[b]||!o.call(e,l[b])||p.push(l[b]);return p}}e.exports=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.prototype.toString,i=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o.call(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o.call(e)&&"[object Function]"===o.call(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},function(e,t,n){"use strict";var r=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){"use strict";var r=n(84),o=RegExp.prototype.exec,i=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===a.call(e);var t=i(e,"lastIndex");return!(!t||!r(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,o.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,n){var r=n(28);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(r+t);for(var n,a=o.call(arguments,1),s=function(){if(this instanceof n){var r=t.apply(this,a.concat(o.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(o.call(arguments)))},c=Math.max(0,t.length-a.length),u=[],l=0;l<c;l++)u.push("$"+l);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var f=function(){};f.prototype=t.prototype,n.prototype=new f,f.prototype=null}return n}},function(e,t,n){"use strict";var r=n(29),o=n(89),i=n(40),a=n(41),s=n(93),c=o(i);r(c,{getPolyfill:a,implementation:i,shim:s}),e.exports=c},function(e,t,n){"use strict";var r=Array.prototype.slice,o=n(39),i=Object.keys,a=i?function(e){return i(e)}:n(88),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(r.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(39),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=u&&n;if(s&&e.length>0&&!o.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(r&&e.length>0)for(var y=0;y<e.length;++y)p.push(String(y));else for(var v in e)h&&"prototype"===v||!o.call(e,v)||p.push(String(v));if(c)for(var g=function(e){if("undefined"==typeof window||!d)return f(e);try{return f(e)}catch(e){return!1}}(e),b=0;b<l.length;++b)g&&"constructor"===l[b]||!o.call(e,l[b])||p.push(l[b]);return p}}e.exports=r},function(e,t,n){"use strict";var r=n(28),o=n(90)("%Function%"),i=o.apply,a=o.call;e.exports=function(){return r.apply(a,arguments)},e.exports.apply=function(){return r.apply(i,arguments)}},function(e,t,n){"use strict";var r=TypeError,o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch(e){o=null}var i=function(){throw new r},a=o?function(){try{return arguments.callee,i}catch(e){try{return o(arguments,"callee").get}catch(e){return i}}}():i,s=n(91)(),c=Object.getPrototypeOf||function(e){return e.__proto__},u=void 0,l="undefined"==typeof Uint8Array?void 0:c(Uint8Array),f={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?c([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":u&&s&&Symbol.asyncIterator?u[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?c(c([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&s?c((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&s?c((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?c(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypedArrayPrototype%":l?l.prototype:void 0,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},p=n(28).call(Function.call,String.prototype.replace),d=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,h=/\\(\\)?/g,m=function(e){var t=[];return p(e,d,function(e,n,r,o){t[t.length]=r?p(o,h,"$1"):n||e}),t},y=function(e,t){if(!(e in f))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===f[e]&&!t)throw new r("intrinsic "+e+" exists, but is not available. Please file an issue!");return f[e]};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=m(e),i=y("%"+(n.length>0?n[0]:"")+"%",t),a=1;a<n.length;a+=1)if(null!=i)if(o&&a+1>=n.length){var s=o(i,n[a]);if(!(t||n[a]in i))throw new r("base intrinsic for "+e+" exists, but the property is not available.");i=s?s.get||s.value:i[n[a]]}else i=i[n[a]];return i}},function(e,t,n){"use strict";(function(t){var r=t.Symbol,o=n(92);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}}).call(this,n(22))},function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r=n(29).supportsDescriptors,o=n(41),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!r||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=c(u),n=i(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=(a(r),a(n(96))),i=a(n(99));a(n(24));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;t.default=function(e,t){var n,a,f="__create-react-context-"+(0,i.default)()+"__",p=function(e){function n(){var t,r,o,i;s(this,n);for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return t=r=c(this,e.call.apply(e,[this].concat(u))),r.emitter=(o=r.props.value,i=[],{on:function(e){i.push(e)},off:function(e){i=i.filter(function(t){return t!==e})},get:function(){return o},set:function(e,t){o=e,i.forEach(function(e){return e(o,t)})}}),c(r,t)}return u(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)?o=0:(o="function"==typeof t?t(n,r):l,0!==(o|=0)&&this.emitter.set(e.value,o))}var i,a},n.prototype.render=function(){return this.props.children},n}(r.Component);p.childContextTypes=((n={})[f]=o.default.object.isRequired,n);var d=function(t){function n(){var e,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=c(this,t.call.apply(t,[this].concat(i))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},c(r,e)}return u(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?l:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?l:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return d.contextTypes=((a={})[f]=o.default.object,a),{Provider:p,Consumer:d}},e.exports=t.default},function(e,t,n){e.exports=n(97)()},function(e,t,n){"use strict";var r=n(98);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(22))},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(23),i=n(6),a=n.n(i),s=n(14),c=n.n(s),u=n(1),l=n.n(u),f=n(8),p=n.n(f),d=n(9),h=n.n(d),m=n(5),y=n.n(m);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var g=function(e){p()(n,e);var t=v(n);function n(){return a()(this,n),t.apply(this,arguments)}return c()(n,[{key:"getClassName",value:function(e){var t="";for(var n in e)t+=e[n]?" "+n:"";return t}}]),n}(r.Component),b=n(17),_=n.n(b),E=function(e){var t,n,o=e.disabledClass?e.disabledClass:"disabled",i=e.className,a=e.href,s=e.icon,c=e.id,u=e.label,l=e.onClick,f=e.tooltipText,p=e.tooltipClass,d=e.isHodorTooltip,h=e.disabled,m=e.iconPosition,y=e.onBlur;i+=h?" ".concat(o):"",s&&(t=r.createElement("i",{className:s,"aria-hidden":"true"})),f&&(n=d?r.createElement("span",{className:p||"","data-tooltip":f}):r.createElement("span",{className:p||""},f));return r.createElement("a",_()({id:c,href:a||"javascript:void(0)",className:i,onClick:function(e){l&&!h&&l(e)},onBlur:y},e.chAnalyticsData),m&&"left"!==m?null:t,u,m&&"right"===m?t:null,n)};var w=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e},O=n(44),S="object"==typeof self&&self&&self.Object===Object&&self,I=(O.a||S||Function("return this")()).Symbol;var C=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},x=Array.isArray,A=Object.prototype,R=A.hasOwnProperty,P=A.toString,N=I?I.toStringTag:void 0;var T=function(e){var t=R.call(e,N),n=e[N];try{e[N]=void 0;var r=!0}catch(e){}var o=P.call(e);return r&&(t?e[N]=n:delete e[N]),o},D=Object.prototype.toString;var k=function(e){return D.call(e)},j="[object Null]",U="[object Undefined]",M=I?I.toStringTag:void 0;var H=function(e){return null==e?void 0===e?U:j:M&&M in Object(e)?T(e):k(e)};var L=function(e){return null!=e&&"object"==typeof e},B="[object Symbol]";var F=function(e){return"symbol"==typeof e||L(e)&&H(e)==B},z=1/0,W=I?I.prototype:void 0,V=W?W.toString:void 0;var K=function e(t){if("string"==typeof t)return t;if(x(t))return C(t,e)+"";if(F(t))return V?V.call(t):"";var n=t+"";return"0"==n&&1/t==-z?"-0":n};var $=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},G=NaN,q=/^\s+|\s+$/g,Y=/^[-+]0x[0-9a-f]+$/i,Q=/^0b[01]+$/i,X=/^0o[0-7]+$/i,J=parseInt;var Z=function(e){if("number"==typeof e)return e;if(F(e))return G;if($(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(q,"");var n=Q.test(e);return n||X.test(e)?J(e.slice(2),n?2:8):Y.test(e)?G:+e},ee=1/0,te=17976931348623157e292;var ne=function(e){return e?(e=Z(e))===ee||e===-ee?(e<0?-1:1)*te:e==e?e:0:0===e?e:0};var re=function(e){var t=ne(e),n=t%1;return t==t?n?t-n:t:0};var oe=function(e){return null==e?"":K(e)};var ie=function(e,t,n){return e=oe(e),n=null==n?0:w(re(n),0,e.length),t=K(t),e.slice(n,n+t.length)==t},ae=function(){return r.createElement("span",{style:{display:"inline-block",position:"relative",fontSize:"11px",lineHeight:"18px",marginLeft:"8px",color:"#e00099",fontWeight:"normal",border:"1px solid #e00099",borderRadius:"3px",top:"-11px",padding:"1px 5px 0"}},"Beta")},se=n(10),ce=n.n(se);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach(function(t){ce()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var fe,pe,de,he=window.dataLayer,me=window.tracker;!function(e){e.PRIMARY="Primary",e.SECONDARY="Secondary",e.INTERSTITIAL="Interstitial",e.BANNER="Banner",e.LINK="Link"}(fe||(fe={})),function(e){e.TAB="Tab",e.POPUP="Pop-up",e.VIDEO="Video",e.MODAL="modal",e.RADIO_BUTTON="radio button",e.RADIO_SELECTION="Radio Selection",e.SECURE_PAYMENT_FORM="Secure Payment Form",e.CALL_TO_ACTION="Call to Action"}(pe||(pe={})),function(e){e.LOGGED_OUT="logged out",e.BASIC="basic",e.PREMIER="premier"}(de||(de={}));var ye,ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.setPageType,o=n.timestamp;void 0!==he&&(void 0!==me&&me.super_properties instanceof Object&&(t=le(le({},me.super_properties),t)),r&&(t.page_type=me.get_page_type()),he.push({event:"User Tracking Event",user_tracking_properties:{eventName:e,properties:t},_clear:!0}));var i,a,s,c,u,l,f,p,d=window.amplitude;d?((null===(i=window)||void 0===i?void 0:null===(a=i.__CH_PERSON)||void 0===a?void 0:a.id)&&d.getInstance().setUserId(window.__CH_PERSON.id),(null===(s=window)||void 0===s?void 0:null===(c=s.__CH_TRACKER)||void 0===c?void 0:c.DEVICE_ID)&&d.getInstance().setDeviceId(window.__CH_TRACKER.DEVICE_ID),(null===(u=window)||void 0===u?void 0:null===(l=u.__CH_TRACKER)||void 0===l?void 0:l.SESSION)&&d.getInstance().setSessionId(window.__CH_TRACKER.SESSION),o?d.getInstance().logEventWithTimestamp(e,t,o):d.getInstance().logEvent(e,t)):null===(f=window.__CH_TRACKER)||void 0===f||null===(p=f.BUFFER)||void 0===p||p.push({eventName:e,properties:t})};!function(e){e.TAB="tab",e.BTN="buttonName"}(ye||(ye={}));var ge,be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={};o[e]=t,0!==n&&(o[e]="courseUrl",o.courseId=n);var i=new RegExp("/home/"),a=i.test(window.location.href)?"on dashboard":"on other page";o.dashboard=a,o.referringUrl=window.location.href;var s=r?"[Educator] ":"";ve("".concat(s,"Left Navigation Click"),o)},_e=n(16);function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}!function(e){e.Archive="Archive",e.Unarchive="Unarchive",e.Remove="Remove"}(ge||(ge={}));var we=function(e){p()(n,e);var t=Ee(n);function n(e){var r;return a()(this,n),(r=t.call(this,e)).state={isCourseListExpanded:!1},r.toggleCourseListExpand=r.toggleCourseListExpand.bind(l()(r)),r.changeHash=r.changeHash.bind(l()(r)),r.onHashChange=r.onHashChange.bind(l()(r)),r}return c()(n,[{key:"componentDidMount",value:function(){window.addEventListener("hashchange",this.onHashChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.onHashChange)}},{key:"onHashChange",value:function(){this.forceUpdate()}},{key:"toggleCourseListExpand",value:function(){this.setState({isCourseListExpanded:!this.state.isCourseListExpanded})}},{key:"changeHash",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;be(ye.TAB,e,t,this.props.isEducator),window.location.pathname===this.props.homepageUrlPath?window.location.hash=e:window.location.href="".concat(this.props.homepageUrlPath,"#").concat(e)}},{key:"isTabActive",value:function(e){return ie(window.location.hash,e,1)}},{key:"isUrlActive",value:function(e){return window.location.href.indexOf(e)>=0}},{key:"render",value:function(){var e=this,t=Array.isArray(this.props.courses)?this.props.courses.filter(function(t){return!t.isUserArchived&&!e.props.coursesToHideTaxonomyLink.includes(t.id)}):[],o=t.length,i=null,a=null,s=null,c=null,u=this.props.isEducator;if(o||u){this.state.isCourseListExpanded||(t=t.slice(0,3));var l=t.map(function(t,n){var o=u?"/library/".concat(t.folderId,"/my-uploads/"):t.url,i=u&&e.isUrlActive("/library/".concat(t.folderId,"/"))?"active":"",a={"data-cha-target-name":"remove_course_btn","data-cha-action-type":"remove","data-cha-action-target-type":"course","data-cha-action-target-id":t.id,"data-cha-location":"left_sidebar"},s=[{text:ge.Remove,value:ge.Remove,chAnalyticsData:a}];return r.createElement("li",{key:n,className:"".concat("clickable"," ").concat(i),onClick:function(){u?e.changeHash(o,t.id):(be(ye.TAB,t.url,t.id),window.location.href=t.url)},"data-cha-target-name":"course_link","data-cha-location":e.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":o},r.createElement("div",{className:"".concat("shouldTruncateText")},t.title),e.props.isEducator&&e.props.onCourseActionClick&&r.createElement("div",{className:"eduCourseDropdown",onClick:function(e){e.stopPropagation()}},r.createElement(_e.Dropdown,{screenReaderLabel:"Remove course",onClick:function(e){return e.stopPropagation()},onSelect:function(n){n&&(!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={name:e,action:t};0!==n&&(o.courseId=n);var i=r?"[Educator] ":"";ve("".concat(i,"Dashboard - Course Click"),o)}("Course List Hamburger Dots",n.value,t.id,e.props.isEducator),e.props.onCourseActionClick&&e.props.onCourseActionClick(t,n.value))},className:"nav-dropdowns",inline:!0},r.createElement(_e.DropdownToggle,{className:"p-0"},r.createElement(_e.Icon,{icon:"ellipse-vertical"})),r.createElement(_e.DropdownMenu,null,s.map(function(e,t){return r.createElement(_e.DropdownItem,{key:e.value,index:t,item:e})})))))});if(a=r.createElement("ul",{className:"list-unstyled courseList"},l,u&&r.createElement("li",{className:"uncategorized ".concat("clickable"," ").concat(this.isUrlActive(n.UNCATEGORIZED_HASH)?"active":""),onClick:function(){e.changeHash(n.UNCATEGORIZED_HASH)},"data-cha-target-name":"uncategorized_link","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":n.UNCATEGORIZED_HASH},r.createElement("div",{className:"".concat("shouldTruncateText")},"Uncategorized"),this.props.isEducator&&void 0!==this.props.uncategorizedContentCount&&this.props.uncategorizedContentCount>0&&r.createElement("div",{className:"importantTotal"},this.props.uncategorizedContentCount))),o>t.length||this.state.isCourseListExpanded){var f=this.state.isCourseListExpanded?"Show less":"Show all";s=r.createElement("li",null,r.createElement(E,{className:"small text-decoration-none",label:f,onClick:function(){be(ye.BTN,f,0,e.props.isEducator),e.toggleCourseListExpand()},chAnalyticsData:{"data-cha-target-name":"show_more_courses_button","data-cha-action-type":this.state.isCourseListExpanded?"collapse":"expand","data-cha-action-target-type":"course_list","data-cha-location":this.props.chaLocation}}))}}this.props.onClickAddCourseBtn&&(c=r.createElement("div",{className:"navIconRight"},r.createElement(_e.Box,{className:"position-relative"},r.createElement(_e.Tooltip,{tooltipContent:"Add a Course",position:"top"},r.createElement("i",{className:"chi-add-circle",onClick:function(t){be(ye.BTN,"Add Course Icon",0,e.props.isEducator),e.props.onClickAddCourseBtn&&e.props.onClickAddCourseBtn(t)},"data-cha-target-name":"add_course_btn","data-cha-location":"left_sidebar","data-cha-action-type":"attempt_to_add","data-cha-action-target-type":"new_course"}))))),(t&&t.length>0||c)&&(i=r.createElement("li",{className:"".concat("main"," -my-courses-")},r.createElement("i",{className:"navIcon chi-course-title"}),"My Courses",c,u&&this.props.firstCourse&&r.createElement("span",{className:"addCourseTooltip"},r.createElement("div",{className:"toolTipText"},"Your course has been added! You can keep adding courses by using the + button."),r.createElement("a",{className:"closeToolTip",onClick:this.props.unsetFirstCourse},"Got it!"))));var p=null;this.props.showUploadTooltip&&(p=r.createElement("div",{className:"navIconRight"},r.createElement(_e.Box,{className:"position-relative"},r.createElement(_e.Tooltip,{tooltipContent:"Unlock free access to study documents or tutoring by sharing your own study resources with the Course Hero community.",position:"top"},r.createElement("i",{className:"chi-infomation-circle isUpload"})))));var d={fontSize:"inherit",lineHeight:"inherit",color:"inherit",transition:"none",backgroundColor:"inherit",padding:0,textDecoration:"none"},h=u&&this.props.hasAccessToEducatorExchange&&r.createElement(r.Fragment,null,r.createElement("ul",{className:"list-unstyled"},n.marketplaceTabs.map(function(t,o){var i=t.hash===n.MARKETPLACE_EARNINGS_HASH&&e.props.canClaimEarnings&&(e.props.unclaimedEarningsCount||0)>0;return 0===o?r.createElement("ul",{key:o,className:"list-unstyled"},r.createElement("li",{style:{paddingRight:"1px"},className:"clickable main ".concat(window.location.hash==="#"+t.hash?"active":""," ").concat(n.MARKETPLACE_HASH.replace(/\//g,"-"))},r.createElement("a",{className:"exchange-link",style:d,href:"/home/#"+t.hash,"data-cha-target-name":t.trackingName,"data-cha-location":e.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":t.hash,"data-intent":"ignore"},r.createElement("svg",{className:"navIcon",style:{marginTop:"4px"},width:"14",height:"12",viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M12.7898 0.749023H1.54646V2.15444H12.7898V0.749023ZM13.4925 7.77609V6.37068L12.7898 2.85714H1.54646L0.84375 6.37068V7.77609H1.54646V11.9923H8.57353V7.77609H11.3844V11.9923H12.7898V7.77609H13.4925ZM7.16811 10.5869H2.95187V7.77609H7.16811V10.5869Z"})),r.createElement("div",null,"Educator Exchange",r.createElement(ae,null))))):r.createElement("li",{key:o,className:"clickable ".concat(e.isUrlActive(t.hash)?"active":""),style:i?{display:"flex",justifyContent:"space-between",paddingRight:"8px"}:void 0},r.createElement("a",{className:"exchange-link",style:d,href:"/home/#"+t.hash,"data-cha-target-name":t.trackingName,"data-cha-location":e.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":t.hash,"data-intent":"ignore"},t.title),i&&r.createElement("div",{className:"importantTotal"},e.props.unclaimedEarningsCount))})));return r.createElement("div",{className:"ndbNavMenu"},r.createElement("ul",{className:"list-unstyled"},r.createElement("li",{className:"".concat("main"," ").concat("clickable").concat(this.isTabActive(n.HOME_HASH)?" active":""," ").concat(n.HOME_HASH.replace(/\//g,"-")),onClick:function(){return e.changeHash(n.HOME_HASH)},"data-cha-target-name":"home_btn","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":"/home/#/home/"},r.createElement("i",{className:"navIcon chi-home"}),this.props.homepageLabel),i),a,r.createElement("ul",{className:"list-unstyled"},s,!u&&r.createElement("li",{className:"".concat("main"," ").concat("clickable").concat(this.isTabActive(n.LIBRARY_HASH)?" active":""),onClick:function(){return e.changeHash("/library/my-unlocks/")},"data-cha-target-name":"library_btn","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":"/home/#/library/my-unlocks/"},r.createElement("i",{className:"navIcon chi-books"}),"My Library"),this.props.showUpload&&r.createElement("li",{className:"".concat("main"," ").concat("clickable"," isLink").concat(this.isUrlActive(n.UPLOAD_URL)?" active":""),onClick:function(){be(ye.BTN,"Upload"),window.location.href=n.UPLOAD_URL},"data-cha-target-name":"upload_btn","data-cha-location":this.props.chaLocation,"data-cha-action-type":"visit","data-cha-action-target-type":"page","data-cha-action-target-id":"/upload/"},r.createElement("i",{className:"navIcon chi-upload"}),"Upload",p)),h)}}]),n}(g);we.HOME_HASH="/home/",we.LIBRARY_HASH="/library/",we.UNCATEGORIZED_HASH="/library/uncategorized",we.MARKETPLACE_HASH="/educator-exchange/",we.MARKETPLACE_CONTENT_HASH=we.MARKETPLACE_HASH+"content/",we.MARKETPLACE_EARNINGS_HASH=we.MARKETPLACE_HASH+"earnings/",we.MARKETPLACE_SETTINGS_HASH=we.MARKETPLACE_HASH+"settings/",we.MARKETPLACE_SUPPORT_HASH=we.MARKETPLACE_HASH+"support/",we.UPLOAD_URL="/upload/",we.HOME_LABEL_HOME="Home",we.HOME_LABEL_STUDENT_DASHBOARD="Student Dashboard",we.HOME_LABEL_EDUCATOR_DASHBOARD="Educator Dashboard",we.marketplaceTabs=[{title:"Exchange",hash:we.MARKETPLACE_HASH,trackingName:"marketplace_home_link"},{title:"My content",hash:we.MARKETPLACE_CONTENT_HASH,trackingName:"marketplace_content_link"},{title:"My earnings",hash:we.MARKETPLACE_EARNINGS_HASH,trackingName:"marketplace_earnings_link"},{title:"Payment settings",hash:we.MARKETPLACE_SETTINGS_HASH,trackingName:"marketplace_settings_link"},{title:"Support",hash:we.MARKETPLACE_SUPPORT_HASH,trackingName:"marketplace_support_link"}];var Oe=we,Se=window,Ie=(Se.Action,Se.Actions,Se.ApiService),Ce=Se.Beef;Se.Dispatcher,Se.RoutingService,Se.Store;function xe(){return Ce.start(),Ce.service(Ie.SERVICE_ID)}var Ae,Re,Pe=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getMyCourses",value:function(){return xe().get("/api/v1/users/me/library/folders/",{})}},{key:"archiveCourse",value:function(e){return xe().post("/api/v1/users/{userId}/library/{folderId}/archive/",{userId:"me",folderId:e.id})}},{key:"unArchiveCourse",value:function(e){return xe().delete("/api/v1/users/{userId}/library/{folderId}/archive/",{userId:"me",folderId:e.id})}}]),e}(),Ne=n(2),Te=n(18),De=function(){function e(){a()(this,e)}return c()(e,null,[{key:"define",value:function(e,t){var n="__CHG_"+e;return void 0!==window[n]?window[n]:window[n]=t()}}]),e}(),ke=De.define("RECEIVE_COURSES",function(){return Ne.Actions.define("RECEIVE_COURSES",function(e){return e})}),je=De.define("ADD_COURSE",function(){return Ne.Actions.define("ADD_COURSE",function(e){return e.isNew=!0,e})}),Ue=De.define("TOGGLE_ARCHIVE_COURSE",function(){return Ne.Actions.define("TOGGLE_ARCHIVE_COURSE",function(e){return e})}),Me=De.define("REMOVE_COURSE",function(){return Ne.Actions.define("REMOVE_COURSE",function(e){return e})});!function(e){e.ACCEPTED="accepted",e.DENIED="denied",e.RETAG_REQUIRED="retagRequired",e.UNDER_REVIEW="underReview",e.RETITLE_REQUIRED="retitleRequired",e.PROCESSING="processing"}(Ae||(Ae={})),function(e){e.GENERIC="generic",e.COPYRIGHT="copyright",e.PAGE_LENGTH="pageLength",e.SCAN_QUALITY="scanQuality",e.SPLIT_DOCS="splitDocs",e.DUPLICATE="duplicate"}(Re||(Re={}));Ae.ACCEPTED,Ae.ACCEPTED,Ae.DENIED,Ae.DENIED,Ae.DENIED,Ae.DENIED,Ae.RETAG_REQUIRED,Ae.RETITLE_REQUIRED;var He,Le,Be,Fe,ze,We={1:Ae.PROCESSING,18:Ae.ACCEPTED,19:Ae.ACCEPTED,2:Ae.DENIED,7:Ae.DENIED,8:Ae.DENIED,20:Ae.DENIED,23:Ae.DENIED},Ve={201:Re.GENERIC,202:Re.COPYRIGHT,203:Re.PAGE_LENGTH,204:Re.SCAN_QUALITY,205:Re.SPLIT_DOCS,206:Re.DUPLICATE,207:Ae.DENIED,209:Ae.DENIED,210:Ae.DENIED},Ke=(Ae.PROCESSING,Ae.PROCESSING,Ae.PROCESSING,Ae.PROCESSING,Ae.PROCESSING,Ae.PROCESSING,Ae.PROCESSING,Ae.PROCESSING,Ae.PROCESSING,{accepted:{status:"Processed",className:"isSuccess"},denied:{status:"Denied",className:"isError"},generic:{status:"Denied: Generic",className:"isError"},copyright:{status:"Denied: Copyright",className:"isError"},pageLength:{status:"Denied: Page Length",className:"isError"},scanQuality:{status:"Denied: Scan Quality",className:"isError"},splitDocs:{status:"Denied: Split Docs",className:"isError"},duplicate:{status:"Denied: Duplicate",className:"isError"},retagRequired:{status:"Retag Required",className:"isWarning"},retitleRequired:{status:"Retitle Required",className:"isWarning"},underReview:{status:"Processing",className:"isWarning"}}),$e=n(3),Ge=n.n($e),qe=n(4),Ye=n.n(qe),Qe=(n(15),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,e),Object.assign(this,t)});function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Je,Ze,et,tt,nt,rt,ot,it,at,st=(He=Ne.Schema.string(),ze=Fe=function(e){p()(n,e);var t=Xe(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"num",Be,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),Fe.schema={},Le=ze,Be=Ye()(Le.prototype,"num",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le);function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ut,lt,ft,pt,dt,ht,mt,yt,vt,gt,bt,_t,Et,wt,Ot,St,It,Ct,xt,At=(Je=Ne.Schema.string(),Ze=Ne.Schema.string(),et=Ne.Schema.int(),at=it=function(e){p()(n,e);var t=ct(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"title",nt,l()(e)),Ge()(e,"url",rt,l()(e)),Ge()(e,"count",ot,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),it.schema={},tt=at,nt=Ye()(tt.prototype,"title",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rt=Ye()(tt.prototype,"url",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=Ye()(tt.prototype,"count",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt);function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Pt,Nt,Tt,Dt,kt,jt,Ut,Mt=(ut=Ne.Schema.int(),lt=Ne.Schema.string(),ft=Ne.Schema.string(),pt=Ne.Schema.string(),dt=Ne.Schema.string(),ht=Ne.Schema.string(),mt=Ne.Schema.string(),yt=Ne.Schema.int(),xt=Ct=function(e){p()(n,e);var t=Rt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"textbook_id",gt,l()(e)),Ge()(e,"title",bt,l()(e)),Ge()(e,"author",_t,l()(e)),Ge()(e,"cover_url",Et,l()(e)),Ge()(e,"edition_name",wt,l()(e)),Ge()(e,"isbn",Ot,l()(e)),Ge()(e,"publisher",St,l()(e)),Ge()(e,"num_solutions",It,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),Ct.schema={},vt=xt,gt=Ye()(vt.prototype,"textbook_id",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt=Ye()(vt.prototype,"title",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=Ye()(vt.prototype,"author",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=Ye()(vt.prototype,"cover_url",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt=Ye()(vt.prototype,"edition_name",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=Ye()(vt.prototype,"isbn",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=Ye()(vt.prototype,"publisher",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=Ye()(vt.prototype,"num_solutions",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt);function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Lt,Bt,Ft,zt,Wt,Vt=(Pt=Ne.Schema.string(),Nt=Ne.Schema.string(),Ut=jt=function(e){p()(n,e);var t=Ht(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"title",Dt,l()(e)),Ge()(e,"num",kt,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),jt.schema={},Tt=Ut,Dt=Ye()(Tt.prototype,"title",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kt=Ye()(Tt.prototype,"num",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt);function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var $t,Gt,qt,Yt,Qt,Xt,Jt,Zt,en,tn,nn,rn,on,an,sn,cn,un,ln,fn,pn,dn,hn=(Lt=Ne.Schema.string(),Wt=zt=function(e){p()(n,e);var t=Kt(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"title",Ft,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),zt.schema={},Bt=Wt,Ft=Ye()(Bt.prototype,"title",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bt);function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var yn,vn,gn,bn,_n,En,wn,On,Sn,In,Cn,xn,An,Rn,Pn,Nn,Tn,Dn,kn,jn,Un,Mn,Hn,Ln,Bn,Fn,zn,Wn,Vn,Kn,$n,Gn,qn,Yn,Qn,Xn,Jn,Zn,er,tr,nr,rr,or,ir,ar,sr=($t=Ne.Schema.object({initial:function(){return{}},schema:function(){return Mt.schema},constructor:Mt}),Gt=Ne.Schema.int(),qt=Ne.Schema.string(),Yt=Ne.Schema.object({initial:function(){return{}},schema:function(){return st.schema},constructor:st}),Qt=Ne.Schema.object({initial:function(){return{}},schema:function(){return Vt.schema},constructor:Vt}),Xt=Ne.Schema.object({initial:function(){return{}},schema:function(){return hn.schema},constructor:hn}),Jt=Ne.Schema.string(),Zt=Ne.Schema.string(),en=Ne.Schema.bool(),dn=pn=function(e){p()(n,e);var t=mn(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"textbook",nn,l()(e)),Ge()(e,"exercise_id",rn,l()(e)),Ge()(e,"url",on,l()(e)),Ge()(e,"chapter",an,l()(e)),Ge()(e,"section",sn,l()(e)),Ge()(e,"heading",cn,l()(e)),Ge()(e,"exercise_num",un,l()(e)),Ge()(e,"page",ln,l()(e)),Ge()(e,"solved",fn,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),pn.schema={},tn=dn,nn=Ye()(tn.prototype,"textbook",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=Ye()(tn.prototype,"exercise_id",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=Ye()(tn.prototype,"url",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=Ye()(tn.prototype,"chapter",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sn=Ye()(tn.prototype,"section",[Qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=Ye()(tn.prototype,"heading",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),un=Ye()(tn.prototype,"exercise_num",[Jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ln=Ye()(tn.prototype,"page",[Zt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fn=Ye()(tn.prototype,"solved",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tn);function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ur,lr=(yn=Ne.Schema.int(),vn=Ne.Schema.string(),gn=Ne.Schema.string(),bn=Ne.Schema.string(),_n=Ne.Schema.int(),En=Ne.Schema.int(),wn=Ne.Schema.string(),On=Ne.Schema.string(),Sn=Ne.Schema.string(),In=Ne.Schema.string(),Cn=Ne.Schema.bool(),xn=Ne.Schema.bool(),An=Ne.Schema.int(),Rn=Ne.Schema.string(),Pn=Ne.Schema.object(),Nn=Ne.Schema.datetime(),Tn=Ne.Schema.string(),Dn=Ne.Schema.string(),kn=Ne.Schema.array({schema:function(){return At.schema},constructor:At}),jn=Ne.Schema.object({schema:function(){return Mt.schema},constructor:Mt}),Un=Ne.Schema.object({schema:function(){return sr.schema},constructor:sr}),ar=ir=function(e){p()(n,e);var t=cr(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"id",Hn,l()(e)),Ge()(e,"type",Ln,l()(e)),Ge()(e,"title",Bn,l()(e)),Ge()(e,"url",Fn,l()(e)),Ge()(e,"folderId",zn,l()(e)),Ge()(e,"bookmarkId",Wn,l()(e)),Ge()(e,"text",Vn,l()(e)),Ge()(e,"thumbnailUrl",Kn,l()(e)),Ge()(e,"thumbnailText",$n,l()(e)),Ge()(e,"thumbnailFallbackUrl",Gn,l()(e)),Ge()(e,"isUserArchived",qn,l()(e)),Ge()(e,"isNew",Yn,l()(e)),Ge()(e,"numViews",Qn,l()(e)),Ge()(e,"status",Xn,l()(e)),Ge()(e,"taxonomy",Jn,l()(e)),Ge()(e,"date",Zn,l()(e)),Ge()(e,"subType",er,l()(e)),Ge()(e,"pendingUserAction",tr,l()(e)),Ge()(e,"courseResourceData",nr,l()(e)),Ge()(e,"textbook",rr,l()(e)),Ge()(e,"textbook_exercise",or,l()(e)),Object.assign(l()(e),r),e}return c()(n,[{key:"getUniqueId",value:function(){return this.type+"-"+this.id}}]),n}(Qe),ir.schema={},Mn=ar,Hn=Ye()(Mn.prototype,"id",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ln=Ye()(Mn.prototype,"type",[vn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bn=Ye()(Mn.prototype,"title",[gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn=Ye()(Mn.prototype,"url",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zn=Ye()(Mn.prototype,"folderId",[_n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wn=Ye()(Mn.prototype,"bookmarkId",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vn=Ye()(Mn.prototype,"text",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kn=Ye()(Mn.prototype,"thumbnailUrl",[On],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$n=Ye()(Mn.prototype,"thumbnailText",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gn=Ye()(Mn.prototype,"thumbnailFallbackUrl",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qn=Ye()(Mn.prototype,"isUserArchived",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yn=Ye()(Mn.prototype,"isNew",[xn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qn=Ye()(Mn.prototype,"numViews",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xn=Ye()(Mn.prototype,"status",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=Ye()(Mn.prototype,"taxonomy",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn=Ye()(Mn.prototype,"date",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er=Ye()(Mn.prototype,"subType",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr=Ye()(Mn.prototype,"pendingUserAction",[Dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nr=Ye()(Mn.prototype,"courseResourceData",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rr=Ye()(Mn.prototype,"textbook",[jn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or=Ye()(Mn.prototype,"textbook_exercise",[Un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mn);!function(e){e.CONVERSION_QUEUE="conversionQueue",e.JOB="job",e.DOCUMENT="document",e.QUESTION="question",e.QA_THREAD="qa_thread",e.FLASHCARD="flashcard",e.FLASHCARDS="flashcards",e.BOOK="book",e.SOCIAL_SHARE="social_share",e.STUDY_GUIDE="study_guide",e.INFOGRAPHIC="infographic",e.EDU_INFOGRAPHIC="edu-infographic",e.BEST_LESSONS="best_lesson",e.PROFILE="profile",e.TUTOR="expert",e.ECOURSE_TYPE="e-course",e.ANSWER="answers",e.COURSE="course",e.COURSE_STUDYGUIDE="course_studyguide",e.LIT_STUDYGUIDE="lit_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.BOOKMARK="bookmark",e.ALL="all",e.TEXTBOOK_EXERCISE="textbook_exercise",e.TEXTBOOK="textbook"}(ur||(ur={}));var fr,pr=ur,dr={BOOK:"book",COURSE:"course",DEPT:"dept",DOCUMENT:"document",DOCUMENT_TEXT:"document-text",DOCUMENT_IOS:"document_ios",ECOURSE:"ecourse",FLASHCARD:"flashcard",QUESTION:"question",SCHOOL:"school",SEARCH:"search",SPLIT:"split",SPLIT_ASSOCIATION:"split_assoc",STANDARDIZED_TEST:"standardized-test",LIT_STUDY_GUIDE:"study-guide",SUBJECT:"subject"},hr=function(){function e(){a()(this,e)}return c()(e,null,[{key:"determineDocumentStatus",value:function(e,t){if(!e)return null;var n=We[e];if(n==Ae.DENIED){if(t)return Ke[Ve[t]]?Ke[Ve[t]]:Ke[Ae.DENIED]}else if(void 0===n)return Ke[Ae.UNDER_REVIEW];return Ke[n]}},{key:"determineDocumentStatusFromStatusString",value:function(e){for(var t in Ke)if(Ke[t].status===e)return Ke[t];return null}}]),e}(),mr={DEFAULT_CONTENT_THUMBNAIL:"/assets/img/default_content_thumbnail.svg",DEFAULT_COURSE_THUMBNAIL:"/assets/img/courses/icons-standardized/Generic_Blue.svg"};!function(e){e.ANSWERED="Solved",e.PENDING="Solution Pending"}(fr||(fr={}));var yr,vr=fr;!function(e){e.DOCUMENT="document",e.QUESTION="question",e.COURSE="course",e.COURSE_STUDY_GUIDE="course_studyguide",e.LIT_STUDY_GUIDE="lit_studyguide",e.COMBINED_STUDY_GUIDE="combined_studyguide",e.STUDYGUIDE_VIDEO="studyguide_video",e.VIDEO="video",e.EDUCATOR_CONTENT="educator_content",e.TEXTBOOK="textbook",e.TEXTBOOK_EXERCISE="textbook_exercise"}(yr||(yr={}));var gr,br,_r,Er,wr,Or,Sr,Ir=yr;function Cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var xr,Ar,Rr,Pr,Nr,Tr,Dr,kr,jr,Ur,Mr,Hr=(gr=Ne.Schema.int(),br=Ne.Schema.string(),Sr=Or=function(e){p()(n,e);var t=Cr(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"subject_id",Er,l()(e)),Ge()(e,"subject_name",wr,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),Or.schema={},_r=Sr,Er=Ye()(_r.prototype,"subject_id",[gr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wr=Ye()(_r.prototype,"subject_name",[br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_r);function Lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Br,Fr,zr,Wr,Vr,Kr,$r,Gr,qr,Yr=(xr=Ne.Schema.int(),Ar=Ne.Schema.string(),Rr=Ne.Schema.string(),Pr=Ne.Schema.string(),Mr=Ur=function(e){p()(n,e);var t=Lr(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"course_id",Tr,l()(e)),Ge()(e,"course_num",Dr,l()(e)),Ge()(e,"course_url",kr,l()(e)),Ge()(e,"course_name",jr,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),Ur.schema={},Nr=Mr,Tr=Ye()(Nr.prototype,"course_id",[xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dr=Ye()(Nr.prototype,"course_num",[Ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kr=Ye()(Nr.prototype,"course_url",[Rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jr=Ye()(Nr.prototype,"course_name",[Pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nr);function Qr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Xr,Jr,Zr,eo,to,no,ro,oo,io,ao=(Br=Ne.Schema.int(),Fr=Ne.Schema.string(),zr=Ne.Schema.string(),qr=Gr=function(e){p()(n,e);var t=Qr(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"dept_id",Vr,l()(e)),Ge()(e,"dept_acro",Kr,l()(e)),Ge()(e,"dept_url",$r,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),Gr.schema={},Wr=qr,Vr=Ye()(Wr.prototype,"dept_id",[Br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kr=Ye()(Wr.prototype,"dept_acro",[Fr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$r=Ye()(Wr.prototype,"dept_url",[zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wr);function so(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var co,uo,lo,fo,po,ho,mo,yo,vo,go,bo,_o=(Xr=Ne.Schema.int(),Jr=Ne.Schema.string(),Zr=Ne.Schema.string(),io=oo=function(e){p()(n,e);var t=so(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"school_id",to,l()(e)),Ge()(e,"school_name",no,l()(e)),Ge()(e,"school_url",ro,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),oo.schema={},eo=io,to=Ye()(eo.prototype,"school_id",[Xr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=Ye()(eo.prototype,"school_name",[Jr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=Ye()(eo.prototype,"school_url",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo);function Eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var wo=(co=Ne.Schema.object({schema:function(){return Yr.schema},constructor:Yr}),uo=Ne.Schema.object({schema:function(){return ao.schema},constructor:ao}),lo=Ne.Schema.object({schema:function(){return _o.schema},constructor:_o}),fo=Ne.Schema.object({schema:function(){return Hr.schema},constructor:Hr}),bo=go=function(e){p()(n,e);var t=Eo(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,n),e=t.call(this,r),Ge()(e,"course",ho,l()(e)),Ge()(e,"department",mo,l()(e)),Ge()(e,"school",yo,l()(e)),Ge()(e,"subject",vo,l()(e)),Object.assign(l()(e),r),e}return n}(Qe),go.schema={},po=bo,ho=Ye()(po.prototype,"course",[co],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mo=Ye()(po.prototype,"department",[uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yo=Ye()(po.prototype,"school",[lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vo=Ye()(po.prototype,"subject",[fo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),po);function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach(function(t){ce()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Io(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Co=function(e){p()(n,e);var t=Io(n);function n(){var e,r;return a()(this,n),(r=t.call(this)).state={courses:[]},Ne.Actions.register((e={},ce()(e,je,r.onAddCourse.bind(l()(r))),ce()(e,ke,r.onReceiveCourses.bind(l()(r))),ce()(e,Ue,r.onToggleArchiveCourse.bind(l()(r))),ce()(e,Me,r.onRemoveCourse.bind(l()(r))),e),l()(r)),r}return c()(n,[{key:"getCourses",value:function(){return this.state.courses}},{key:"sanitizeDocumentArray",value:function(e){var t=this;if(!e||!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var n=[];return e.forEach(function(e){var r;r=t.sanitizeDocument(e),n.push(new lr(t.sanitize(r,lr.schema)))}),{contentArr:n,numContents:n.length}}},{key:"sanitizeUnlockedContent",value:function(e){var t=this;if(!e||!e.unlocked_content||!e.num_unlocks)return{contentArr:[],numContents:0};var n=e.unlocked_content;if(!Array.isArray(n)||0===n.length)return{contentArr:[],numContents:0};var r=[];return n.forEach(function(e){var n={};switch(e.content_type){case pr.QUESTION:n=t.sanitizeUnlockedQuestion(e);break;case pr.DOCUMENT:n=t.sanitizeUnlockedDocument(e);break;default:return}r.push(new lr(t.sanitize(n,lr.schema)))}),{contentArr:r,numContents:parseInt(e.num_unlocks)}}},{key:"sanitizeUploadedContent",value:function(e){var t,n,r=this,o=[];if(!e||!e.uploads||!e.total)return{contentArr:[],numContents:0};var i=e.uploads;return Array.isArray(i)&&0!==i.length?(i.forEach(function(e){t=r.sanitizeDocument(e.doc_info),n=hr.determineDocumentStatus(e.upload_state,e.deny_reason),t=So(So({},t),{},{date:Te(e.doc_date),status:n?n.status:"",isUserArchived:e.is_archived,id:e.jobid,type:pr.CONVERSION_QUEUE,title:e.title}),e.deny_reason&&Ve[e.deny_reason]===Re.COPYRIGHT&&(t.thumbnailUrl="",t.thumbnailText="0"),o.push(r.sanitize(t,lr.schema))}),{contentArr:o,numContents:parseInt(e.total)}):{contentArr:[],numContents:0}}},{key:"sanitizeSearchResponseResults",value:function(e){return e.map(function(e){var t=0,n="",r=null;switch(e.core.type){case Ir.QUESTION:t=e.question.question_id,n=e.question.answered?vr.ANSWERED:vr.PENDING;break;case Ir.DOCUMENT:t=e.document.db_filename;break;case Ir.COURSE:t=e.taxonomy.course.course_id,r=mr.DEFAULT_COURSE_THUMBNAIL;break;case Ir.COURSE_STUDY_GUIDE:t=e.course_studyguide.cms_item_id;break;case Ir.LIT_STUDY_GUIDE:t=e.lit_studyguide.book_section_id;break;case Ir.STUDYGUIDE_VIDEO:t=e.studyguide_video.video_id;break;case Ir.TEXTBOOK:t=e.textbook.textbook_id;break;case Ir.TEXTBOOK_EXERCISE:t=e.textbook_exercise.exercise_id}return new lr({id:t,type:e.core.type,subType:e.document?e.document.type:null,title:e.core.title,url:e.core.url,text:e.core.text,thumbnailUrl:e.thumbnail?e.thumbnail.url:null,thumbnailText:e.thumbnail?e.thumbnail.overlay_text:null,thumbnailFallbackUrl:r,numViews:e.core.views,status:n,taxonomy:e.taxonomy,date:e.core.date,courseResourceData:e.sub_resources,textbook:e.textbook,textbook_exercise:e.textbook_exercise})})}},{key:"sanitizeNewCourse",value:function(e){return new lr({id:e.folder_type_id,folderId:e.library_folder_id,type:pr.COURSE,title:e.name,url:e.folder_url,text:e.subtitle,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}},{key:"sanitizeRecentlyViewedContent",value:function(e){var t=this;if(!Array.isArray(e)||0===e.length)return{contentArr:[],numContents:0};var n=[];return e.forEach(function(e){var r={};switch(e.contentType){case pr.QUESTION:r=t.sanitizeQuestion(e[pr.QUESTION]);break;case pr.DOCUMENT:r=t.sanitizeDocument(e[pr.DOCUMENT]);break;case pr.TEXTBOOK_EXERCISE:r=t.sanitizeTextbookExercise(e[pr.TEXTBOOK_EXERCISE]);break;case dr.LIT_STUDY_GUIDE:var o=e[dr.LIT_STUDY_GUIDE];r={id:e.contentId,type:pr.LIT_STUDYGUIDE,title:o.title,url:o.url,thumbnailUrl:o.thumbnailUrl};break;case pr.BEST_LESSONS:r=t.sanitizeBestLesson(e);break;default:return}r=So(So({},r),{},{date:Te(e.recentDate)}),n.push(new lr(t.sanitize(r,lr.schema)))}),{contentArr:n,numContents:e.length}}},{key:"sanitizeQuestionResults",value:function(e){if(!e||!e.questions||!e.total)return{contentArr:[],numContents:0};var t=e.questions;return Array.isArray(t)&&0!==t.length?{contentArr:t.map(function(e){return new lr({id:e.question_id,type:pr.QUESTION,title:e.question,url:"/qa_redirect.php?question_id="+e.question_id,thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,status:e.derived_question_status,taxonomy:new wo({subject:new Hr({subject_id:e.category.category_id,subject_name:e.category.subject})}),isUserArchived:e.is_user_archived,date:Te(e.deadline),pendingUserAction:e.pending_user_action})}),numContents:parseInt(e.total)}:{contentArr:[],numContents:0}}},{key:"sanitizeBookmarkedContent",value:function(e){var t=this;if(!e||!e.documents||!Array.isArray(e.documents)||0===e.documents.length)return{contentArr:[],numContents:0};var n=[];return e.documents.forEach(function(e){var r=So(So({},t.sanitizeDocument(e.document)),{},{date:Te(e.date),type:pr.BOOKMARK,bookmarkId:e.document.bookmark_id,isUserArchived:e.document.is_archived});n.push(t.sanitize(r,lr.schema))}),{contentArr:n,numContents:e.documents.length}}},{key:"sanitizeUnlockedQuestion",value:function(e){var t=e[pr.QUESTION];return(t=this.sanitizeQuestion(t)).isUserArchived=e.is_archived,t.date=Te(e.unlock_date),t}},{key:"sanitizeUnlockedDocument",value:function(e){var t=e[pr.DOCUMENT];return(t=this.sanitizeDocument(t)).isUserArchived=e.is_archived,t.date=Te(e.unlock_date),t}},{key:"sanitizeQuestion",value:function(e){var t={type:pr.QUESTION,id:e.question_id,title:e.question,url:e.resource_url,status:e.derived_question_status,numViews:e.view_count,taxonomy:this.sanitizeContentTaxonomy(e,pr.QUESTION),thumbnailUrl:e.thumbnail_url,thumbnailText:e.thumbnail_overlay_text,pendingUserAction:e.pending_user_action};return this.sanitize(t,lr.schema)}},{key:"sanitizeDocument",value:function(e){var t={type:pr.DOCUMENT,subType:e.type,id:e.db_filename,title:e.title,url:e.resource_url,thumbnailUrl:e.thumbnail_url,thumbnailText:e.meta_data?e.meta_data.page_count:null,text:e.text,numViews:e.views,taxonomy:this.sanitizeContentTaxonomy(e,pr.DOCUMENT),isNew:e.is_new||!1};return this.sanitize(t,lr.schema)}},{key:"sanitizeTextbook",value:function(e){var t={textbook_id:e.textbook_id,title:e.title,author:e.author,edition_name:e.edition_name,isbn:e.isbn,publisher:e.publisher,cover_url:e.cover_url};return this.sanitize(t,Mt.schema)}},{key:"sanitizeTextbookChapter",value:function(e){var t={num:e?e.abbreviation:""};return this.sanitize(t,st.schema)}},{key:"sanitizeTextbookSection",value:function(e){var t={num:e?e.abbreviation:"",title:e?e.title:""};return this.sanitize(t,Vt.schema)}},{key:"sanitizeTextbookHeading",value:function(e){var t={title:e?e.title:""};return this.sanitize(t,hn.schema)}},{key:"sanitizeTextbookExercise",value:function(e){var t=e,n=t.sections[0]||void 0,r=n?n.sections[0]:void 0,o=r?r.sections[0]:void 0,i=o&&o.exercises.length>0?o.exercises[0]:r&&r.exercise.length>0?r.exercises[0]:n&&n.exercises.length>0?n.exercises[0]:void 0;if(i){var a=this.sanitizeTextbook(t),s=this.sanitizeTextbookChapter(n),c=this.sanitizeTextbookSection(r),u=this.sanitizeTextbookHeading(o),l={exercise_id:i.exercise_id,exercise_num:i.identifier,page:i.page,url:i.url,textbook:a,chapter:s,section:c,heading:u,solved:i.solved};l=this.sanitize(l,sr.schema);var f={type:pr.TEXTBOOK_EXERCISE,id:l.exercise_id,title:"Ch ".concat(l.chapter.num,", Sec ").concat(l.section.num,", Ex ").concat(l.exercise_num," - ").concat(l.heading.title),url:l.url,thumbnailUrl:a.cover_url,textbook_exercise:l};return this.sanitize(f,lr.schema)}}},{key:"sanitizeBestLesson",value:function(e){var t={type:pr.BEST_LESSONS,id:e.id,isNew:e.isNew,title:e.title,url:e.url,thumbnailUrl:e.imageUrl};return this.sanitize(t,lr.schema)}},{key:"sanitizeContentTaxonomy",value:function(e,t){var n,r,o,i;switch(t){case pr.QUESTION:e.category&&(n={subject_id:e.category.category_id,subject_name:e.category.subject}),e.course&&(r={school_id:e.course.schoolId,school_name:e.course.schoolName,school_url:e.course.schoolUrl},o={dept_id:e.course.deptId,dept_acro:e.course.dept},i={course_id:e.course.courseId,course_name:e.course.courseName,course_url:e.course.courseUrl,course_num:e.course.courseNum});break;case pr.DOCUMENT:e.subject&&(n={subject_id:e.subject.subject_id,subject_name:e.subject.subject_name}),e.course&&(r={school_id:e.course.school_id,school_name:e.course.school_name,school_url:e.course.school_url},o={dept_id:e.course.dept_id,dept_acro:e.course.dept_acro},i={course_id:e.course.course_id,course_name:e.course.course_name,course_num:e.course.course_num,course_url:e.course.course_url})}return{subject:n,school:r,department:o,course:i}}},{key:"sanitizeCourseResults",value:function(e){return e&&e.rows&&Array.isArray(e.rows)?e.rows.map(function(e){return new lr({id:e.folder_type_id,folderId:e.library_folder_id,type:e.folder_type,title:e.name,text:e.subtitle,url:e.folder_url,date:e.created_on,isUserArchived:e.archived,thumbnailUrl:"/api/v1/courses/"+e.folder_type_id+"/image/"})}):[]}},{key:"onReceiveCourses",value:function(e){var t=this,n=this.nextState();return e.forEach(function(e){t.upsertItem(n.courses,e.getUniqueId(),e)}),n}},{key:"onAddCourse",value:function(e){var t=this.nextState();return this.upsertItem(t.courses,e.getUniqueId(),e),t}},{key:"onToggleArchiveCourse",value:function(e){var t=this.nextState(),n=this.getItem(t.courses,e.getUniqueId());if(!n)throw Error("Course not found in store");return n.isUserArchived=!n.isUserArchived,t}},{key:"onRemoveCourse",value:function(e){var t=this.nextState();return t.courses=t.courses.filter(function(t){return t.getUniqueId()!==e.getUniqueId()}),t}}]),n}(Ne.Store),xo=De.define("ContentStore",function(){return new Co});function Ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Ro=function(e){p()(n,e);var t=Ao(n);function n(e){var r;a()(this,n),r=t.call(this,e);var o=xo.getCourses();return r.state={courses:o?r.sortCourses(o):[],uncategorizedContentCount:0},r.onContentStoreUpdate=r.onContentStoreUpdate.bind(l()(r)),r}return c()(n,[{key:"componentDidMount",value:function(){var e=this;xo.listen(this.onContentStoreUpdate),this.state.courses&&0===this.state.courses.length&&Pe.getMyCourses().then(function(t){t&&(ke(xo.sanitizeCourseResults(t)),e.setState({uncategorizedContentCount:t.metadata.content_count}))})}},{key:"componentWillUnmount",value:function(){xo.ignore(this.onContentStoreUpdate)}},{key:"onContentStoreUpdate",value:function(e){this.setState({courses:this.sortCourses(e.courses)})}},{key:"sortCourses",value:function(e){return e.sort(function(e,t){return e.date>t.date?-1:1})}},{key:"render",value:function(){var e=this.state,t=e.courses,n=e.uncategorizedContentCount,o=this.props.isEducator,i=Oe.HOME_LABEL_HOME;return this.props.canUserAccessQADashboard&&(i=o?Oe.HOME_LABEL_EDUCATOR_DASHBOARD:Oe.HOME_LABEL_STUDENT_DASHBOARD),r.createElement(Oe,{hasAccessToEducatorExchange:this.props.hasAccessToEducatorExchange,homepageLabel:i,homepageUrlPath:"/home/",courses:t,chaLocation:"header_left",showUploadTooltip:!1,showUpload:!0,isEducator:o,uncategorizedContentCount:n,coursesToHideTaxonomyLink:this.props.coursesToHideTaxonomyLink})}}]),n}(g);[].slice.call(document.getElementsByClassName("ch_dashboardNavbar")).forEach(function(e){var t,n=!!e.dataset.canAccessQaDashboard,i=!!e.dataset.isEducator,a=JSON.parse(e.dataset.coursesToHideTaxonomyLink);o.render(r.createElement(Ro,{canUserAccessQADashboard:n,isEducator:i,coursesToHideTaxonomyLink:a,hasAccessToEducatorExchange:!!(null===(t=window.__CH_PERSON)||void 0===t?void 0:t.hasAccessToEducatorExchange)}),e)})},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.r(t),n.d(t,"resetIdCounter",function(){return w}),n.d(t,"useSelect",function(){return ke});var a=n(7),s=n.n(a),c=n(0);n(30);function u(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function l(e,t){return(!t||"hidden"!==e)&&("visible"!==e&&"clip"!==e)}function f(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return l(n.overflowY,t)||l(n.overflowX,t)}return!1}function p(e,t,n,r,o,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=n||a>=t&&s>=n?i-e-r:a>t&&s<n||i<e&&s>n?a-t+o:0}var d=function(e,t){var n=t.scrollMode,r=t.block,o=t.inline,i=t.boundary,a=t.skipOverflowHiddenElements,s="function"==typeof i?i:function(e){return e!==i};if(!u(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],d=e;u(d)&&s(d);){if((d=d.parentNode)===c){l.push(d);break}d===document.body&&f(d)&&!f(document.documentElement)||f(d,a)&&l.push(d)}for(var h=window.visualViewport?visualViewport.width:innerWidth,m=window.visualViewport?visualViewport.height:innerHeight,y=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,g=e.getBoundingClientRect(),b=g.height,_=g.width,E=g.top,w=g.right,O=g.bottom,S=g.left,I="start"===r||"nearest"===r?E:"end"===r?O:E+b/2,C="center"===o?S+_/2:"end"===o?w:S,x=[],A=0;A<l.length;A++){var R=l[A],P=R.getBoundingClientRect(),N=P.height,T=P.width,D=P.top,k=P.right,j=P.bottom,U=P.left;if("if-needed"===n&&E>=0&&S>=0&&O<=m&&w<=h&&E>=D&&O<=j&&S>=U&&w<=k)return x;var M=getComputedStyle(R),H=parseInt(M.borderLeftWidth,10),L=parseInt(M.borderTopWidth,10),B=parseInt(M.borderRightWidth,10),F=parseInt(M.borderBottomWidth,10),z=0,W=0,V="offsetWidth"in R?R.offsetWidth-R.clientWidth-H-B:0,K="offsetHeight"in R?R.offsetHeight-R.clientHeight-L-F:0;if(c===R)z="start"===r?I:"end"===r?I-m:"nearest"===r?p(v,v+m,m,L,F,v+I,v+I+b,b):I-m/2,W="start"===o?C:"center"===o?C-h/2:"end"===o?C-h:p(y,y+h,h,H,B,y+C,y+C+_,_),z=Math.max(0,z+v),W=Math.max(0,W+y);else{z="start"===r?I-D-L:"end"===r?I-j+F+K:"nearest"===r?p(D,j,N,L,F+K,I,I+b,b):I-(D+N/2)+K/2,W="start"===o?C-U-H:"center"===o?C-(U+T/2)+V/2:"end"===o?C-k+B+V:p(U,k,T,H,B+V,C,C+_,_);var $=R.scrollLeft,G=R.scrollTop;I+=G-(z=Math.max(0,Math.min(G+z,R.scrollHeight-N+K))),C+=$-(W=Math.max(0,Math.min($+W,R.scrollWidth-T+V)))}x.push({el:R,top:z,left:W})}return x},h=0;function m(e){return"function"==typeof e?e:y}function y(){}function v(e,t){null!==e&&d(e,{boundary:t,block:"nearest",scrollMode:"if-needed"}).forEach(function(e){var t=e.el,n=e.top,r=e.left;t.scrollTop=n,t.scrollLeft=r})}function g(e,t){return e===t||e.contains&&e.contains(t)}function b(e,t){var n;function r(){n&&clearTimeout(n)}function o(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];r(),n=setTimeout(function(){n=null,e.apply(void 0,i)},t)}return o.cancel=r,o}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some(function(t){return t&&t.apply(void 0,[e].concat(r)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault})}}function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach(function(t){"function"==typeof t?t(e):t&&(t.current=e)})}}function w(){h=0}function O(e){var t=e.isOpen,n=e.selectedItem,r=e.resultCount,o=e.previousResultCount,i=e.itemToString;return t?r?r!==o?r+" result"+(1===r?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":n?i(n):""}function S(e,t){return!(e=Array.isArray(e)?e[0]:e)&&t?t:e}function I(e){return"string"==typeof e.type}function C(e){return e.props}var x=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function A(e){void 0===e&&(e={});var t={};return x.forEach(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function R(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function P(e,t,n){var r=n-1;("number"!=typeof t||t<0||t>=n)&&(t=e>0?-1:r+1);var o=t+e;return o<0?o=r:o>r&&(o=0),o}var N=b(function(){D().textContent=""},500);function T(e,t){var n=D(t);e&&(n.textContent=e,N())}function D(e){void 0===e&&(e=document);var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var k=0,j=2,U=3,M=4,H=5,L=6,B=7,F=8,z=9,W=10,V=11,K=12,$=13,G=14,q=Object.freeze({__proto__:null,unknown:k,mouseUp:1,itemMouseEnter:j,keyDownArrowUp:U,keyDownArrowDown:M,keyDownEscape:H,keyDownEnter:L,keyDownHome:B,keyDownEnd:F,clickItem:z,blurInput:W,changeInput:V,keyDownSpaceButton:K,clickButton:$,blurButton:G,controlledPropUpdatedSelectedItem:15,touchEnd:16}),Y=function(){var e=function(e){var t,n;function a(t){var n=e.call(this,t)||this;n.id=n.props.id||"downshift-"+String(h++),n.menuId=n.props.menuId||n.id+"-menu",n.labelId=n.props.labelId||n.id+"-label",n.inputId=n.props.inputId||n.id+"-input",n.getItemId=n.props.getItemId||function(e){return n.id+"-item-"+e},n.input=null,n.items=[],n.itemCount=null,n.previousResultCount=0,n.timeoutIds=[],n.internalSetTimeout=function(e,t){var r=setTimeout(function(){n.timeoutIds=n.timeoutIds.filter(function(e){return e!==r}),e()},t);n.timeoutIds.push(r)},n.setItemCount=function(e){n.itemCount=e},n.unsetItemCount=function(){n.itemCount=null},n.setHighlightedIndex=function(e,t){void 0===e&&(e=n.props.defaultHighlightedIndex),void 0===t&&(t={}),t=A(t),n.internalSetState(o({highlightedIndex:e},t))},n.clearSelection=function(e){n.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:n.props.defaultHighlightedIndex,isOpen:n.props.defaultIsOpen},e)},n.selectItem=function(e,t,r){t=A(t),n.internalSetState(o({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,selectedItem:e,inputValue:n.props.itemToString(e)},t),r)},n.selectItemAtIndex=function(e,t,r){var o=n.items[e];null!=o&&n.selectItem(o,t,r)},n.selectHighlightedItem=function(e,t){return n.selectItemAtIndex(n.getState().highlightedIndex,e,t)},n.internalSetState=function(e,t){var r,i,a={},s="function"==typeof e;return!s&&e.hasOwnProperty("inputValue")&&n.props.onInputValueChange(e.inputValue,o({},n.getStateAndHelpers(),{},e)),n.setState(function(t){t=n.getState(t);var c=s?e(t):e;c=n.props.stateReducer(t,c),r=c.hasOwnProperty("selectedItem");var u={},l={};return r&&c.selectedItem!==t.selectedItem&&(i=c.selectedItem),c.type=c.type||k,Object.keys(c).forEach(function(e){t[e]!==c[e]&&(a[e]=c[e]),"type"!==e&&(l[e]=c[e],n.isControlledProp(e)||(u[e]=c[e]))}),s&&c.hasOwnProperty("inputValue")&&n.props.onInputValueChange(c.inputValue,o({},n.getStateAndHelpers(),{},c)),u},function(){m(t)(),Object.keys(a).length>1&&n.props.onStateChange(a,n.getStateAndHelpers()),r&&n.props.onSelect(e.selectedItem,n.getStateAndHelpers()),void 0!==i&&n.props.onChange(i,n.getStateAndHelpers()),n.props.onUserAction(a,n.getStateAndHelpers())})},n.rootRef=function(e){return n._rootNode=e},n.getRootProps=function(e,t){var i,a=void 0===e?{}:e,s=a.refKey,c=void 0===s?"ref":s,u=a.ref,l=r(a,["refKey","ref"]),f=(void 0===t?{}:t).suppressRefError,p=void 0!==f&&f;n.getRootProps.called=!0,n.getRootProps.refKey=c,n.getRootProps.suppressRefError=p;var d=n.getState().isOpen;return o(((i={})[c]=E(u,n.rootRef),i.role="combobox",i["aria-expanded"]=d,i["aria-haspopup"]="listbox",i["aria-owns"]=d?n.menuId:null,i["aria-labelledby"]=n.labelId,i),l)},n.keyDownHandlers={ArrowDown:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?5:1;this.moveHighlightedIndex(n,{type:M})}else this.internalSetState({isOpen:!0,type:M},function(){var e=t.getItemCount();e>0&&t.setHighlightedIndex(P(1,t.getState().highlightedIndex,e),{type:M})})},ArrowUp:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?-5:-1;this.moveHighlightedIndex(n,{type:U})}else this.internalSetState({isOpen:!0,type:U},function(){var e=t.getItemCount();e>0&&t.setHighlightedIndex(P(-1,t.getState().highlightedIndex,e),{type:M})})},Enter:function(e){var t=this.getState(),n=t.isOpen,r=t.highlightedIndex;if(n&&null!=r){e.preventDefault();var o=this.items[r],i=this.getItemNodeFromIndex(r);if(null==o||i&&i.hasAttribute("disabled"))return;this.selectHighlightedItem({type:L})}},Escape:function(e){e.preventDefault(),this.reset({type:H,selectedItem:null,inputValue:""})}},n.buttonKeyDownHandlers=o({},n.keyDownHandlers,{" ":function(e){e.preventDefault(),this.toggleMenu({type:K})}}),n.inputKeyDownHandlers=o({},n.keyDownHandlers,{Home:function(e){this.highlightFirstOrLastIndex(e,!0,{type:B})},End:function(e){this.highlightFirstOrLastIndex(e,!1,{type:F})}}),n.getToggleButtonProps=function(e){var t=void 0===e?{}:e,i=t.onClick,a=(t.onPress,t.onKeyDown),s=t.onKeyUp,c=t.onBlur,u=r(t,["onClick","onPress","onKeyDown","onKeyUp","onBlur"]),l=n.getState().isOpen,f={onClick:_(i,n.buttonHandleClick),onKeyDown:_(a,n.buttonHandleKeyDown),onKeyUp:_(s,n.buttonHandleKeyUp),onBlur:_(c,n.buttonHandleBlur)};return o({type:"button",role:"button","aria-label":l?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},u.disabled?{}:f,{},u)},n.buttonHandleKeyUp=function(e){e.preventDefault()},n.buttonHandleKeyDown=function(e){var t=R(e);n.buttonKeyDownHandlers[t]&&n.buttonKeyDownHandlers[t].call(i(n),e)},n.buttonHandleClick=function(e){e.preventDefault(),n.props.environment.document.activeElement===n.props.environment.document.body&&e.target.focus(),n.internalSetTimeout(function(){return n.toggleMenu({type:$})})},n.buttonHandleBlur=function(e){var t=e.target;n.internalSetTimeout(function(){n.isMouseDown||null!=n.props.environment.document.activeElement&&n.props.environment.document.activeElement.id===n.inputId||n.props.environment.document.activeElement===t||n.reset({type:G})})},n.getLabelProps=function(e){return o({htmlFor:n.inputId,id:n.labelId},e)},n.getInputProps=function(e){var t=void 0===e?{}:e,i=t.onKeyDown,a=t.onBlur,s=t.onChange,c=t.onInput,u=(t.onChangeText,r(t,["onKeyDown","onBlur","onChange","onInput","onChangeText"])),l={};var f,p=n.getState(),d=p.inputValue,h=p.isOpen,m=p.highlightedIndex;u.disabled||((f={}).onChange=_(s,c,n.inputHandleChange),f.onKeyDown=_(i,n.inputHandleKeyDown),f.onBlur=_(a,n.inputHandleBlur),l=f);return o({"aria-autocomplete":"list","aria-activedescendant":h&&"number"==typeof m&&m>=0?n.getItemId(m):null,"aria-controls":h?n.menuId:null,"aria-labelledby":n.labelId,autoComplete:"off",value:d,id:n.inputId},l,{},u)},n.inputHandleKeyDown=function(e){var t=R(e);t&&n.inputKeyDownHandlers[t]&&n.inputKeyDownHandlers[t].call(i(n),e)},n.inputHandleChange=function(e){n.internalSetState({type:V,isOpen:!0,inputValue:e.target.value,highlightedIndex:n.props.defaultHighlightedIndex})},n.inputHandleBlur=function(){n.internalSetTimeout(function(){var e=n.props.environment.document&&!!n.props.environment.document.activeElement&&!!n.props.environment.document.activeElement.dataset&&n.props.environment.document.activeElement.dataset.toggle&&n._rootNode&&n._rootNode.contains(n.props.environment.document.activeElement);n.isMouseDown||e||n.reset({type:W})})},n.menuRef=function(e){n._menuNode=e},n.getMenuProps=function(e,t){var i,a=void 0===e?{}:e,s=a.refKey,c=void 0===s?"ref":s,u=a.ref,l=r(a,["refKey","ref"]),f=(void 0===t?{}:t).suppressRefError,p=void 0!==f&&f;return n.getMenuProps.called=!0,n.getMenuProps.refKey=c,n.getMenuProps.suppressRefError=p,o(((i={})[c]=E(u,n.menuRef),i.role="listbox",i["aria-labelledby"]=l&&l["aria-label"]?null:n.labelId,i.id=n.menuId,i),l)},n.getItemProps=function(e){var t,i=void 0===e?{}:e,a=i.onMouseMove,s=i.onMouseDown,c=i.onClick,u=(i.onPress,i.index),l=i.item,f=void 0===l?void 0:l,p=r(i,["onMouseMove","onMouseDown","onClick","onPress","index","item"]);void 0===u?(n.items.push(f),u=n.items.indexOf(f)):n.items[u]=f;var d=c,h=((t={onMouseMove:_(a,function(){u!==n.getState().highlightedIndex&&(n.setHighlightedIndex(u,{type:j}),n.avoidScrolling=!0,n.internalSetTimeout(function(){return n.avoidScrolling=!1},250))}),onMouseDown:_(s,function(e){e.preventDefault()})}).onClick=_(d,function(){n.selectItemAtIndex(u,{type:z})}),t),m=p.disabled?{onMouseDown:h.onMouseDown}:h;return o({id:n.getItemId(u),role:"option","aria-selected":n.getState().highlightedIndex===u},m,{},p)},n.clearItems=function(){n.items=[]},n.reset=function(e,t){void 0===e&&(e={}),e=A(e),n.internalSetState(function(t){var r=t.selectedItem;return o({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,inputValue:n.props.itemToString(r)},e)},t)},n.toggleMenu=function(e,t){void 0===e&&(e={}),e=A(e),n.internalSetState(function(t){var r=t.isOpen;return o({isOpen:!r},r&&{highlightedIndex:n.props.defaultHighlightedIndex},{},e)},function(){var r=n.getState(),o=r.isOpen,i=r.highlightedIndex;o&&n.getItemCount()>0&&"number"==typeof i&&n.setHighlightedIndex(i,e),m(t)()})},n.openMenu=function(e){n.internalSetState({isOpen:!0},e)},n.closeMenu=function(e){n.internalSetState({isOpen:!1},e)},n.updateStatus=b(function(){var e=n.getState(),t=n.items[e.highlightedIndex],r=n.getItemCount(),i=n.props.getA11yStatusMessage(o({itemToString:n.props.itemToString,previousResultCount:n.previousResultCount,resultCount:r,highlightedItem:t},e));n.previousResultCount=r,T(i,n.props.environment.document)},200);var a=n.props,s=a.defaultHighlightedIndex,c=a.initialHighlightedIndex,u=void 0===c?s:c,l=a.defaultIsOpen,f=a.initialIsOpen,p=void 0===f?l:f,d=a.initialInputValue,y=void 0===d?"":d,v=a.initialSelectedItem,g=void 0===v?null:v,w=n.getState({highlightedIndex:u,isOpen:p,inputValue:y,selectedItem:g});return null!=w.selectedItem&&void 0===n.props.initialInputValue&&(w.inputValue=n.props.itemToString(w.selectedItem)),n.state=w,n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.internalClearTimeouts=function(){this.timeoutIds.forEach(function(e){clearTimeout(e)}),this.timeoutIds=[]},s.getState=function(e){var t=this;return void 0===e&&(e=this.state),Object.keys(e).reduce(function(n,r){return n[r]=t.isControlledProp(r)?t.props[r]:e[r],n},{})},s.isControlledProp=function(e){return void 0!==this.props[e]},s.getItemCount=function(){var e=this.items.length;return null!=this.itemCount?e=this.itemCount:void 0!==this.props.itemCount&&(e=this.props.itemCount),e},s.getItemNodeFromIndex=function(e){return this.props.environment.document.getElementById(this.getItemId(e))},s.scrollHighlightedItemIntoView=function(){var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)},s.moveHighlightedIndex=function(e,t){var n=this.getItemCount();if(n>0){var r=P(e,this.getState().highlightedIndex,n);this.setHighlightedIndex(r,t)}},s.highlightFirstOrLastIndex=function(e,t,n){var r=this.getItemCount()-1;r<0||!this.getState().isOpen||(e.preventDefault(),this.setHighlightedIndex(t?0:r,n))},s.getStateAndHelpers=function(){var e=this.getState(),t=e.highlightedIndex,n=e.inputValue,r=e.selectedItem,o=e.isOpen,i=this.props.itemToString,a=this.id,s=this.getRootProps,c=this.getToggleButtonProps,u=this.getLabelProps,l=this.getMenuProps,f=this.getInputProps,p=this.getItemProps,d=this.openMenu,h=this.closeMenu,m=this.toggleMenu,y=this.selectItem,v=this.selectItemAtIndex,g=this.selectHighlightedItem,b=this.setHighlightedIndex,_=this.clearSelection,E=this.clearItems;return{getRootProps:s,getToggleButtonProps:c,getLabelProps:u,getMenuProps:l,getInputProps:f,getItemProps:p,reset:this.reset,openMenu:d,closeMenu:h,toggleMenu:m,selectItem:y,selectItemAtIndex:v,selectHighlightedItem:g,setHighlightedIndex:b,clearSelection:_,clearItems:E,setItemCount:this.setItemCount,unsetItemCount:this.unsetItemCount,setState:this.internalSetState,itemToString:i,id:a,highlightedIndex:t,inputValue:n,isOpen:o,selectedItem:r}},s.componentDidMount=function(){var e=this;var t=function(t,n){void 0===n&&(n=!0);var r=e.props.environment.document;return[e._rootNode,e._menuNode].some(function(e){return e&&(g(e,t)||n&&g(e,r.activeElement))})},n=function(){e.isMouseDown=!0},r=function(n){e.isMouseDown=!1,!t(n.target)&&e.getState().isOpen&&e.reset({type:1},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},o=function(){e.isTouchMove=!1},i=function(){e.isTouchMove=!0},a=function(n){var r=t(n.target,!1);e.isTouchMove||r||!e.getState().isOpen||e.reset({type:16},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},s=this.props.environment;s.addEventListener("mousedown",n),s.addEventListener("mouseup",r),s.addEventListener("touchstart",o),s.addEventListener("touchmove",i),s.addEventListener("touchend",a),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),s.removeEventListener("mousedown",n),s.removeEventListener("mouseup",r),s.removeEventListener("touchstart",o),s.removeEventListener("touchmove",i),s.removeEventListener("touchend",a)}},s.shouldScroll=function(e,t){var n=(void 0===this.props.highlightedIndex?this.getState():this.props).highlightedIndex,r=(void 0===t.highlightedIndex?e:t).highlightedIndex;return n&&this.getState().isOpen&&!e.isOpen||n!==r},s.componentDidUpdate=function(e,t){this.isControlledProp("selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:15,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},s.componentWillUnmount=function(){this.cleanup()},s.render=function(){var e=S(this.props.children,y);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var t=S(e(this.getStateAndHelpers()));return t?this.getRootProps.called||this.props.suppressRefError?t:I(t)?Object(c.cloneElement)(t,this.getRootProps(C(t))):void 0:null},a}(c.Component);return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:O,itemToString:function(e){return null==e?"":String(e)},onStateChange:y,onInputValueChange:y,onUserAction:y,onChange:y,onSelect:y,onOuterClick:y,selectedItemChanged:function(e,t){return e!==t},environment:"undefined"==typeof window?{}:window,stateReducer:function(e,t){return t},suppressRefError:!1,scrollIntoView:v},e.stateChangeTypes=q,e}();function Q(e,t,n,r){if(-1===t)return e>0?0:n-1;var o=t+e;return o<0?r?n-1:0:o>=n?r?0:n-1:o}function X(e,t,n,r){var o,i=n.map(function(e){return r(e).toLowerCase()}),a=t+1;return(o=i.slice(a).findIndex(function(t){return t.startsWith(e)}))>-1?o+a:i.slice(0,a).findIndex(function(t){return t.startsWith(e)})}function J(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=r in t?t[r]:e[r],n},{})}function Z(e){return/^\S{1}$/.test(e)}function ee(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function te(e,t,n){Object.keys(t).forEach(function(r){!function(e,t,n,r){var o="on"+ee(e)+"Change";t[o]&&void 0!==r[e]&&r[e]!==n[e]&&t[o](r)}(r,e,t,n)}),e.onStateChange&&void 0!==n&&e.onStateChange(n)}var ne=0,re=function(){return++ne};function oe(){var e=Object(c.useState)(null),t=e[0],n=e[1];return Object(c.useEffect)(function(){return n(re())},[]),t}var ie={highlightedIndex:-1,isOpen:!1,selectedItem:null};function ae(e,t,n){var r=e.items,o=e.initialHighlightedIndex,i=e.defaultHighlightedIndex,a=t.selectedItem,s=t.highlightedIndex;return void 0!==o&&s>-1?o:void 0!==i?i:a?0===n?r.indexOf(a):Q(n,r.indexOf(a),r.length,!1):0===n?-1:n<0?r.length-1:0}function se(e,t){var n="default"+ee(t);return n in e?e[n]:ie[t]}function ce(e,t){if(t in e)return e[t];var n="initial"+ee(t);return n in e?e[n]:se(e,t)}s.a.array.isRequired,s.a.func,s.a.func,s.a.func,s.a.bool,s.a.number,s.a.number,s.a.number,s.a.bool,s.a.bool,s.a.bool,s.a.any,s.a.any,s.a.any,s.a.string,s.a.string,s.a.string,s.a.func,s.a.string,s.a.func,s.a.func,s.a.func,s.a.func,s.a.func,s.a.shape({addEventListener:s.a.func,removeEventListener:s.a.func,document:s.a.shape({getElementById:s.a.func,activeElement:s.a.any,body:s.a.any})});var ue=0,le=1,fe=2,pe=3,de=4,he=5,me=6,ye=7,ve=8,ge=9,be=10,_e=11,Ee=12,we=13,Oe=14,Se=15,Ie=16,Ce=17,xe=18,Ae=19,Re=20,Pe=21,Ne=Object.freeze({__proto__:null,MenuKeyDownArrowDown:ue,MenuKeyDownArrowUp:le,MenuKeyDownEscape:fe,MenuKeyDownHome:pe,MenuKeyDownEnd:de,MenuKeyDownEnter:he,MenuKeyDownCharacter:me,MenuBlur:ye,MenuMouseLeave:ve,ItemMouseMove:ge,ItemClick:be,ToggleButtonKeyDownCharacter:_e,ToggleButtonKeyDownArrowDown:Ee,ToggleButtonKeyDownArrowUp:we,ToggleButtonClick:Oe,FunctionToggleMenu:Se,FunctionOpenMenu:Ie,FunctionCloseMenu:Ce,FunctionSetHighlightedIndex:xe,FunctionSelectItem:Ae,FunctionClearKeysSoFar:Re,FunctionReset:Pe});function Te(e,t){var n,r=t.type,i=t.props,a=t.shiftKey;switch(r){case ge:n={highlightedIndex:t.index};break;case be:n={isOpen:se(i,"isOpen"),highlightedIndex:se(i,"highlightedIndex"),selectedItem:i.items[t.index]};break;case ye:n={isOpen:!1,highlightedIndex:-1};break;case ue:n={highlightedIndex:Q(a?5:1,e.highlightedIndex,i.items.length,i.circularNavigation)};break;case le:n={highlightedIndex:Q(a?-5:-1,e.highlightedIndex,i.items.length,i.circularNavigation)};break;case pe:n={highlightedIndex:0};break;case de:n={highlightedIndex:i.items.length-1};break;case fe:n={isOpen:!1,highlightedIndex:-1};break;case he:n=o({isOpen:se(i,"isOpen"),highlightedIndex:se(i,"highlightedIndex")},e.highlightedIndex>=0&&{selectedItem:i.items[e.highlightedIndex]});break;case me:var s=t.key,c=""+e.keysSoFar+s,u=X(c,e.highlightedIndex,i.items,i.itemToString);n=o({keysSoFar:c},u>=0&&{highlightedIndex:u});break;case ve:n={highlightedIndex:-1};break;case _e:var l=t.key,f=""+e.keysSoFar+l,p=X(f,e.selectedItem?i.items.indexOf(e.selectedItem):-1,i.items,i.itemToString);n=o({keysSoFar:f},p>=0&&{selectedItem:i.items[p]});break;case Ee:n={isOpen:!0,highlightedIndex:ae(i,e,1)};break;case we:n={isOpen:!0,highlightedIndex:ae(i,e,-1)};break;case Oe:case Se:n={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:ae(i,e,0)};break;case Ie:n={isOpen:!0,highlightedIndex:ae(i,e,0)};break;case Ce:n={isOpen:!1};break;case xe:n={highlightedIndex:t.highlightedIndex};break;case Ae:n={selectedItem:t.selectedItem};break;case Re:n={keysSoFar:""};break;case Pe:n={highlightedIndex:se(i,"highlightedIndex"),isOpen:se(i,"isOpen"),selectedItem:se(i,"selectedItem")};break;default:throw new Error("Reducer called without proper action type.")}return o({},e,{},n)}var De={itemToString:function(e){return e?String(e):""},stateReducer:function(e,t){return t.changes},getA11yStatusMessage:function(e){var t=e.isOpen,n=e.items;if(!n)return"";var r=n.length;return t?0===r?"No results are available":r+" result"+(1===r?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":""},getA11ySelectionMessage:function(e){var t=e.selectedItem;return(0,e.itemToString)(t)+" has been selected."},scrollIntoView:v,environment:"undefined"==typeof window?{}:window};function ke(e){void 0===e&&(e={});var t=o({},De,{},e),n=t.items,i=t.itemToString,a=t.getA11yStatusMessage,s=t.getA11ySelectionMessage,u=t.initialIsOpen,l=t.defaultIsOpen,f=t.scrollIntoView,p=t.environment,d=function(e,t,n){var r=Object(c.useCallback)(function(t,n){t=J(t,n.props);var r=(0,n.props.stateReducer)(t,o({},n,{changes:e(t,n)}));return te(n.props,t,r),r},[e]),i=Object(c.useReducer)(r,t),a=i[0],s=i[1];return[J(a,n),s]}(Te,function(e){var t=ce(e,"selectedItem"),n=ce(e,"highlightedIndex"),r=ce(e,"isOpen");return{highlightedIndex:n<0&&t?e.items.indexOf(t):n,isOpen:r,selectedItem:t,keysSoFar:""}}(t),t),h=d[0],m=h.isOpen,y=h.highlightedIndex,v=h.selectedItem,g=h.keysSoFar,w=d[1],O=function(e){return w(o({props:t},e))},S=function(e,t){var n=void 0===t?{}:t,r=n.id,o=n.labelId,i=n.menuId,a=n.getItemId,s=n.toggleButtonId,c=void 0===r?"downshift-"+e():r;return{labelId:o||c+"-label",menuId:i||c+"-menu",getItemId:a||function(e){return c+"-item-"+e},toggleButtonId:s||c+"-toggle-button"}}(oe,t),I=S.labelId,C=S.getItemId,x=S.menuId,A=S.toggleButtonId,P=Object(c.useRef)(null),N=Object(c.useRef)(null),D=Object(c.useRef)();D.current=[];var k=Object(c.useRef)(!0),j=Object(c.useRef)(!0),U=Object(c.useRef)(null);Object(c.useEffect)(function(){k.current||T(a({isOpen:m,items:n,selectedItem:v,itemToString:i}),p.document)},[m]),Object(c.useEffect)(function(){k.current||T(s({isOpen:m,items:n,selectedItem:v,itemToString:i}),p.document)},[v]),Object(c.useEffect)(function(){k.current&&(U.current=b(function(){O({type:Re})},500)),g&&U.current()},[g]),Object(c.useEffect)(function(){k.current?(u||l||m)&&N.current.focus():m?N.current.focus():p.document.activeElement===N.current&&P.current.focus()},[m]),Object(c.useEffect)(function(){y<0||!m||!D.current.length||(!1===j.current?j.current=!0:f(D.current[y],N.current))},[y]),Object(c.useEffect)(function(){k.current=!1},[]);var M={ArrowDown:function(e){e.preventDefault(),O({type:ue,shiftKey:e.shiftKey})},ArrowUp:function(e){e.preventDefault(),O({type:le,shiftKey:e.shiftKey})},Home:function(e){e.preventDefault(),O({type:pe})},End:function(e){e.preventDefault(),O({type:de})},Escape:function(){O({type:fe})},Enter:function(e){e.preventDefault(),O({type:he})},Tab:function(e){e.shiftKey&&O({type:ye})}},H={ArrowDown:function(e){e.preventDefault(),O({type:Ee})},ArrowUp:function(e){e.preventDefault(),O({type:we})}},L=function(e){var t=R(e);t&&M[t]?M[t](e):Z(t)&&O({type:me,key:t})},B=function(e){(function(e,t){return e.relatedTarget===t||e.nativeEvent&&(t===e.nativeEvent.explicitOriginalTarget||t.contains(e.nativeEvent.explicitOriginalTarget))})(e,P.current)||O({type:ye})},F=function(){O({type:ve})},z=function(){O({type:Oe})},W=function(e){var t=R(e);t&&H[t]?H[t](e):Z(t)&&O({type:_e,key:t})};return{getToggleButtonProps:function(e){var t,n=void 0===e?{}:e,i=n.onClick,a=n.onKeyDown,s=n.refKey,c=void 0===s?"ref":s,u=n.ref,l=r(n,["onClick","onKeyDown","refKey","ref"]),f=o(((t={})[c]=E(u,function(e){P.current=e}),t.id=A,t["aria-haspopup"]="listbox",t["aria-expanded"]=m,t["aria-labelledby"]=I+" "+A,t),l);return l.disabled||(f.onClick=_(i,z),f.onKeyDown=_(a,W)),f},getLabelProps:function(e){return o({id:I,htmlFor:A},e)},getMenuProps:function(e){var t,n=void 0===e?{}:e,i=n.onKeyDown,a=n.onBlur,s=n.onMouseLeave,c=n.refKey,u=void 0===c?"ref":c,l=n.ref,f=r(n,["onKeyDown","onBlur","onMouseLeave","refKey","ref"]);return o(((t={})[u]=E(l,function(e){N.current=e}),t.id=x,t.role="listbox",t["aria-labelledby"]=I,t.tabIndex=-1,t),y>-1&&{"aria-activedescendant":C(y)},{onKeyDown:_(i,L),onBlur:_(a,B),onMouseLeave:_(s,F)},f)},getItemProps:function(e){var t,i=void 0===e?{}:e,a=i.item,s=i.index,c=i.refKey,u=void 0===c?"ref":c,l=i.ref,f=i.onMouseMove,p=i.onClick,d=r(i,["item","index","refKey","ref","onMouseMove","onClick"]),h=function(e,t,n){return void 0!==e?e:0===n.length?-1:n.indexOf(t)}(s,a,n);if(h<0)throw new Error("Pass either item or item index in getItemProps!");var m=o(((t={})[u]=E(l,function(e){e&&D.current.push(e)}),t.role="option",t),h===y&&{"aria-selected":!0},{id:C(h)},d);return d.disabled||(m.onMouseMove=_(f,function(){return function(e){e!==y&&(j.current=!1,O({type:ge,index:e}))}(h)}),m.onClick=_(p,function(){return function(e){O({type:be,index:e})}(h)})),m},toggleMenu:function(){O({type:Se})},openMenu:function(){O({type:Ie})},closeMenu:function(){O({type:Ce})},setHighlightedIndex:function(e){O({type:xe,highlightedIndex:e})},selectItem:function(e){O({type:Ae,selectedItem:e})},reset:function(){O({type:Pe})},highlightedIndex:y,isOpen:m,selectedItem:v}}ke.stateChangeTypes=Ne;t.default=Y},function(e,t,n){"use strict";n.r(t),n.d(t,"Popper",function(){return R}),n.d(t,"placements",function(){return A}),n.d(t,"Manager",function(){return E}),n.d(t,"Reference",function(){return D});var r=n(42),o=n.n(r),i=n(17),a=n.n(i),s=n(1),c=n.n(s),u=n(19),l=n.n(u),f=n(10),p=n.n(f),d=n(43),h=n.n(d),m=n(0),y=n(31),v=n(32),g=n.n(v),b=g()(),_=g()(),E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,p()(c()(t),"referenceNode",void 0),p()(c()(t),"setReferenceNode",function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())}),t}l()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return m.createElement(b.Provider,{value:this.referenceNode},m.createElement(_.Provider,{value:this.setReferenceNode},this.props.children))},t}(m.Component),w=function(e){return Array.isArray(e)?e[0]:e},O=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}},S=function(e,t){if("function"==typeof e)return O(e,t);null!=e&&(e.current=t)},I={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},C={},x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,p()(c()(t),"state",{data:void 0,placement:void 0}),p()(c()(t),"popperInstance",void 0),p()(c()(t),"popperNode",null),p()(c()(t),"arrowNode",null),p()(c()(t),"setPopperNode",function(e){e&&t.popperNode!==e&&(S(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())}),p()(c()(t),"setArrowNode",function(e){t.arrowNode=e}),p()(c()(t),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),p()(c()(t),"getOptions",function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:a()({},t.props.modifiers,{arrow:a()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}}),p()(c()(t),"getPopperStyle",function(){return t.popperNode&&t.state.data?a()({position:t.state.data.offsets.popper.position},t.state.data.styles):I}),p()(c()(t),"getPopperPlacement",function(){return t.state.data?t.state.placement:void 0}),p()(c()(t),"getArrowStyle",function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:C}),p()(c()(t),"getOutOfBoundariesState",function(){return t.state.data?t.state.data.hide:void 0}),p()(c()(t),"destroyPopperInstance",function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)}),p()(c()(t),"updatePopperInstance",function(){t.destroyPopperInstance();var e=c()(t).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new y.a(n,e,t.getOptions()))}),p()(c()(t),"scheduleUpdate",function(){t.popperInstance&&t.popperInstance.scheduleUpdate()}),t}l()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&h()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){S(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return w(this.props.children)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}})},t}(m.Component);p()(x,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});var A=y.a.placements;function R(e){var t=e.referenceElement,n=o()(e,["referenceElement"]);return m.createElement(b.Consumer,null,function(e){return m.createElement(x,a()({referenceElement:void 0!==t?t:e},n))})}var P=n(24),N=n.n(P),T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,p()(c()(t),"refHandler",function(e){S(t.props.innerRef,e),O(t.props.setReferenceNode,e)}),t}l()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){S(this.props.innerRef,null)},n.render=function(){return N()(Boolean(this.props.setReferenceNode),"`Reference` should not be used outside of a `Manager` component."),w(this.props.children)({ref:this.refHandler})},t}(m.Component);function D(e){return m.createElement(_.Consumer,null,function(t){return m.createElement(T,a()({setReferenceNode:t},e))})}}]);if(typeof tracker==="undefined"){var tracker=new MixpanelEventTracking}function documentIsReady(runWhenReady){if(document.readyState==="complete"){runWhenReady()}else{document.addEventListener("DOMContentLoaded",runWhenReady)}}documentIsReady(function(){if(window.amplitudeService&&(window.amplitudeConfig&&window.amplitudeConfig.runAmplitudeDefaultPageViewed)){window.amplitudeService.trackDefaultPageViewed()}var tags=document.querySelectorAll(".ch-header_primary-subnav_list-item > a, .ch_subNav_panel a");for(var i=0;i<tags.length;i++){tags[i].addEventListener("click",function(event){var properties={};properties["Page Url"]=window.location.href;var title=event.target.innerText.trim();if(title){properties["Title"]=title}tracker.track("Click Header Link",properties)})}var headerTags=document.querySelectorAll("header .ch_nav_group a, #ch_headerLogo_action, header .isHamburgerMenu");for(var i=0;i<headerTags.length;i++){headerTags[i].addEventListener("click",function(event){var text=this.innerText.trim();if(!text.length){if(this.firstElementChild.tagName==="IMG"){text=this.firstElementChild.getAttribute("alt")}if(this.classList.contains("isHamburgerMenu")){var status=this.classList.contains("dropdownIsActive")?"opening":"closing";text="hamburger menu - "+status}if(this.querySelector(".ch_profile_container")){text="user avatar"}}if(window.amplitudeService){var actionType=this.dataset.actionType||"Secondary";window.amplitudeService.trackCtaClicked({text:text,xpath:"Header",actionType:actionType,destinationURL:this.href})}})}});
//# sourceMappingURL=https://www.coursehero.com/sym-assets/js/bundle-1e4c627-1e1139e.js.map